/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkrisc_v_graphical_datapath_simulator=self.webpackChunkrisc_v_graphical_datapath_simulator||[]).push([[179],{8240:(t,e,n)=>{"use strict";n.d(e,{fi:()=>x,kZ:()=>w});var i=n(400),r=n(2163),o=n(2057),s=n(2556),a=n(6333),l=n(4063),c=n(7252),u=n(611),d=n(138);function h(t,e,n){void 0===n&&(n=!1);var h,f,p=(0,s.Re)(e),m=(0,s.Re)(e)&&function(t){var e=t.getBoundingClientRect(),n=(0,d.NM)(e.width)/t.offsetWidth||1,i=(0,d.NM)(e.height)/t.offsetHeight||1;return 1!==n||1!==i}(e),g=(0,c.Z)(e),v=(0,i.Z)(t,m),b={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(p||!p&&!n)&&(("body"!==(0,a.Z)(e)||(0,u.Z)(g))&&(b=(h=e)!==(0,o.Z)(h)&&(0,s.Re)(h)?{scrollLeft:(f=h).scrollLeft,scrollTop:f.scrollTop}:(0,r.Z)(h)),(0,s.Re)(e)?((y=(0,i.Z)(e,!0)).x+=e.clientLeft,y.y+=e.clientTop):g&&(y.x=(0,l.Z)(g))),{x:v.left+b.scrollLeft-y.x,y:v.top+b.scrollTop-y.y,width:v.width,height:v.height}}var f=n(583),p=n(3624),m=n(3779),g=n(7701);function v(t){var e=new Map,n=new Set,i=[];function r(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&r(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||r(t)})),i}var b={placement:"bottom",modifiers:[],strategy:"absolute"};function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function w(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,r=e.defaultOptions,o=void 0===r?b:r;return function(t,e,n){void 0===n&&(n=o);var r,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},b,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var r="function"==typeof n?n(l.options):n;w(),l.options=Object.assign({},o,l.options,r),l.scrollParents={reference:(0,s.kK)(t)?(0,p.Z)(t):t.contextElement?(0,p.Z)(t.contextElement):[],popper:(0,p.Z)(e)};var a,u,h=function(t){var e=v(t);return g.xs.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((a=[].concat(i,l.options.modifiers),u=a.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(u).map((function(t){return u[t]}))));return l.orderedModifiers=h.filter((function(t){return t.enabled})),l.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,r=t.effect;if("function"==typeof r){var o=r({state:l,name:e,instance:d,options:i});c.push(o||function(){})}})),d.update()},forceUpdate:function(){if(!u){var t=l.elements,e=t.reference,n=t.popper;if(y(e,n)){l.rects={reference:h(e,(0,m.Z)(n),"fixed"===l.options.strategy),popper:(0,f.Z)(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(t){return l.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var r=l.orderedModifiers[i],o=r.fn,s=r.options,a=void 0===s?{}:s,c=r.name;"function"==typeof o&&(l=o({state:l,options:a,name:c,instance:d})||l)}else l.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(t){d.forceUpdate(),t(l)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(r())}))}))),a}),destroy:function(){w(),u=!0}};if(!y(t,e))return d;function w(){c.forEach((function(t){return t()})),c=[]}return d.setOptions(n).then((function(t){!u&&n.onFirstUpdate&&n.onFirstUpdate(t)})),d}}var x=w()},4985:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(2556);function r(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&(0,i.Zq)(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}},400:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(2556),r=n(138);function o(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),o=1,s=1;if((0,i.Re)(t)&&e){var a=t.offsetHeight,l=t.offsetWidth;l>0&&(o=(0,r.NM)(n.width)/l||1),a>0&&(s=(0,r.NM)(n.height)/a||1)}return{width:n.width/o,height:n.height/s,top:n.top/s,right:n.right/o,bottom:n.bottom/s,left:n.left/o,x:n.left/o,y:n.top/s}}},3062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(2057);function r(t){return(0,i.Z)(t).getComputedStyle(t)}},7252:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(2556);function r(t){return(((0,i.kK)(t)?t.ownerDocument:t.document)||window.document).documentElement}},583:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(400);function r(t){var e=(0,i.Z)(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}},6333:(t,e,n)=>{"use strict";function i(t){return t?(t.nodeName||"").toLowerCase():null}n.d(e,{Z:()=>i})},3779:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(2057),r=n(6333),o=n(3062),s=n(2556);function a(t){return["table","td","th"].indexOf((0,r.Z)(t))>=0}var l=n(5923);function c(t){return(0,s.Re)(t)&&"fixed"!==(0,o.Z)(t).position?t.offsetParent:null}function u(t){for(var e=(0,i.Z)(t),n=c(t);n&&a(n)&&"static"===(0,o.Z)(n).position;)n=c(n);return n&&("html"===(0,r.Z)(n)||"body"===(0,r.Z)(n)&&"static"===(0,o.Z)(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&(0,s.Re)(t)&&"fixed"===(0,o.Z)(t).position)return null;var n=(0,l.Z)(t);for((0,s.Zq)(n)&&(n=n.host);(0,s.Re)(n)&&["html","body"].indexOf((0,r.Z)(n))<0;){var i=(0,o.Z)(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(t)||e}},5923:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(6333),r=n(7252),o=n(2556);function s(t){return"html"===(0,i.Z)(t)?t:t.assignedSlot||t.parentNode||((0,o.Zq)(t)?t.host:null)||(0,r.Z)(t)}},2057:(t,e,n)=>{"use strict";function i(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}n.d(e,{Z:()=>i})},2163:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(2057);function r(t){var e=(0,i.Z)(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}},4063:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(400),r=n(7252),o=n(2163);function s(t){return(0,i.Z)((0,r.Z)(t)).left+(0,o.Z)(t).scrollLeft}},2556:(t,e,n)=>{"use strict";n.d(e,{Re:()=>o,Zq:()=>s,kK:()=>r});var i=n(2057);function r(t){return t instanceof(0,i.Z)(t).Element||t instanceof Element}function o(t){return t instanceof(0,i.Z)(t).HTMLElement||t instanceof HTMLElement}function s(t){return"undefined"!=typeof ShadowRoot&&(t instanceof(0,i.Z)(t).ShadowRoot||t instanceof ShadowRoot)}},611:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(3062);function r(t){var e=(0,i.Z)(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}},3624:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(5923),r=n(611),o=n(6333),s=n(2556);function a(t){return["html","body","#document"].indexOf((0,o.Z)(t))>=0?t.ownerDocument.body:(0,s.Re)(t)&&(0,r.Z)(t)?t:a((0,i.Z)(t))}var l=n(2057);function c(t,e){var n;void 0===e&&(e=[]);var o=a(t),s=o===(null==(n=t.ownerDocument)?void 0:n.body),u=(0,l.Z)(o),d=s?[u].concat(u.visualViewport||[],(0,r.Z)(o)?o:[]):o,h=e.concat(d);return s?h:h.concat(c((0,i.Z)(d)))}},7701:(t,e,n)=>{"use strict";n.d(e,{BL:()=>c,Ct:()=>g,DH:()=>x,F2:()=>o,I:()=>r,MS:()=>T,N7:()=>v,Pj:()=>h,XM:()=>w,YP:()=>p,bw:()=>m,cW:()=>S,d7:()=>a,ij:()=>b,iv:()=>_,k5:()=>f,mv:()=>l,r5:()=>y,t$:()=>s,ut:()=>u,wX:()=>C,we:()=>i,xs:()=>k,zV:()=>d});var i="top",r="bottom",o="right",s="left",a="auto",l=[i,r,o,s],c="start",u="end",d="clippingParents",h="viewport",f="popper",p="reference",m=l.reduce((function(t,e){return t.concat([e+"-"+c,e+"-"+u])}),[]),g=[].concat(l,[a]).reduce((function(t,e){return t.concat([e,e+"-"+c,e+"-"+u])}),[]),v="beforeRead",b="read",y="afterRead",w="beforeMain",x="main",C="afterMain",_="beforeWrite",S="write",T="afterWrite",k=[v,b,y,w,x,C,_,S,T]},7824:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(6333),r=n(2556);const o={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},s=e.elements[t];(0,r.Re)(s)&&(0,i.Z)(s)&&(Object.assign(s.style,n),Object.keys(o).forEach((function(t){var e=o[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var o=e.elements[t],s=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});(0,r.Re)(o)&&(0,i.Z)(o)&&(Object.assign(o.style,a),Object.keys(s).forEach((function(t){o.removeAttribute(t)})))}))}},requires:["computeStyles"]}},6896:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(6206),r=n(583),o=n(4985),s=n(3779),a=n(1516),l=n(7516),c=n(3293),u=n(3706),d=n(7701);const h={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,o=t.name,h=t.options,f=n.elements.arrow,p=n.modifiersData.popperOffsets,m=(0,i.Z)(n.placement),g=(0,a.Z)(m),v=[d.t$,d.F2].indexOf(m)>=0?"height":"width";if(f&&p){var b=function(t,e){return t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,(0,c.Z)("number"!=typeof t?t:(0,u.Z)(t,d.mv))}(h.padding,n),y=(0,r.Z)(f),w="y"===g?d.we:d.t$,x="y"===g?d.I:d.F2,C=n.rects.reference[v]+n.rects.reference[g]-p[g]-n.rects.popper[v],_=p[g]-n.rects.reference[g],S=(0,s.Z)(f),T=S?"y"===g?S.clientHeight||0:S.clientWidth||0:0,k=C/2-_/2,M=b[w],L=T-y[v]-b[x],A=T/2-y[v]/2+k,O=(0,l.u)(M,A,L),E=g;n.modifiersData[o]=((e={})[E]=O,e.centerOffset=O-A,e)}},effect:function(t){var e=t.state,n=t.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&(0,o.Z)(e.elements.popper,i)&&(e.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},6531:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var i=n(7701),r=n(3779),o=n(2057),s=n(7252),a=n(3062),l=n(6206),c=n(4943),u=n(138),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h(t){var e,n=t.popper,l=t.popperRect,c=t.placement,h=t.variation,f=t.offsets,p=t.position,m=t.gpuAcceleration,g=t.adaptive,v=t.roundOffsets,b=t.isFixed,y=f.x,w=void 0===y?0:y,x=f.y,C=void 0===x?0:x,_="function"==typeof v?v({x:w,y:C}):{x:w,y:C};w=_.x,C=_.y;var S=f.hasOwnProperty("x"),T=f.hasOwnProperty("y"),k=i.t$,M=i.we,L=window;if(g){var A=(0,r.Z)(n),O="clientHeight",E="clientWidth";A===(0,o.Z)(n)&&(A=(0,s.Z)(n),"static"!==(0,a.Z)(A).position&&"absolute"===p&&(O="scrollHeight",E="scrollWidth")),(c===i.we||(c===i.t$||c===i.F2)&&h===i.ut)&&(M=i.I,C-=(b&&A===L&&L.visualViewport?L.visualViewport.height:A[O])-l.height,C*=m?1:-1),c!==i.t$&&(c!==i.we&&c!==i.I||h!==i.ut)||(k=i.F2,w-=(b&&A===L&&L.visualViewport?L.visualViewport.width:A[E])-l.width,w*=m?1:-1)}var D,N=Object.assign({position:p},g&&d),I=!0===v?function(t){var e=t.x,n=t.y,i=window.devicePixelRatio||1;return{x:(0,u.NM)(e*i)/i||0,y:(0,u.NM)(n*i)/i||0}}({x:w,y:C}):{x:w,y:C};return w=I.x,C=I.y,m?Object.assign({},N,((D={})[M]=T?"0":"",D[k]=S?"0":"",D.transform=(L.devicePixelRatio||1)<=1?"translate("+w+"px, "+C+"px)":"translate3d("+w+"px, "+C+"px, 0)",D)):Object.assign({},N,((e={})[M]=T?C+"px":"",e[k]=S?w+"px":"",e.transform="",e))}const f={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,u=void 0===a||a,d={placement:(0,l.Z)(e.placement),variation:(0,c.Z)(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,h(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,h(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}}},2372:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(2057),r={passive:!0};const o={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,s=o.scroll,a=void 0===s||s,l=o.resize,c=void 0===l||l,u=(0,i.Z)(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach((function(t){t.addEventListener("scroll",n.update,r)})),c&&u.addEventListener("resize",n.update,r),function(){a&&d.forEach((function(t){t.removeEventListener("scroll",n.update,r)})),c&&u.removeEventListener("resize",n.update,r)}},data:{}}},5228:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i={left:"right",right:"left",bottom:"top",top:"bottom"};function r(t){return t.replace(/left|right|bottom|top/g,(function(t){return i[t]}))}var o=n(6206),s={start:"end",end:"start"};function a(t){return t.replace(/start|end/g,(function(t){return s[t]}))}var l=n(9966),c=n(4943),u=n(7701);const d={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=n.mainAxis,d=void 0===s||s,h=n.altAxis,f=void 0===h||h,p=n.fallbackPlacements,m=n.padding,g=n.boundary,v=n.rootBoundary,b=n.altBoundary,y=n.flipVariations,w=void 0===y||y,x=n.allowedAutoPlacements,C=e.options.placement,_=(0,o.Z)(C),S=p||(_!==C&&w?function(t){if((0,o.Z)(t)===u.d7)return[];var e=r(t);return[a(t),e,a(e)]}(C):[r(C)]),T=[C].concat(S).reduce((function(t,n){return t.concat((0,o.Z)(n)===u.d7?function(t,e){void 0===e&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,a=n.padding,d=n.flipVariations,h=n.allowedAutoPlacements,f=void 0===h?u.Ct:h,p=(0,c.Z)(i),m=p?d?u.bw:u.bw.filter((function(t){return(0,c.Z)(t)===p})):u.mv,g=m.filter((function(t){return f.indexOf(t)>=0}));0===g.length&&(g=m);var v=g.reduce((function(e,n){return e[n]=(0,l.Z)(t,{placement:n,boundary:r,rootBoundary:s,padding:a})[(0,o.Z)(n)],e}),{});return Object.keys(v).sort((function(t,e){return v[t]-v[e]}))}(e,{placement:n,boundary:g,rootBoundary:v,padding:m,flipVariations:w,allowedAutoPlacements:x}):n)}),[]),k=e.rects.reference,M=e.rects.popper,L=new Map,A=!0,O=T[0],E=0;E<T.length;E++){var D=T[E],N=(0,o.Z)(D),I=(0,c.Z)(D)===u.BL,P=[u.we,u.I].indexOf(N)>=0,W=P?"width":"height",B=(0,l.Z)(e,{placement:D,boundary:g,rootBoundary:v,altBoundary:b,padding:m}),R=P?I?u.F2:u.t$:I?u.I:u.we;k[W]>M[W]&&(R=r(R));var F=r(R),j=[];if(d&&j.push(B[N]<=0),f&&j.push(B[R]<=0,B[F]<=0),j.every((function(t){return t}))){O=D,A=!1;break}L.set(D,j)}if(A)for(var $=function(t){var e=T.find((function(e){var n=L.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return O=e,"break"},H=w?3:1;H>0&&"break"!==$(H);H--);e.placement!==O&&(e.modifiersData[i]._skip=!0,e.placement=O,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},9892:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(7701),r=n(9966);function o(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function s(t){return[i.we,i.F2,i.I,i.t$].some((function(e){return t[e]>=0}))}const a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,a=e.rects.popper,l=e.modifiersData.preventOverflow,c=(0,r.Z)(e,{elementContext:"reference"}),u=(0,r.Z)(e,{altBoundary:!0}),d=o(c,i),h=o(u,a,l),f=s(d),p=s(h);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}}},2122:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(6206),r=n(7701);const o={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,o=t.name,s=n.offset,a=void 0===s?[0,0]:s,l=r.Ct.reduce((function(t,n){return t[n]=function(t,e,n){var o=(0,i.Z)(t),s=[r.t$,r.we].indexOf(o)>=0?-1:1,a="function"==typeof n?n(Object.assign({},e,{placement:t})):n,l=a[0],c=a[1];return l=l||0,c=(c||0)*s,[r.t$,r.F2].indexOf(o)>=0?{x:c,y:l}:{x:l,y:c}}(n,e.rects,a),t}),{}),c=l[e.placement],u=c.x,d=c.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=l}}},7421:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(2581);const r={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=(0,i.Z)({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}}},3920:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var i=n(7701),r=n(6206),o=n(1516),s=n(7516),a=n(583),l=n(3779),c=n(9966),u=n(4943),d=n(4743),h=n(138);const f={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,f=t.name,p=n.mainAxis,m=void 0===p||p,g=n.altAxis,v=void 0!==g&&g,b=n.boundary,y=n.rootBoundary,w=n.altBoundary,x=n.padding,C=n.tether,_=void 0===C||C,S=n.tetherOffset,T=void 0===S?0:S,k=(0,c.Z)(e,{boundary:b,rootBoundary:y,padding:x,altBoundary:w}),M=(0,r.Z)(e.placement),L=(0,u.Z)(e.placement),A=!L,O=(0,o.Z)(M),E="x"===O?"y":"x",D=e.modifiersData.popperOffsets,N=e.rects.reference,I=e.rects.popper,P="function"==typeof T?T(Object.assign({},e.rects,{placement:e.placement})):T,W="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(D){if(m){var F,j="y"===O?i.we:i.t$,$="y"===O?i.I:i.F2,H="y"===O?"height":"width",z=D[O],Z=z+k[j],X=z-k[$],V=_?-I[H]/2:0,U=L===i.BL?N[H]:I[H],q=L===i.BL?-I[H]:-N[H],G=e.elements.arrow,K=_&&G?(0,a.Z)(G):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:(0,d.Z)(),J=Y[j],Q=Y[$],tt=(0,s.u)(0,N[H],K[H]),et=A?N[H]/2-V-tt-J-W.mainAxis:U-tt-J-W.mainAxis,nt=A?-N[H]/2+V+tt+Q+W.mainAxis:q+tt+Q+W.mainAxis,it=e.elements.arrow&&(0,l.Z)(e.elements.arrow),rt=it?"y"===O?it.clientTop||0:it.clientLeft||0:0,ot=null!=(F=null==B?void 0:B[O])?F:0,st=z+et-ot-rt,at=z+nt-ot,lt=(0,s.u)(_?(0,h.VV)(Z,st):Z,z,_?(0,h.Fp)(X,at):X);D[O]=lt,R[O]=lt-z}if(v){var ct,ut="x"===O?i.we:i.t$,dt="x"===O?i.I:i.F2,ht=D[E],ft="y"===E?"height":"width",pt=ht+k[ut],mt=ht-k[dt],gt=-1!==[i.we,i.t$].indexOf(M),vt=null!=(ct=null==B?void 0:B[E])?ct:0,bt=gt?pt:ht-N[ft]-I[ft]-vt+W.altAxis,yt=gt?ht+N[ft]+I[ft]-vt-W.altAxis:mt,wt=_&&gt?(0,s.q)(bt,ht,yt):(0,s.u)(_?bt:pt,ht,_?yt:mt);D[E]=wt,R[E]=wt-ht}e.modifiersData[f]=R}},requiresIfExists:["offset"]}},804:(t,e,n)=>{"use strict";n.d(e,{fi:()=>p});var i=n(8240),r=n(2372),o=n(7421),s=n(6531),a=n(7824),l=n(2122),c=n(5228),u=n(3920),d=n(6896),h=n(9892),f=[r.Z,o.Z,s.Z,a.Z,l.Z,c.Z,u.Z,d.Z,h.Z],p=(0,i.kZ)({defaultModifiers:f})},2581:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(6206),r=n(4943),o=n(1516),s=n(7701);function a(t){var e,n=t.reference,a=t.element,l=t.placement,c=l?(0,i.Z)(l):null,u=l?(0,r.Z)(l):null,d=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2;switch(c){case s.we:e={x:d,y:n.y-a.height};break;case s.I:e={x:d,y:n.y+n.height};break;case s.F2:e={x:n.x+n.width,y:h};break;case s.t$:e={x:n.x-a.width,y:h};break;default:e={x:n.x,y:n.y}}var f=c?(0,o.Z)(c):null;if(null!=f){var p="y"===f?"height":"width";switch(u){case s.BL:e[f]=e[f]-(n[p]/2-a[p]/2);break;case s.ut:e[f]=e[f]+(n[p]/2-a[p]/2)}}return e}},9966:(t,e,n)=>{"use strict";n.d(e,{Z:()=>C});var i=n(7701),r=n(2057),o=n(7252),s=n(4063),a=n(3062),l=n(2163),c=n(138),u=n(3624),d=n(3779),h=n(2556),f=n(400),p=n(5923),m=n(4985),g=n(6333);function v(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function b(t,e){return e===i.Pj?v(function(t){var e=(0,r.Z)(t),n=(0,o.Z)(t),i=e.visualViewport,a=n.clientWidth,l=n.clientHeight,c=0,u=0;return i&&(a=i.width,l=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=i.offsetLeft,u=i.offsetTop)),{width:a,height:l,x:c+(0,s.Z)(t),y:u}}(t)):(0,h.kK)(e)?function(t){var e=(0,f.Z)(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):v(function(t){var e,n=(0,o.Z)(t),i=(0,l.Z)(t),r=null==(e=t.ownerDocument)?void 0:e.body,u=(0,c.Fp)(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),d=(0,c.Fp)(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),h=-i.scrollLeft+(0,s.Z)(t),f=-i.scrollTop;return"rtl"===(0,a.Z)(r||n).direction&&(h+=(0,c.Fp)(n.clientWidth,r?r.clientWidth:0)-u),{width:u,height:d,x:h,y:f}}((0,o.Z)(t)))}var y=n(2581),w=n(3293),x=n(3706);function C(t,e){void 0===e&&(e={});var n=e,r=n.placement,s=void 0===r?t.placement:r,l=n.boundary,C=void 0===l?i.zV:l,_=n.rootBoundary,S=void 0===_?i.Pj:_,T=n.elementContext,k=void 0===T?i.k5:T,M=n.altBoundary,L=void 0!==M&&M,A=n.padding,O=void 0===A?0:A,E=(0,w.Z)("number"!=typeof O?O:(0,x.Z)(O,i.mv)),D=k===i.k5?i.YP:i.k5,N=t.rects.popper,I=t.elements[L?D:k],P=function(t,e,n){var i="clippingParents"===e?function(t){var e=(0,u.Z)((0,p.Z)(t)),n=["absolute","fixed"].indexOf((0,a.Z)(t).position)>=0&&(0,h.Re)(t)?(0,d.Z)(t):t;return(0,h.kK)(n)?e.filter((function(t){return(0,h.kK)(t)&&(0,m.Z)(t,n)&&"body"!==(0,g.Z)(t)})):[]}(t):[].concat(e),r=[].concat(i,[n]),o=r[0],s=r.reduce((function(e,n){var i=b(t,n);return e.top=(0,c.Fp)(i.top,e.top),e.right=(0,c.VV)(i.right,e.right),e.bottom=(0,c.VV)(i.bottom,e.bottom),e.left=(0,c.Fp)(i.left,e.left),e}),b(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}((0,h.kK)(I)?I:I.contextElement||(0,o.Z)(t.elements.popper),C,S),W=(0,f.Z)(t.elements.reference),B=(0,y.Z)({reference:W,element:N,strategy:"absolute",placement:s}),R=v(Object.assign({},N,B)),F=k===i.k5?R:W,j={top:P.top-F.top+E.top,bottom:F.bottom-P.bottom+E.bottom,left:P.left-F.left+E.left,right:F.right-P.right+E.right},$=t.modifiersData.offset;if(k===i.k5&&$){var H=$[s];Object.keys(j).forEach((function(t){var e=[i.F2,i.I].indexOf(t)>=0?1:-1,n=[i.we,i.I].indexOf(t)>=0?"y":"x";j[t]+=H[n]*e}))}return j}},3706:(t,e,n)=>{"use strict";function i(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}n.d(e,{Z:()=>i})},6206:(t,e,n)=>{"use strict";function i(t){return t.split("-")[0]}n.d(e,{Z:()=>i})},4743:(t,e,n)=>{"use strict";function i(){return{top:0,right:0,bottom:0,left:0}}n.d(e,{Z:()=>i})},1516:(t,e,n)=>{"use strict";function i(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}n.d(e,{Z:()=>i})},4943:(t,e,n)=>{"use strict";function i(t){return t.split("-")[1]}n.d(e,{Z:()=>i})},138:(t,e,n)=>{"use strict";n.d(e,{Fp:()=>i,NM:()=>o,VV:()=>r});var i=Math.max,r=Math.min,o=Math.round},3293:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(4743);function r(t){return Object.assign({},(0,i.Z)(),t)}},7516:(t,e,n)=>{"use strict";n.d(e,{q:()=>o,u:()=>r});var i=n(138);function r(t,e,n){return(0,i.Fp)(t,(0,i.VV)(e,n))}function o(t,e,n){var i=r(t,e,n);return i>n?n:i}},6468:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Alert:()=>ct,Button:()=>dt,Carousel:()=>kt,Collapse:()=>Nt,Dropdown:()=>Yt,Modal:()=>we,Offcanvas:()=>Ae,Popover:()=>Je,ScrollSpy:()=>on,Tab:()=>mn,Toast:()=>xn,Tooltip:()=>Ge});var i={};n.r(i),n.d(i,{afterMain:()=>r.wX,afterRead:()=>r.r5,afterWrite:()=>r.MS,applyStyles:()=>o.Z,arrow:()=>s.Z,auto:()=>r.d7,basePlacements:()=>r.mv,beforeMain:()=>r.XM,beforeRead:()=>r.N7,beforeWrite:()=>r.iv,bottom:()=>r.I,clippingParents:()=>r.zV,computeStyles:()=>a.Z,createPopper:()=>g.fi,createPopperBase:()=>p.fi,createPopperLite:()=>b,detectOverflow:()=>m.Z,end:()=>r.ut,eventListeners:()=>l.Z,flip:()=>c.Z,hide:()=>u.Z,left:()=>r.t$,main:()=>r.DH,modifierPhases:()=>r.xs,offset:()=>d.Z,placements:()=>r.Ct,popper:()=>r.k5,popperGenerator:()=>p.kZ,popperOffsets:()=>h.Z,preventOverflow:()=>f.Z,read:()=>r.ij,reference:()=>r.YP,right:()=>r.F2,start:()=>r.BL,top:()=>r.we,variationPlacements:()=>r.bw,viewport:()=>r.Pj,write:()=>r.cW});var r=n(7701),o=n(7824),s=n(6896),a=n(6531),l=n(2372),c=n(5228),u=n(9892),d=n(2122),h=n(7421),f=n(3920),p=n(8240),m=n(9966),g=n(804),v=[l.Z,h.Z,a.Z,o.Z],b=(0,p.kZ)({defaultModifiers:v});const y="transitionend",w=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},x=t=>{const e=w(t);return e&&document.querySelector(e)?e:null},C=t=>{const e=w(t);return e?document.querySelector(e):null},_=t=>{t.dispatchEvent(new Event(y))},S=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),T=t=>S(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,k=t=>{if(!S(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const e=t.closest("summary");if(e&&e.parentNode!==n)return!1;if(null===e)return!1}return e},M=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),L=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?L(t.parentNode):null},A=()=>{},O=t=>{t.offsetHeight},E=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,D=[],N=()=>"rtl"===document.documentElement.dir,I=t=>{var e;e=()=>{const e=E();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}},"loading"===document.readyState?(D.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of D)t()})),D.push(e)):e()},P=t=>{"function"==typeof t&&t()},W=(t,e,n=!0)=>{if(!n)return void P(t);const i=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),r=Number.parseFloat(n);return i||r?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0})(e)+5;let r=!1;const o=({target:n})=>{n===e&&(r=!0,e.removeEventListener(y,o),P(t))};e.addEventListener(y,o),setTimeout((()=>{r||_(e)}),i)},B=(t,e,n,i)=>{const r=t.length;let o=t.indexOf(e);return-1===o?!n&&i?t[r-1]:t[0]:(o+=n?1:-1,i&&(o=(o+r)%r),t[Math.max(0,Math.min(o,r-1))])},R=/[^.]*(?=\..*)\.|.*/,F=/\..*/,j=/::\d+$/,$={};let H=1;const z={mouseenter:"mouseover",mouseleave:"mouseout"},Z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function X(t,e){return e&&`${e}::${H++}`||t.uidEvent||H++}function V(t){const e=X(t);return t.uidEvent=e,$[e]=$[e]||{},$[e]}function U(t,e,n=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===n))}function q(t,e,n){const i="string"==typeof e,r=i?n:e||n;let o=J(t);return Z.has(o)||(o=t),[i,r,o]}function G(t,e,n,i,r){if("string"!=typeof e||!t)return;let[o,s,a]=q(e,n,i);if(e in z){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};s=t(s)}const l=V(t),c=l[a]||(l[a]={}),u=U(c,s,o?n:null);if(u)return void(u.oneOff=u.oneOff&&r);const d=X(s,e.replace(R,"")),h=o?function(t,e,n){return function i(r){const o=t.querySelectorAll(e);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return tt(r,{delegateTarget:s}),i.oneOff&&Q.off(t,r.type,e,n),n.apply(s,[r])}}(t,n,s):function(t,e){return function n(i){return tt(i,{delegateTarget:t}),n.oneOff&&Q.off(t,i.type,e),e.apply(t,[i])}}(t,s);h.delegationSelector=o?n:null,h.callable=s,h.oneOff=r,h.uidEvent=d,c[d]=h,t.addEventListener(a,h,o)}function K(t,e,n,i,r){const o=U(e[n],i,r);o&&(t.removeEventListener(n,o,Boolean(r)),delete e[n][o.uidEvent])}function Y(t,e,n,i){const r=e[n]||{};for(const o of Object.keys(r))if(o.includes(i)){const i=r[o];K(t,e,n,i.callable,i.delegationSelector)}}function J(t){return t=t.replace(F,""),z[t]||t}const Q={on(t,e,n,i){G(t,e,n,i,!1)},one(t,e,n,i){G(t,e,n,i,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[r,o,s]=q(e,n,i),a=s!==e,l=V(t),c=l[s]||{},u=e.startsWith(".");if(void 0===o){if(u)for(const n of Object.keys(l))Y(t,l,n,e.slice(1));for(const n of Object.keys(c)){const i=n.replace(j,"");if(!a||e.includes(i)){const e=c[n];K(t,l,s,e.callable,e.delegationSelector)}}}else{if(!Object.keys(c).length)return;K(t,l,s,o,r?n:null)}},trigger(t,e,n){if("string"!=typeof e||!t)return null;const i=E();let r=null,o=!0,s=!0,a=!1;e!==J(e)&&i&&(r=i.Event(e,n),i(t).trigger(r),o=!r.isPropagationStopped(),s=!r.isImmediatePropagationStopped(),a=r.isDefaultPrevented());let l=new Event(e,{bubbles:o,cancelable:!0});return l=tt(l,n),a&&l.preventDefault(),s&&t.dispatchEvent(l),l.defaultPrevented&&r&&r.preventDefault(),l}};function tt(t,e){for(const[n,i]of Object.entries(e||{}))try{t[n]=i}catch(e){Object.defineProperty(t,n,{configurable:!0,get:()=>i})}return t}const et=new Map,nt={set(t,e,n){et.has(t)||et.set(t,new Map);const i=et.get(t);i.has(e)||0===i.size?i.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(t,e)=>et.has(t)&&et.get(t).get(e)||null,remove(t,e){if(!et.has(t))return;const n=et.get(t);n.delete(e),0===n.size&&et.delete(t)}};function it(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function rt(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const ot={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${rt(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${rt(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const i of n){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),e[n]=it(t.dataset[i])}return e},getDataAttribute:(t,e)=>it(t.getAttribute(`data-bs-${rt(e)}`))};class st{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const n=S(e)?ot.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...S(e)?ot.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const i of Object.keys(e)){const r=e[i],o=t[i],s=S(o)?"element":null==(n=o)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${r}".`)}var n}}class at extends st{constructor(t,e){super(),(t=T(t))&&(this._element=t,this._config=this._getConfig(e),nt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){nt.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,n=!0){W(t,e,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return nt.get(T(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.2.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const lt=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;Q.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),M(this))return;const r=C(this)||this.closest(`.${i}`);t.getOrCreateInstance(r)[e]()}))};class ct extends at{static get NAME(){return"alert"}close(){if(Q.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),Q.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=ct.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}lt(ct,"close"),I(ct);const ut='[data-bs-toggle="button"]';class dt extends at{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=dt.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}Q.on(document,"click.bs.button.data-api",ut,(t=>{t.preventDefault();const e=t.target.closest(ut);dt.getOrCreateInstance(e).toggle()})),I(dt);const ht={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(e,t).filter((t=>!M(t)&&k(t)))}},ft={endCallback:null,leftCallback:null,rightCallback:null},pt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class mt extends st{constructor(t,e){super(),this._element=t,t&&mt.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ft}static get DefaultType(){return pt}static get NAME(){return"swipe"}dispose(){Q.off(this._element,".bs.swipe")}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),P(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&P(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,"pointerdown.bs.swipe",(t=>this._start(t))),Q.on(this._element,"pointerup.bs.swipe",(t=>this._end(t))),this._element.classList.add("pointer-event")):(Q.on(this._element,"touchstart.bs.swipe",(t=>this._start(t))),Q.on(this._element,"touchmove.bs.swipe",(t=>this._move(t))),Q.on(this._element,"touchend.bs.swipe",(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const gt="next",vt="prev",bt="left",yt="right",wt="slid.bs.carousel",xt="carousel",Ct="active",_t={ArrowLeft:yt,ArrowRight:bt},St={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Tt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class kt extends at{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ht.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===xt&&this.cycle()}static get Default(){return St}static get DefaultType(){return Tt}static get NAME(){return"carousel"}next(){this._slide(gt)}nextWhenVisible(){!document.hidden&&k(this._element)&&this.next()}prev(){this._slide(vt)}pause(){this._isSliding&&_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Q.one(this._element,wt,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void Q.one(this._element,wt,(()=>this.to(t)));const n=this._getItemIndex(this._getActive());if(n===t)return;const i=t>n?gt:vt;this._slide(i,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Q.on(this._element,"keydown.bs.carousel",(t=>this._keydown(t))),"hover"===this._config.pause&&(Q.on(this._element,"mouseenter.bs.carousel",(()=>this.pause())),Q.on(this._element,"mouseleave.bs.carousel",(()=>this._maybeEnableCycle()))),this._config.touch&&mt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of ht.find(".carousel-item img",this._element))Q.on(t,"dragstart.bs.carousel",(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(bt)),rightCallback:()=>this._slide(this._directionToOrder(yt)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new mt(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=_t[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=ht.findOne(".active",this._indicatorsElement);e.classList.remove(Ct),e.removeAttribute("aria-current");const n=ht.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);n&&(n.classList.add(Ct),n.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const n=this._getActive(),i=t===gt,r=e||B(this._getItems(),n,i,this._config.wrap);if(r===n)return;const o=this._getItemIndex(r),s=e=>Q.trigger(this._element,e,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:o});if(s("slide.bs.carousel").defaultPrevented)return;if(!n||!r)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const l=i?"carousel-item-start":"carousel-item-end",c=i?"carousel-item-next":"carousel-item-prev";r.classList.add(c),O(r),n.classList.add(l),r.classList.add(l),this._queueCallback((()=>{r.classList.remove(l,c),r.classList.add(Ct),n.classList.remove(Ct,c,l),this._isSliding=!1,s(wt)}),n,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ht.findOne(".active.carousel-item",this._element)}_getItems(){return ht.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return N()?t===bt?vt:gt:t===bt?gt:vt}_orderToDirection(t){return N()?t===vt?bt:yt:t===vt?yt:bt}static jQueryInterface(t){return this.each((function(){const e=kt.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}Q.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",(function(t){const e=C(this);if(!e||!e.classList.contains(xt))return;t.preventDefault();const n=kt.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(n.to(i),void n._maybeEnableCycle()):"next"===ot.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),Q.on(window,"load.bs.carousel.data-api",(()=>{const t=ht.find('[data-bs-ride="carousel"]');for(const e of t)kt.getOrCreateInstance(e)})),I(kt);const Mt="show",Lt="collapse",At="collapsing",Ot='[data-bs-toggle="collapse"]',Et={parent:null,toggle:!0},Dt={parent:"(null|element)",toggle:"boolean"};class Nt extends at{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const n=ht.find(Ot);for(const t of n){const e=x(t),n=ht.find(e).filter((t=>t===this._element));null!==e&&n.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Et}static get DefaultType(){return Dt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((t=>t!==this._element)).map((t=>Nt.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(Q.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(Lt),this._element.classList.add(At),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(At),this._element.classList.add(Lt,Mt),this._element.style[e]="",Q.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[e]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(Q.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,O(this._element),this._element.classList.add(At),this._element.classList.remove(Lt,Mt);for(const t of this._triggerArray){const e=C(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(At),this._element.classList.add(Lt),Q.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(Mt)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=T(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Ot);for(const e of t){const t=C(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=ht.find(":scope .collapse .collapse",this._config.parent);return ht.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const n of t)n.classList.toggle("collapsed",!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const n=Nt.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}Q.on(document,"click.bs.collapse.data-api",Ot,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=x(this),n=ht.find(e);for(const t of n)Nt.getOrCreateInstance(t,{toggle:!1}).toggle()})),I(Nt);const It="dropdown",Pt="ArrowUp",Wt="ArrowDown",Bt="click.bs.dropdown.data-api",Rt="keydown.bs.dropdown.data-api",Ft="show",jt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',$t=`${jt}.show`,Ht=".dropdown-menu",zt=N()?"top-end":"top-start",Zt=N()?"top-start":"top-end",Xt=N()?"bottom-end":"bottom-start",Vt=N()?"bottom-start":"bottom-end",Ut=N()?"left-start":"right-start",qt=N()?"right-start":"left-start",Gt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Kt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Yt extends at{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=ht.findOne(Ht,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Gt}static get DefaultType(){return Kt}static get NAME(){return It}toggle(){return this._isShown()?this.hide():this.show()}show(){if(M(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Q.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))Q.on(t,"mouseover",A);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ft),this._element.classList.add(Ft),Q.trigger(this._element,"shown.bs.dropdown",t)}}hide(){if(M(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Q.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))Q.off(t,"mouseover",A);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ft),this._element.classList.remove(Ft),this._element.setAttribute("aria-expanded","false"),ot.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,"hidden.bs.dropdown",t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!S(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${It.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===i)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:S(this._config.reference)?t=T(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=g.fi(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Ft)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Ut;if(t.classList.contains("dropstart"))return qt;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Zt:zt:e?Vt:Xt}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ot.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=ht.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((t=>k(t)));n.length&&B(n,e,t===Wt,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=Yt.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=ht.find($t);for(const n of e){const e=Yt.getInstance(n);if(!e||!1===e._config.autoClose)continue;const i=t.composedPath(),r=i.includes(e._menu);if(i.includes(e._element)||"inside"===e._config.autoClose&&!r||"outside"===e._config.autoClose&&r)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};"click"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),n="Escape"===t.key,i=[Pt,Wt].includes(t.key);if(!i&&!n)return;if(e&&!n)return;t.preventDefault();const r=ht.findOne(jt,t.delegateTarget.parentNode),o=Yt.getOrCreateInstance(r);if(i)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),r.focus())}}Q.on(document,Rt,jt,Yt.dataApiKeydownHandler),Q.on(document,Rt,Ht,Yt.dataApiKeydownHandler),Q.on(document,Bt,Yt.clearMenus),Q.on(document,"keyup.bs.dropdown.data-api",Yt.clearMenus),Q.on(document,Bt,jt,(function(t){t.preventDefault(),Yt.getOrCreateInstance(this).toggle()})),I(Yt);const Jt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Qt=".sticky-top",te="padding-right",ee="margin-right";class ne{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,te,(e=>e+t)),this._setElementAttributes(Jt,te,(e=>e+t)),this._setElementAttributes(Qt,ee,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,te),this._resetElementAttributes(Jt,te),this._resetElementAttributes(Qt,ee)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const i=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+i)return;this._saveInitialAttribute(t,e);const r=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${n(Number.parseFloat(r))}px`)}))}_saveInitialAttribute(t,e){const n=t.style.getPropertyValue(e);n&&ot.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const n=ot.getDataAttribute(t,e);null!==n?(ot.removeDataAttribute(t,e),t.style.setProperty(e,n)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if(S(t))e(t);else for(const n of ht.find(t,this._element))e(n)}}const ie="show",re="mousedown.bs.backdrop",oe={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},se={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ae extends st{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return oe}static get DefaultType(){return se}static get NAME(){return"backdrop"}show(t){if(!this._config.isVisible)return void P(t);this._append();const e=this._getElement();this._config.isAnimated&&O(e),e.classList.add(ie),this._emulateAnimation((()=>{P(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(ie),this._emulateAnimation((()=>{this.dispose(),P(t)}))):P(t)}dispose(){this._isAppended&&(Q.off(this._element,re),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=T(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Q.on(t,re,(()=>{P(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){W(t,this._getElement(),this._config.isAnimated)}}const le=".bs.focustrap",ce="backward",ue={autofocus:!0,trapElement:null},de={autofocus:"boolean",trapElement:"element"};class he extends st{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ue}static get DefaultType(){return de}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,le),Q.on(document,"focusin.bs.focustrap",(t=>this._handleFocusin(t))),Q.on(document,"keydown.tab.bs.focustrap",(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,le))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const n=ht.focusableChildren(e);0===n.length?e.focus():this._lastTabNavDirection===ce?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?ce:"forward")}}const fe="hidden.bs.modal",pe="show.bs.modal",me="modal-open",ge="show",ve="modal-static",be={backdrop:!0,focus:!0,keyboard:!0},ye={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class we extends at{constructor(t,e){super(t,e),this._dialog=ht.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ne,this._addEventListeners()}static get Default(){return be}static get DefaultType(){return ye}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Q.trigger(this._element,pe,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(me),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(Q.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ge),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){for(const t of[window,this._dialog])Q.off(t,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ae({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new he({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=ht.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),O(this._element),this._element.classList.add(ge),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,"shown.bs.modal",{relatedTarget:t})}),this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,"keydown.dismiss.bs.modal",(t=>{if("Escape"===t.key)return this._config.keyboard?(t.preventDefault(),void this.hide()):void this._triggerBackdropTransition()})),Q.on(window,"resize.bs.modal",(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),Q.on(this._element,"mousedown.dismiss.bs.modal",(t=>{t.target===t.currentTarget&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(me),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,fe)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Q.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(ve)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(ve),this._queueCallback((()=>{this._element.classList.remove(ve),this._queueCallback((()=>{this._element.style.overflowY=e}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!t){const t=N()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!n&&t){const t=N()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=we.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}Q.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(t){const e=C(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Q.one(e,pe,(t=>{t.defaultPrevented||Q.one(e,fe,(()=>{k(this)&&this.focus()}))}));const n=ht.findOne(".modal.show");n&&we.getInstance(n).hide(),we.getOrCreateInstance(e).toggle(this)})),lt(we),I(we);const xe="show",Ce="showing",_e="hiding",Se=".offcanvas.show",Te="hidePrevented.bs.offcanvas",ke="hidden.bs.offcanvas",Me={backdrop:!0,keyboard:!0,scroll:!1},Le={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ae extends at{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Me}static get DefaultType(){return Le}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||Q.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ne).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ce),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(xe),this._element.classList.remove(Ce),Q.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})}),this._element,!0))}hide(){this._isShown&&(Q.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(_e),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(xe,_e),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ne).reset(),Q.trigger(this._element,ke)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new ae({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Q.trigger(this._element,Te)}:null})}_initializeFocusTrap(){return new he({trapElement:this._element})}_addEventListeners(){Q.on(this._element,"keydown.dismiss.bs.offcanvas",(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():Q.trigger(this._element,Te))}))}static jQueryInterface(t){return this.each((function(){const e=Ae.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}Q.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(t){const e=C(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),M(this))return;Q.one(e,ke,(()=>{k(this)&&this.focus()}));const n=ht.findOne(Se);n&&n!==e&&Ae.getInstance(n).hide(),Ae.getOrCreateInstance(e).toggle(this)})),Q.on(window,"load.bs.offcanvas.data-api",(()=>{for(const t of ht.find(Se))Ae.getOrCreateInstance(t).show()})),Q.on(window,"resize.bs.offcanvas",(()=>{for(const t of ht.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Ae.getOrCreateInstance(t).hide()})),lt(Ae),I(Ae);const Oe=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ee=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,De=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ne=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?!Oe.has(n)||Boolean(Ee.test(t.nodeValue)||De.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(n)))},Ie={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Pe={allowList:Ie,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},We={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Be={entry:"(string|element|function|null)",selector:"(string|element)"};class Re extends st{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Pe}static get DefaultType(){return We}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,n]of Object.entries(this._config.content))this._setContent(t,n,e);const e=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,n]of Object.entries(t))super._typeCheckConfig({selector:e,entry:n},Be)}_setContent(t,e,n){const i=ht.findOne(n,t);i&&((e=this._resolvePossibleFunction(e))?S(e)?this._putElementInTemplate(T(e),i):this._config.html?i.innerHTML=this._maybeSanitize(e):i.textContent=e:i.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const t of r){const n=t.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){t.remove();continue}const i=[].concat(...t.attributes),r=[].concat(e["*"]||[],e[n]||[]);for(const e of i)Ne(e,r)||t.removeAttribute(e.nodeName)}return i.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return"function"==typeof t?t(this):t}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const Fe=new Set(["sanitize","allowList","sanitizeFn"]),je="fade",$e="show",He=".modal",ze="hide.bs.modal",Ze="hover",Xe="focus",Ve={AUTO:"auto",TOP:"top",RIGHT:N()?"left":"right",BOTTOM:"bottom",LEFT:N()?"right":"left"},Ue={allowList:Ie,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},qe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ge extends at{constructor(t,e){if(void 0===i)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=!1,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners()}static get Default(){return Ue}static get DefaultType(){return qe}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled){if(t){const e=this._initializeOnDelegatedTarget(t);return e._activeTrigger.click=!e._activeTrigger.click,void(e._isWithActiveTrigger()?e._enter():e._leave())}this._isShown()?this._leave():this._enter()}}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest(He),ze,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=Q.trigger(this._element,this.constructor.eventName("show")),e=(L(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this.tip&&(this.tip.remove(),this.tip=null);const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(n),Q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper?this._popper.update():this._popper=this._createPopper(n),n.classList.add($e),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))Q.on(t,"mouseover",A);this._queueCallback((()=>{const t=this._isHovered;this._isHovered=!1,Q.trigger(this._element,this.constructor.eventName("shown")),t&&this._leave()}),this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(Q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;const t=this._getTipElement();if(t.classList.remove($e),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))Q.off(t,"mouseover",A);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=!1,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||t.remove(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName("hidden")),this._disposePopper())}),this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(je,$e),e.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute("id",n),this._isAnimated()&&e.classList.add(je),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Re({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._config.originalTitle}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(je)}_isShown(){return this.tip&&this.tip.classList.contains($e)}_createPopper(t){const e="function"==typeof this._config.placement?this._config.placement.call(this,t,this._element):this._config.placement,n=Ve[e.toUpperCase()];return g.fi(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)Q.on(this._element,this.constructor.eventName("click"),this._config.selector,(t=>this.toggle(t)));else if("manual"!==e){const t=e===Ze?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=e===Ze?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Q.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?Xe:Ze]=!0,e._enter()})),Q.on(this._element,n,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?Xe:Ze]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest(He),ze,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._config.originalTitle;t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=ot.getDataAttributes(this._element);for(const t of Object.keys(e))Fe.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:T(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.originalTitle=this._element.getAttribute("title")||"","number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=Ge.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}I(Ge);const Ke={...Ge.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ye={...Ge.DefaultType,content:"(null|string|element|function)"};class Je extends Ge{static get Default(){return Ke}static get DefaultType(){return Ye}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=Je.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}I(Je);const Qe="click.bs.scrollspy",tn="active",en="[href]",nn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null},rn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element"};class on extends at{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nn}static get DefaultType(){return rn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=T(t.target)||document.body,t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,Qe),Q.on(this._config.target,Qe,en,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const n=this._rootElement||window,i=e.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:i,behavior:"smooth"});n.scrollTop=i}})))}_getNewObserver(){const t={root:this._rootElement,threshold:[.1,.5,1],rootMargin:this._getRootMargin()};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),n=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&t){if(n(o),!i)return}else r||t||n(o)}}_getRootMargin(){return this._config.offset?`${this._config.offset}px 0px -30%`:this._config.rootMargin}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=ht.find(en,this._config.target);for(const e of t){if(!e.hash||M(e))continue;const t=ht.findOne(e.hash,this._element);k(t)&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(tn),this._activateParents(t),Q.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))ht.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(tn);else for(const e of ht.parents(t,".nav, .list-group"))for(const t of ht.prev(e,".nav-link, .nav-item > .nav-link, .list-group-item"))t.classList.add(tn)}_clearActiveClass(t){t.classList.remove(tn);const e=ht.find("[href].active",t);for(const t of e)t.classList.remove(tn)}static jQueryInterface(t){return this.each((function(){const e=on.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Q.on(window,"load.bs.scrollspy.data-api",(()=>{for(const t of ht.find('[data-bs-spy="scroll"]'))on.getOrCreateInstance(t)})),I(on);const sn="ArrowLeft",an="ArrowRight",ln="ArrowUp",cn="ArrowDown",un="active",dn="fade",hn="show",fn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',pn=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${fn}`;class mn extends at{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,"keydown.bs.tab",(t=>this._keydown(t))))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),n=e?Q.trigger(e,"hide.bs.tab",{relatedTarget:t}):null;Q.trigger(t,"show.bs.tab",{relatedTarget:e}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(un),this._activate(C(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.focus(),t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Q.trigger(t,"shown.bs.tab",{relatedTarget:e})):t.classList.add(hn)}),t,t.classList.contains(dn)))}_deactivate(t,e){t&&(t.classList.remove(un),t.blur(),this._deactivate(C(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Q.trigger(t,"hidden.bs.tab",{relatedTarget:e})):t.classList.remove(hn)}),t,t.classList.contains(dn)))}_keydown(t){if(![sn,an,ln,cn].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[an,cn].includes(t.key),n=B(this._getChildren().filter((t=>!M(t))),t.target,e,!0);n&&mn.getOrCreateInstance(n).show()}_getChildren(){return ht.find(pn,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",e),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=C(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,e){const n=this._getOuterElement(t);if(!n.classList.contains("dropdown"))return;const i=(t,i)=>{const r=ht.findOne(t,n);r&&r.classList.toggle(i,e)};i(".dropdown-toggle",un),i(".dropdown-menu",hn),i(".dropdown-item",un),n.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}_elemIsActive(t){return t.classList.contains(un)}_getInnerElement(t){return t.matches(pn)?t:ht.findOne(pn,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each((function(){const e=mn.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Q.on(document,"click.bs.tab",fn,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),M(this)||mn.getOrCreateInstance(this).show()})),Q.on(window,"load.bs.tab",(()=>{for(const t of ht.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))mn.getOrCreateInstance(t)})),I(mn);const gn="hide",vn="show",bn="showing",yn={animation:"boolean",autohide:"boolean",delay:"number"},wn={animation:!0,autohide:!0,delay:5e3};class xn extends at{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return wn}static get DefaultType(){return yn}static get NAME(){return"toast"}show(){Q.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(gn),O(this._element),this._element.classList.add(vn,bn),this._queueCallback((()=>{this._element.classList.remove(bn),Q.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(Q.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(bn),this._queueCallback((()=>{this._element.classList.add(gn),this._element.classList.remove(bn,vn),Q.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(vn),super.dispose()}isShown(){return this._element.classList.contains(vn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,"mouseover.bs.toast",(t=>this._onInteraction(t,!0))),Q.on(this._element,"mouseout.bs.toast",(t=>this._onInteraction(t,!1))),Q.on(this._element,"focusin.bs.toast",(t=>this._onInteraction(t,!0))),Q.on(this._element,"focusout.bs.toast",(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=xn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}lt(xn),I(xn)},8386:(t,e,n)=>{!function(t){function e(t){t.state.placeholder&&(t.state.placeholder.parentNode.removeChild(t.state.placeholder),t.state.placeholder=null)}function n(t){e(t);var n=t.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.style.direction=t.getOption("direction"),n.className="CodeMirror-placeholder CodeMirror-line-like";var i=t.getOption("placeholder");"string"==typeof i&&(i=document.createTextNode(i)),n.appendChild(i),t.display.lineSpace.insertBefore(n,t.display.lineSpace.firstChild)}function i(t){o(t)&&n(t)}function r(t){var i=t.getWrapperElement(),r=o(t);i.className=i.className.replace(" CodeMirror-empty","")+(r?" CodeMirror-empty":""),r?n(t):e(t)}function o(t){return 1===t.lineCount()&&""===t.getLine(0)}t.defineOption("placeholder","",(function(o,s,a){var l=a&&a!=t.Init;if(s&&!l)o.on("blur",i),o.on("change",r),o.on("swapDoc",r),t.on(o.getInputField(),"compositionupdate",o.state.placeholderCompose=function(){!function(t){setTimeout((function(){var i=!1;if(1==t.lineCount()){var r=t.getInputField();i="TEXTAREA"==r.nodeName?!t.getLine(0).length:!/[^\u200b]/.test(r.querySelector(".CodeMirror-line").textContent)}i?n(t):e(t)}),20)}(o)}),r(o);else if(!s&&l){o.off("blur",i),o.off("change",r),o.off("swapDoc",r),t.off(o.getInputField(),"compositionupdate",o.state.placeholderCompose),e(o);var c=o.getWrapperElement();c.className=c.className.replace(" CodeMirror-empty","")}s&&!o.hasFocus()&&i(o)}))}(n(4631))},4631:function(t){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),i=/MSIE \d/.test(t),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),s=i||r||o,a=s&&(i?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),u=!o&&/Chrome\/(\d+)/.exec(t),d=u&&+u[1],h=/Opera\//.test(t),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),m=/PhantomJS/.test(t),g=f&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),v=/Android/.test(t),b=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=g||/Mac/.test(e),w=/\bCrOS\b/.test(t),x=/win/i.test(e),C=h&&t.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(h=!1,l=!0);var _=y&&(c||h&&(null==C||C<12.11)),S=n||s&&a>=9;function T(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var k,M=function(t,e){var n=t.className,i=T(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function L(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function A(t,e){return L(t).appendChild(e)}function O(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function E(t,e,n,i){var r=O(t,e,n,i);return r.setAttribute("role","presentation"),r}function D(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function N(t){var e;try{e=t.activeElement}catch(n){e=t.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function I(t,e){var n=t.className;T(e).test(n)||(t.className+=(n?" ":"")+e)}function P(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!T(n[i]).test(e)&&(e+=" "+n[i]);return e}k=document.createRange?function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(t){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var W=function(t){t.select()};function B(t){return t.display.wrapper.ownerDocument}function R(t){return B(t).defaultView}function F(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function j(t,e,n){for(var i in e||(e={}),t)!t.hasOwnProperty(i)||!1===n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function $(t,e,n,i,r){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=i||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}}g?W=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:s&&(W=function(t){try{t.select()}catch(t){}});var H=function(){this.id=null,this.f=null,this.time=0,this.handler=F(this.onTimeout,this)};function z(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}H.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},H.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};var Z={toString:function(){return"CodeMirror.Pass"}},X={scroll:!1},V={origin:"*mouse"},U={origin:"+move"};function q(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("\t",i);-1==o&&(o=t.length);var s=o-i;if(o==t.length||r+s>=e)return i+Math.min(s,e-r);if(r+=o-i,i=o+1,(r+=n-r%n)>=e)return i}}var G=[""];function K(t){for(;G.length<=t;)G.push(Y(G)+" ");return G[t]}function Y(t){return t[t.length-1]}function J(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function Q(){}function tt(t,e){var n;return Object.create?n=Object.create(t):(Q.prototype=t,n=new Q),e&&j(e,n),n}var et=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function nt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||et.test(t))}function it(t,e){return e?!!(e.source.indexOf("\\w")>-1&&nt(t))||e.test(t):nt(t)}function rt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var ot=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function st(t){return t.charCodeAt(0)>=768&&ot.test(t)}function at(t,e,n){for(;(n<0?e>0:e<t.length)&&st(t.charAt(e));)e+=n;return e}function lt(t,e,n){for(var i=e>n?-1:1;;){if(e==n)return e;var r=(e+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+i}}var ct=null;function ut(t,e,n){var i;ct=null;for(var r=0;r<t.length;++r){var o=t[r];if(o.from<e&&o.to>e)return r;o.to==e&&(o.from!=o.to&&"before"==n?i=r:ct=r),o.from==e&&(o.from!=o.to&&"before"!=n?i=r:ct=r)}return null!=i?i:ct}var dt=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,n=/[LRr]/,i=/[Lb1n]/,r=/[1n]/;function o(t,e,n){this.level=t,this.from=e,this.to=n}return function(s,a){var l,c="ltr"==a?"L":"R";if(0==s.length||"ltr"==a&&!t.test(s))return!1;for(var u=s.length,d=[],h=0;h<u;++h)d.push((l=s.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var f=0,p=c;f<u;++f){var m=d[f];"m"==m?d[f]=p:p=m}for(var g=0,v=c;g<u;++g){var b=d[g];"1"==b&&"r"==v?d[g]="n":n.test(b)&&(v=b,"r"==b&&(d[g]="R"))}for(var y=1,w=d[0];y<u-1;++y){var x=d[y];"+"==x&&"1"==w&&"1"==d[y+1]?d[y]="1":","!=x||w!=d[y+1]||"1"!=w&&"n"!=w||(d[y]=w),w=x}for(var C=0;C<u;++C){var _=d[C];if(","==_)d[C]="N";else if("%"==_){var S=void 0;for(S=C+1;S<u&&"%"==d[S];++S);for(var T=C&&"!"==d[C-1]||S<u&&"1"==d[S]?"1":"N",k=C;k<S;++k)d[k]=T;C=S-1}}for(var M=0,L=c;M<u;++M){var A=d[M];"L"==L&&"1"==A?d[M]="L":n.test(A)&&(L=A)}for(var O=0;O<u;++O)if(e.test(d[O])){var E=void 0;for(E=O+1;E<u&&e.test(d[E]);++E);for(var D="L"==(O?d[O-1]:c),N=D==("L"==(E<u?d[E]:c))?D?"L":"R":c,I=O;I<E;++I)d[I]=N;O=E-1}for(var P,W=[],B=0;B<u;)if(i.test(d[B])){var R=B;for(++B;B<u&&i.test(d[B]);++B);W.push(new o(0,R,B))}else{var F=B,j=W.length,$="rtl"==a?1:0;for(++B;B<u&&"L"!=d[B];++B);for(var H=F;H<B;)if(r.test(d[H])){F<H&&(W.splice(j,0,new o(1,F,H)),j+=$);var z=H;for(++H;H<B&&r.test(d[H]);++H);W.splice(j,0,new o(2,z,H)),j+=$,F=H}else++H;F<B&&W.splice(j,0,new o(1,F,B))}return"ltr"==a&&(1==W[0].level&&(P=s.match(/^\s+/))&&(W[0].from=P[0].length,W.unshift(new o(0,0,P[0].length))),1==Y(W).level&&(P=s.match(/\s+$/))&&(Y(W).to-=P[0].length,W.push(new o(0,u-P[0].length,u)))),"rtl"==a?W.reverse():W}}();function ht(t,e){var n=t.order;return null==n&&(n=t.order=dt(t.text,e)),n}var ft=[],pt=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});i[e]=(i[e]||ft).concat(n)}};function mt(t,e){return t._handlers&&t._handlers[e]||ft}function gt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers,r=i&&i[e];if(r){var o=z(r,n);o>-1&&(i[e]=r.slice(0,o).concat(r.slice(o+1)))}}}function vt(t,e){var n=mt(t,e);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function bt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),vt(t,n||e.type,t,e),St(e)||e.codemirrorIgnore}function yt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==z(n,e[i])&&n.push(e[i])}function wt(t,e){return mt(t,e).length>0}function xt(t){t.prototype.on=function(t,e){pt(this,t,e)},t.prototype.off=function(t,e){gt(this,t,e)}}function Ct(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function _t(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function St(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Tt(t){Ct(t),_t(t)}function kt(t){return t.target||t.srcElement}function Mt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var Lt,At,Ot=function(){if(s&&a<9)return!1;var t=O("div");return"draggable"in t||"dragDrop"in t}();function Et(t){if(null==Lt){var e=O("span","");A(t,O("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Lt=e.offsetWidth<=1&&e.offsetHeight>2&&!(s&&a<8))}var n=Lt?O("span",""):O("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Dt(t){if(null!=At)return At;var e=A(t,document.createTextNode("AA")),n=k(e,0,1).getBoundingClientRect(),i=k(e,1,2).getBoundingClientRect();return L(t),!(!n||n.left==n.right)&&(At=i.right-n.right<3)}var Nt,It=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Pt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Wt="oncopy"in(Nt=O("div"))||(Nt.setAttribute("oncopy","return;"),"function"==typeof Nt.oncopy),Bt=null;var Rt={},Ft={};function jt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Rt[t]=e}function $t(t){if("string"==typeof t&&Ft.hasOwnProperty(t))t=Ft[t];else if(t&&"string"==typeof t.name&&Ft.hasOwnProperty(t.name)){var e=Ft[t.name];"string"==typeof e&&(e={name:e}),(t=tt(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return $t("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return $t("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Ht(t,e){e=$t(e);var n=Rt[e.name];if(!n)return Ht(t,"text/plain");var i=n(t,e);if(zt.hasOwnProperty(e.name)){var r=zt[e.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)i[s]=e.modeProps[s];return i}var zt={};function Zt(t,e){j(e,zt.hasOwnProperty(t)?zt[t]:zt[t]={})}function Xt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Vt(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Ut(t,e,n){return!t.startState||t.startState(e,n)}var qt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Gt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(e<o){n=r;break}e-=o}return n.lines[e]}function Kt(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,(function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r})),i}function Yt(t,e,n){var i=[];return t.iter(e,n,(function(t){i.push(t.text)})),i}function Jt(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function Qt(t){if(null==t.parent)return null;for(var e=t.parent,n=z(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function te(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(e<o){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s].height;if(e<a)break;e-=a}return n+s}function ee(t,e){return e>=t.first&&e<t.first+t.size}function ne(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function ie(t,e,n){if(void 0===n&&(n=null),!(this instanceof ie))return new ie(t,e,n);this.line=t,this.ch=e,this.sticky=n}function re(t,e){return t.line-e.line||t.ch-e.ch}function oe(t,e){return t.sticky==e.sticky&&0==re(t,e)}function se(t){return ie(t.line,t.ch)}function ae(t,e){return re(t,e)<0?e:t}function le(t,e){return re(t,e)<0?t:e}function ce(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function ue(t,e){if(e.line<t.first)return ie(t.first,0);var n=t.first+t.size-1;return e.line>n?ie(n,Gt(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?ie(t.line,e):n<0?ie(t.line,0):t}(e,Gt(t,e.line).text.length)}function de(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=ue(t,e[i]);return n}qt.prototype.eol=function(){return this.pos>=this.string.length},qt.prototype.sol=function(){return this.pos==this.lineStart},qt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},qt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},qt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},qt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},qt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},qt.prototype.skipToEnd=function(){this.pos=this.string.length},qt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},qt.prototype.backUp=function(t){this.pos-=t},qt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=$(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?$(this.string,this.lineStart,this.tabSize):0)},qt.prototype.indentation=function(){return $(this.string,null,this.tabSize)-(this.lineStart?$(this.string,this.lineStart,this.tabSize):0)},qt.prototype.match=function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t};if(r(this.string.substr(this.pos,t.length))==r(t))return!1!==e&&(this.pos+=t.length),!0},qt.prototype.current=function(){return this.string.slice(this.start,this.pos)},qt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},qt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},qt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var he=function(t,e){this.state=t,this.lookAhead=e},fe=function(t,e,n,i){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function pe(t,e,n,i){var r=[t.state.modeGen],o={};_e(t,e.text,t.doc.mode,n,(function(t,e){return r.push(t,e)}),o,i);for(var s=n.state,a=function(i){n.baseTokens=r;var a=t.state.overlays[i],l=1,c=0;n.state=!0,_e(t,e.text,a.mode,n,(function(t,e){for(var n=l;c<t;){var i=r[l];i>t&&r.splice(l,1,t,r[l+1],i),l+=2,c=Math.min(t,i)}if(e)if(a.opaque)r.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+e}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)a(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function me(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=ge(t,Qt(e)),r=e.text.length>t.options.maxHighlightLength&&Xt(t.doc.mode,i.state),o=pe(t,e,i);r&&(i.state=r),e.stateAfter=i.save(!r),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function ge(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return new fe(i,!0,e);var o=function(t,e,n){for(var i,r,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=Gt(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof he?c.lookAhead:0)<=o.modeFrontier))return a;var u=$(l.text,null,t.options.tabSize);(null==r||i>u)&&(r=a-1,i=u)}return r}(t,e,n),s=o>i.first&&Gt(i,o-1).stateAfter,a=s?fe.fromSaved(i,s,o):new fe(i,Ut(i.mode),o);return i.iter(o,e,(function(n){ve(t,n.text,a);var i=a.line;n.stateAfter=i==e-1||i%5==0||i>=r.viewFrom&&i<r.viewTo?a.save():null,a.nextLine()})),n&&(i.modeFrontier=a.line),a}function ve(t,e,n,i){var r=t.doc.mode,o=new qt(e,t.options.tabSize,n);for(o.start=o.pos=i||0,""==e&&be(r,n.state);!o.eol();)ye(r,o,n.state),o.start=o.pos}function be(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Vt(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ye(t,e,n,i){for(var r=0;r<10;r++){i&&(i[0]=Vt(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}fe.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},fe.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},fe.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},fe.fromSaved=function(t,e,n){return e instanceof he?new fe(t,Xt(t.mode,e.state),n,e.lookAhead):new fe(t,Xt(t.mode,e),n)},fe.prototype.save=function(t){var e=!1!==t?Xt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new he(e,this.maxLookAhead):e};var we=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function xe(t,e,n,i){var r,o,s=t.doc,a=s.mode,l=Gt(s,(e=ue(s,e)).line),c=ge(t,e.line,n),u=new qt(l.text,t.options.tabSize,c);for(i&&(o=[]);(i||u.pos<e.ch)&&!u.eol();)u.start=u.pos,r=ye(a,u,c.state),i&&o.push(new we(u,r,Xt(s.mode,c.state)));return i?o:new we(u,r,c.state)}function Ce(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(e[i])||(e[i]+=" "+n[2])}return t}function _e(t,e,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,d=new qt(e,t.options.tabSize,i),h=t.options.addModeClass&&[null];for(""==e&&Ce(be(n,i.state),o);!d.eol();){if(d.pos>t.options.maxHighlightLength?(a=!1,s&&ve(t,e,i,d.pos),d.pos=e.length,l=null):l=Ce(ye(n,d,i.state,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<d.start;)r(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e3);r(p,u),c=p}}var Se=!1,Te=!1;function ke(t,e,n){this.marker=t,this.from=e,this.to=n}function Me(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function Le(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function Ae(t,e){if(e.full)return null;var n=ee(t,e.from.line)&&Gt(t,e.from.line).markedSpans,i=ee(t,e.to.line)&&Gt(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=0==re(e.from,e.to),a=function(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new ke(s,o.from,a?null:o.to))}}return i}(n,r,s),l=function(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new ke(s,a?null:o.from-e,null==o.to?null:o.to-e))}}return i}(i,o,s),c=1==e.text.length,u=Y(e.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var f=Me(l,h.marker);f?c&&(h.to=null==f.to?null:f.to+u):h.to=r}}if(l)for(var p=0;p<l.length;++p){var m=l[p];null!=m.to&&(m.to+=u),null==m.from?Me(a,m.marker)||(m.from=u,c&&(a||(a=[])).push(m)):(m.from+=u,c&&(a||(a=[])).push(m))}a&&(a=Oe(a)),l&&l!=a&&(l=Oe(l));var g=[a];if(!c){var v,b=e.text.length-2;if(b>0&&a)for(var y=0;y<a.length;++y)null==a[y].to&&(v||(v=[])).push(new ke(a[y].marker,null,null));for(var w=0;w<b;++w)g.push(v);g.push(l)}return g}function Oe(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Ee(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function De(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Ne(t){return t.inclusiveLeft?-1:0}function Ie(t){return t.inclusiveRight?1:0}function Pe(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=re(i.from,r.from)||Ne(t)-Ne(e);return o?-o:re(i.to,r.to)||Ie(t)-Ie(e)||e.id-t.id}function We(t,e){var n,i=Te&&t.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(e?r.from:r.to)&&(!n||Pe(n,r.marker)<0)&&(n=r.marker);return n}function Be(t){return We(t,!0)}function Re(t){return We(t,!1)}function Fe(t,e){var n,i=Te&&t.markedSpans;if(i)for(var r=0;r<i.length;++r){var o=i[r];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Pe(n,o.marker)<0)&&(n=o.marker)}return n}function je(t,e,n,i,r){var o=Gt(t,e),s=Te&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=re(c.from,n)||Ne(l.marker)-Ne(r),d=re(c.to,i)||Ie(l.marker)-Ie(r);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?re(c.to,n)>=0:re(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?re(c.from,i)<=0:re(c.from,i)<0)))return!0}}}function $e(t){for(var e;e=Be(t);)t=e.find(-1,!0).line;return t}function He(t,e){var n=Gt(t,e),i=$e(n);return n==i?e:Qt(i)}function ze(t,e){if(e>t.lastLine())return e;var n,i=Gt(t,e);if(!Ze(t,i))return e;for(;n=Re(i);)i=n.find(1,!0).line;return Qt(i)+1}function Ze(t,e){var n=Te&&e.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Xe(t,e,i))return!0}}function Xe(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return Xe(t,i.line,Me(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r=void 0,o=0;o<e.markedSpans.length;++o)if((r=e.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Xe(t,e,r))return!0}function Ve(t){for(var e=0,n=(t=$e(t)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;e+=a.height}return e}function Ue(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=Be(i);){var r=e.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=t;e=Re(i);){var o=e.find(0,!0);n-=i.text.length-o.from.ch,n+=(i=o.to.line).text.length-o.to.ch}return n}function qe(t){var e=t.display,n=t.doc;e.maxLine=Gt(n,n.first),e.maxLineLength=Ue(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=Ue(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}var Ge=function(t,e,n){this.text=t,De(this,e),this.height=n?n(this):1};function Ke(t){t.parent=null,Ee(t)}Ge.prototype.lineNo=function(){return Qt(this)},xt(Ge);var Ye={},Je={};function Qe(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Je:Ye;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function tn(t,e){var n=E("span",null,null,l?"padding-right: .1px":null),i={pre:E("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o=r?e.rest[r-1]:e.line,s=void 0;i.pos=0,i.addToken=nn,Dt(t.display.measure)&&(s=ht(o,t.doc.direction))&&(i.addToken=rn(i.addToken,s)),i.map=[],sn(o,i,me(t,o,e!=t.display.externalMeasured&&Qt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=P(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=P(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Et(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var a=i.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return vt(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=P(i.pre.className,i.textClass||"")),i}function en(t){var e=O("span","","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function nn(t,e,n,i,r,o,l){if(e){var c,u=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,i="",r=0;r<t.length;r++){var o=t.charAt(r);" "!=o||!n||r!=t.length-1&&32!=t.charCodeAt(r+1)||(o=""),i+=o,n=" "==o}return i}(e,t.trailingSpace):e,d=t.cm.state.specialChars,h=!1;if(d.test(e)){c=document.createDocumentFragment();for(var f=0;;){d.lastIndex=f;var p=d.exec(e),m=p?p.index-f:e.length-f;if(m){var g=document.createTextNode(u.slice(f,f+m));s&&a<9?c.appendChild(O("span",[g])):c.appendChild(g),t.map.push(t.pos,t.pos+m,g),t.col+=m,t.pos+=m}if(!p)break;f+=m+1;var v=void 0;if("\t"==p[0]){var b=t.cm.options.tabSize,y=b-t.col%b;(v=c.appendChild(O("span",K(y),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=y}else"\r"==p[0]||"\n"==p[0]?((v=c.appendChild(O("span","\r"==p[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?c.appendChild(O("span",[v])):c.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,c=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,c),s&&a<9&&(h=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),n||i||r||h||o||l){var w=n||"";i&&(w+=i),r&&(w+=r);var x=O("span",[c],w,o);if(l)for(var C in l)l.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&x.setAttribute(C,l[C]);return t.content.appendChild(x)}t.content.appendChild(c)}}function rn(t,e){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=void 0,h=0;h<e.length&&!((d=e[h]).to>c&&d.from<=c);h++);if(d.to>=u)return t(n,i,r,o,s,a,l);t(n,i.slice(0,d.to-c),r,o,null,a,l),o=null,i=i.slice(d.to-c),c=d.to}}}function on(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function sn(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,l,c,u,d,h,f=r.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=a="",h=null,d=null,v=1/0;for(var b=[],y=void 0,w=0;w<i.length;++w){var x=i[w],C=x.marker;if("bookmark"==C.type&&x.from==p&&C.widgetNode)b.push(C);else if(x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)){if(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,c=""),C.className&&(l+=" "+C.className),C.css&&(a=(a?a+";":"")+C.css),C.startStyle&&x.from==p&&(u+=" "+C.startStyle),C.endStyle&&x.to==v&&(y||(y=[])).push(C.endStyle,x.to),C.title&&((h||(h={})).title=C.title),C.attributes)for(var _ in C.attributes)(h||(h={}))[_]=C.attributes[_];C.collapsed&&(!d||Pe(d.marker,C)<0)&&(d=x)}else x.from>p&&v>x.from&&(v=x.from)}if(y)for(var S=0;S<y.length;S+=2)y[S+1]==v&&(c+=" "+y[S]);if(!d||d.from==p)for(var T=0;T<b.length;++T)on(e,0,b[T]);if(d&&(d.from||0)==p){if(on(e,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=f)break;for(var k=Math.min(f,v);;){if(g){var M=p+g.length;if(!d){var L=M>k?g.slice(0,k-p):g;e.addToken(e,L,s?s+l:l,u,p+L.length==v?c:"",a,h)}if(M>=k){g=g.slice(k-p),p=k;break}p=M,u=""}g=r.slice(o,o=n[m++]),s=Qe(n[m++],e.cm.options)}}else for(var A=1;A<n.length;A+=2)e.addToken(e,r.slice(o,o=n[A]),Qe(n[A+1],e.cm.options))}function an(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=Re(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?Qt(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ze(t,e)}function ln(t,e,n){for(var i,r=[],o=e;o<n;o=i){var s=new an(t.doc,Gt(t.doc,o),o);i=o+s.size,r.push(s)}return r}var cn=null;var un=null;function dn(t,e){var n=mt(t,e);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);cn?i=cn.delayedCallbacks:un?i=un:(i=un=[],setTimeout(hn,0));for(var o=function(t){i.push((function(){return n[t].apply(null,r)}))},s=0;s<n.length;++s)o(s)}}function hn(){var t=un;un=null;for(var e=0;e<t.length;++e)t[e]()}function fn(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?gn(t,e):"gutter"==o?bn(t,e,n,i):"class"==o?vn(t,e):"widget"==o&&yn(t,e,i)}e.changes=null}function pn(t){return t.node==t.text&&(t.node=O("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),s&&a<8&&(t.node.style.zIndex=2)),t.node}function mn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):tn(t,e)}function gn(t,e){var n=e.text.className,i=mn(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,vn(t,e)):n&&(e.text.className=n)}function vn(t,e){(function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var i=pn(e);e.background=i.insertBefore(O("div",null,n),i.firstChild),t.display.input.setUneditable(e.background)}})(t,e),e.line.wrapClass?pn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function bn(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=pn(e);e.gutterBackground=O("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=pn(e),a=e.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(O("div",ne(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var c=t.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(O("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function yn(t,e,n){e.alignable&&(e.alignable=null);for(var i=T("CodeMirror-linewidget"),r=e.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,i.test(r.className)&&e.node.removeChild(r);xn(t,e,n)}function wn(t,e,n,i){var r=mn(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),vn(t,e),bn(t,e,n,i),xn(t,e,i),e.node}function xn(t,e,n){if(Cn(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)Cn(t,e.rest[i],e,n,!1)}function Cn(t,e,n,i,r){if(e.widgets)for(var o=pn(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=O("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),_n(l,c,n,i),t.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),dn(l,"redraw")}}function _n(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function Sn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!D(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),A(e.display.measure,O("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Tn(t,e){for(var n=kt(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function kn(t){return t.lineSpace.offsetTop}function Mn(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ln(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=A(t.measure,O("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function An(t){return 50-t.display.nativeBarWidth}function On(t){return t.display.scroller.clientWidth-An(t)-t.display.barWidth}function En(t){return t.display.scroller.clientHeight-An(t)-t.display.barHeight}function Dn(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var r=0;r<t.rest.length;r++)if(Qt(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}}function Nn(t,e,n,i){return Wn(t,Pn(t,e),n,i)}function In(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[fi(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Pn(t,e){var n=Qt(e),i=In(t,n);i&&!i.text?i=null:i&&i.changes&&(fn(t,i,n,li(t)),t.curOp.forceUpdate=!0),i||(i=function(t,e){var n=Qt(e=$e(e)),i=t.display.externalMeasured=new an(t.doc,e,n);i.lineN=n;var r=i.built=tn(t,i);return i.text=r.pre,A(t.display.lineMeasure,r.pre),i}(t,e));var r=Dn(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Wn(t,e,n,i,r){e.before&&(n=-1);var o,l=n+(i||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var i=t.options.lineWrapping,r=i&&On(t);if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,i){var r,o=Fn(e.map,n,i),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;c&&st(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&st(e.line.text.charAt(o.coverStart+u));)++u;if((r=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():jn(k(l,c,u).getClientRects(),i)).left||r.right||0==c)break;u=c,c-=1,d="right"}s&&a<11&&(r=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Bt)return Bt;var e=A(t,O("span","x")),n=e.getBoundingClientRect(),i=k(e,0,1).getBoundingClientRect();return Bt=Math.abs(n.left-i.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}(t.display.measure,r))}else{var f;c>0&&(d=i="right"),r=t.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==i?f.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!r||!r.left&&!r.right)){var p=l.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+ai(t.display),top:p.top,bottom:p.bottom}:Rn}for(var m=r.top-e.rect.top,g=r.bottom-e.rect.top,v=(m+g)/2,b=e.view.measure.heights,y=0;y<b.length-1&&!(v<b[y]);y++);var w=y?b[y-1]:0,x=b[y],C={left:("right"==d?r.right:r.left)-e.rect.left,right:("left"==d?r.left:r.right)-e.rect.left,top:w,bottom:x};return r.left||r.right||(C.bogus=!0),t.options.singleCursorHeightPerLine||(C.rtop=m,C.rbottom=g),C}(t,e,n,i)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Bn,Rn={left:0,right:0,top:0,bottom:0};function Fn(t,e,n){for(var i,r,o,s,a,l,c=0;c<t.length;c+=3)if(a=t[c],l=t[c+1],e<a?(r=0,o=1,s="left"):e<l?o=1+(r=e-a):(c==t.length-3||e==l&&t[c+3]>e)&&(r=(o=l-a)-1,e>=l&&(s="right")),null!=r){if(i=t[c+2],a==l&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)i=t[2+(c-=3)],s="left";if("right"==n&&r==l-a)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)i=t[(c+=3)+2],s="right";break}return{node:i,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function jn(t,e){var n=Rn;if("left"==e)for(var i=0;i<t.length&&(n=t[i]).left==n.right;i++);else for(var r=t.length-1;r>=0&&(n=t[r]).left==n.right;r--);return n}function $n(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Hn(t){t.display.externalMeasure=null,L(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)$n(t.display.view[e])}function zn(t){Hn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Zn(t){return u&&v?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Xn(t){return u&&v?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function Vn(t){var e=$e(t).widgets,n=0;if(e)for(var i=0;i<e.length;++i)e[i].above&&(n+=Sn(e[i]));return n}function Un(t,e,n,i,r){if(!r){var o=Vn(e);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=Ve(e);if("local"==i?s+=kn(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Xn(B(t)));var l=a.left+("window"==i?0:Zn(B(t)));n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function qn(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=Zn(B(t)),r-=Xn(B(t));else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function Gn(t,e,n,i,r){return i||(i=Gt(t.doc,e.line)),Un(t,i,Nn(t,i,e.ch,r),n)}function Kn(t,e,n,i,r,o){function s(e,s){var a=Wn(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Un(t,i,a,n)}i=i||Gt(t.doc,e.line),r||(r=Pn(t,i));var a=ht(i,t.doc.direction),l=e.ch,c=e.sticky;if(l>=i.text.length?(l=i.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(t,e,n){return s(n?t-1:t,1==a[e].level!=n)}var d=ut(a,l,c),h=ct,f=u(l,d,"before"==c);return null!=h&&(f.other=u(l,h,"before"!=c)),f}function Yn(t,e){var n=0;e=ue(t.doc,e),t.options.lineWrapping||(n=ai(t.display)*e.ch);var i=Gt(t.doc,e.line),r=Ve(i)+kn(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Jn(t,e,n,i,r){var o=ie(t,e,n);return o.xRel=r,i&&(o.outside=i),o}function Qn(t,e,n){var i=t.doc;if((n+=t.display.viewOffset)<0)return Jn(i.first,0,null,-1,-1);var r=te(i,n),o=i.first+i.size-1;if(r>o)return Jn(i.first+i.size-1,Gt(i,o).text.length,null,1,1);e<0&&(e=0);for(var s=Gt(i,r);;){var a=ii(t,s,r,e,n),l=Fe(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==r)return c;s=Gt(i,r=c.line)}}function ti(t,e,n,i){i-=Vn(e);var r=e.text.length,o=lt((function(e){return Wn(t,n,e-1).bottom<=i}),r,0);return{begin:o,end:r=lt((function(e){return Wn(t,n,e).top>i}),o,r)}}function ei(t,e,n,i){return n||(n=Pn(t,e)),ti(t,e,n,Un(t,e,Wn(t,n,i),"line").top)}function ni(t,e,n,i){return!(t.bottom<=n)&&(t.top>n||(i?t.left:t.right)>e)}function ii(t,e,n,i,r){r-=Ve(e);var o=Pn(t,e),s=Vn(e),a=0,l=e.text.length,c=!0,u=ht(e,t.doc.direction);if(u){var d=(t.options.lineWrapping?oi:ri)(t,e,n,o,u,i,r);a=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var h,f,p=null,m=null,g=lt((function(e){var n=Wn(t,o,e);return n.top+=s,n.bottom+=s,!!ni(n,i,r,!1)&&(n.top<=r&&n.left<=i&&(p=e,m=n),!0)}),a,l),v=!1;if(m){var b=i-m.left<m.right-i,y=b==c;g=p+(y?0:1),f=y?"after":"before",h=b?m.left:m.right}else{c||g!=l&&g!=a||g++,f=0==g?"after":g==e.text.length?"before":Wn(t,o,g-(c?1:0)).bottom+s<=r==c?"after":"before";var w=Kn(t,ie(n,g,f),"line",e,o);h=w.left,v=r<w.top?-1:r>=w.bottom?1:0}return Jn(n,g=at(e.text,g,1),f,v,i-h)}function ri(t,e,n,i,r,o,s){var a=lt((function(a){var l=r[a],c=1!=l.level;return ni(Kn(t,ie(n,c?l.to:l.from,c?"before":"after"),"line",e,i),o,s,!0)}),0,r.length-1),l=r[a];if(a>0){var c=1!=l.level,u=Kn(t,ie(n,c?l.from:l.to,c?"after":"before"),"line",e,i);ni(u,o,s,!0)&&u.top>s&&(l=r[a-1])}return l}function oi(t,e,n,i,r,o,s){var a=ti(t,e,i,s),l=a.begin,c=a.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var u=null,d=null,h=0;h<r.length;h++){var f=r[h];if(!(f.from>=c||f.to<=l)){var p=Wn(t,i,1!=f.level?Math.min(c,f.to)-1:Math.max(l,f.from)).right,m=p<o?o-p+1e9:p-o;(!u||d>m)&&(u=f,d=m)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function si(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Bn){Bn=O("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Bn.appendChild(document.createTextNode("x")),Bn.appendChild(O("br"));Bn.appendChild(document.createTextNode("x"))}A(t.measure,Bn);var n=Bn.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),L(t.measure),n||1}function ai(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=O("span","xxxxxxxxxx"),n=O("pre",[e],"CodeMirror-line-like");A(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function li(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=t.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+r,i[a]=o.clientWidth}return{fixedPos:ci(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function ci(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function ui(t){var e=si(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/ai(t.display)-3);return function(r){if(Ze(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*e:o+e}}function di(t){var e=t.doc,n=ui(t);e.iter((function(t){var e=n(t);e!=t.height&&Jt(t,e)}))}function hi(t,e,n,i){var r=t.display;if(!n&&"true"==kt(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(t){return null}var l,c=Qn(t,o,s);if(i&&c.xRel>0&&(l=Gt(t.doc,c.line).text).length==c.ch){var u=$(l,l.length,t.options.tabSize)-l.length;c=ie(c.line,Math.max(0,Math.round((o-Ln(t.display).left)/ai(t.display))-u))}return c}function fi(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,i=0;i<n.length;i++)if((e-=n[i].size)<0)return i}function pi(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Te&&He(t.doc,e)<r.viewTo&&gi(t);else if(n<=r.viewFrom)Te&&ze(t.doc,n+i)>r.viewFrom?gi(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)gi(t);else if(e<=r.viewFrom){var o=vi(t,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):gi(t)}else if(n>=r.viewTo){var s=vi(t,e,e,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):gi(t)}else{var a=vi(t,e,e,-1),l=vi(t,n,n+i,1);a&&l?(r.view=r.view.slice(0,a.index).concat(ln(t,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):gi(t)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=i:e<c.lineN+c.size&&(r.externalMeasured=null))}function mi(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[fi(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==z(s,n)&&s.push(n)}}}function gi(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function vi(t,e,n,i){var r,o=fi(t,e),s=t.display.view;if(!Te||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(i>0){if(o==s.length-1)return null;r=a+s[o].size-e,o++}else r=a-e;e+=r,n+=r}for(;He(t.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function bi(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function yi(t){t.display.input.showSelection(t.display.input.prepareSelection())}function wi(t,e){void 0===e&&(e=!0);var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=t.options.$customCursor;s&&(e=!0);for(var a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=t.display.viewTo||l.to().line<t.display.viewFrom)){var c=l.empty();if(s){var u=s(t,l);u&&xi(t,u,r)}else(c||t.options.showCursorWhenSelecting)&&xi(t,l.head,r);c||_i(t,l,o)}}return i}function xi(t,e,n){var i=Kn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(O("div","","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var o=Gn(t,e,"div",null,null),s=o.right-o.left;r.style.width=(s>0?s:t.defaultCharWidth())+"px"}if(i.other){var a=n.appendChild(O("div","","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Ci(t,e){return t.top-e.top||t.left-e.left}function _i(t,e,n){var i=t.display,r=t.doc,o=document.createDocumentFragment(),s=Ln(t.display),a=s.left,l=Math.max(i.sizerWidth,On(t)-i.sizer.offsetLeft)-s.right,c="ltr"==r.direction;function u(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),o.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(i-e)+"px"))}function d(e,n,i){var o,s,d=Gt(r,e),h=d.text.length;function f(n,i){return Gn(t,ie(e,n),"div",d,i)}function p(e,n,i){var r=ei(t,d,null,e),o="ltr"==n==("after"==i)?"left":"right";return f("after"==i?r.begin:r.end-(/\s/.test(d.text.charAt(r.end-1))?2:1),o)[o]}var m=ht(d,r.direction);return function(t,e,n,i){if(!t)return i(e,n,"ltr",0);for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),r=!0)}r||i(e,n,"ltr")}(m,n||0,null==i?h:i,(function(t,e,r,d){var g="ltr"==r,v=f(t,g?"left":"right"),b=f(e-1,g?"right":"left"),y=null==n&&0==t,w=null==i&&e==h,x=0==d,C=!m||d==m.length-1;if(b.top-v.top<=3){var _=(c?w:y)&&C,S=(c?y:w)&&x?a:(g?v:b).left,T=_?l:(g?b:v).right;u(S,v.top,T-S,v.bottom)}else{var k,M,L,A;g?(k=c&&y&&x?a:v.left,M=c?l:p(t,r,"before"),L=c?a:p(e,r,"after"),A=c&&w&&C?l:b.right):(k=c?p(t,r,"before"):a,M=!c&&y&&x?l:v.right,L=!c&&w&&C?a:b.left,A=c?p(e,r,"after"):l),u(k,v.top,M-k,v.bottom),v.bottom<b.top&&u(a,v.bottom,null,b.top),u(L,b.top,A-L,b.bottom)}(!o||Ci(v,o)<0)&&(o=v),Ci(b,o)<0&&(o=b),(!s||Ci(v,s)<0)&&(s=v),Ci(b,s)<0&&(s=b)})),{start:o,end:s}}var h=e.from(),f=e.to();if(h.line==f.line)d(h.line,h.ch,f.ch);else{var p=Gt(r,h.line),m=Gt(r,f.line),g=$e(p)==$e(m),v=d(h.line,h.ch,g?p.text.length+1:null).end,b=d(f.line,g?0:null,f.ch).start;g&&(v.top<b.top-2?(u(v.right,v.top,null,v.bottom),u(a,b.top,b.left,b.bottom)):u(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&u(a,v.bottom,null,b.top)}n.appendChild(o)}function Si(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){t.hasFocus()||Li(t),e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Ti(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Mi(t))}function ki(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Li(t))}),100)}function Mi(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(vt(t,"focus",t,e),t.state.focused=!0,I(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),Si(t))}function Li(t,e){t.state.delayingBlurEvent||(t.state.focused&&(vt(t,"blur",t,e),t.state.focused=!1,M(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Ai(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=Math.max(0,e.scroller.getBoundingClientRect().top),r=e.lineDiv.getBoundingClientRect().top,o=0,l=0;l<e.view.length;l++){var c=e.view[l],u=t.options.lineWrapping,d=void 0,h=0;if(!c.hidden){if(r+=c.line.height,s&&a<8){var f=c.node.offsetTop+c.node.offsetHeight;d=f-n,n=f}else{var p=c.node.getBoundingClientRect();d=p.bottom-p.top,!u&&c.text.firstChild&&(h=c.text.firstChild.getBoundingClientRect().right-p.left-1)}var m=c.line.height-d;if((m>.005||m<-.005)&&(r<i&&(o-=m),Jt(c.line,d),Oi(c.line),c.rest))for(var g=0;g<c.rest.length;g++)Oi(c.rest[g]);if(h>t.display.sizerWidth){var v=Math.ceil(h/ai(t.display));v>t.display.maxLineLength&&(t.display.maxLineLength=v,t.display.maxLine=c.line,t.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(e.scroller.scrollTop+=o)}function Oi(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function Ei(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-kn(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=te(e,i),s=te(e,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=te(e,Ve(Gt(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=te(e,Ve(Gt(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Di(t,e){var n=t.display,i=si(t.display);e.top<0&&(e.top=0);var r=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=En(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+Mn(n),l=e.top<i,c=e.bottom>a-i;if(e.top<r)s.scrollTop=l?0:e.top;else if(e.bottom>r+o){var u=Math.min(e.top,(c?a:e.bottom)-o);u!=r&&(s.scrollTop=u)}var d=t.options.fixedGutter?0:n.gutters.offsetWidth,h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft-d,f=On(t)-n.gutters.offsetWidth,p=e.right-e.left>f;return p&&(e.right=e.left+f),e.left<10?s.scrollLeft=0:e.left<h?s.scrollLeft=Math.max(0,e.left+d-(p?0:10)):e.right>f+h-3&&(s.scrollLeft=e.right+(p?0:10)-f),s}function Ni(t,e){null!=e&&(Wi(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Ii(t){Wi(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Pi(t,e,n){null==e&&null==n||Wi(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Wi(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Bi(t,Yn(t,e.from),Yn(t,e.to),e.margin))}function Bi(t,e,n,i){var r=Di(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-i,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+i});Pi(t,r.scrollLeft,r.scrollTop)}function Ri(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||hr(t,{top:e}),Fi(t,e,!0),n&&hr(t),sr(t,100))}function Fi(t,e,n){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function ji(t,e,n,i){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!i||(t.doc.scrollLeft=e,mr(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function $i(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+Mn(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+An(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Hi=function(t,e,n){this.cm=n;var i=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,t(i),t(r),pt(i,"scroll",(function(){i.clientHeight&&e(i.scrollTop,"vertical")})),pt(r,"scroll",(function(){r.clientWidth&&e(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Hi.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},Hi.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Hi.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Hi.prototype.zeroWidthHack=function(){var t=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new H,this.disableVert=new H},Hi.prototype.enableZeroWidthBar=function(t,e,n){t.style.visibility="",e.set(1e3,(function i(){var r=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=t?t.style.visibility="hidden":e.set(1e3,i)}))},Hi.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var zi=function(){};function Zi(t,e){e||(e=$i(t));var n=t.display.barWidth,i=t.display.barHeight;Xi(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&Ai(t),Xi(t,$i(t)),n=t.display.barWidth,i=t.display.barHeight}function Xi(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}zi.prototype.update=function(){return{bottom:0,right:0}},zi.prototype.setScrollLeft=function(){},zi.prototype.setScrollTop=function(){},zi.prototype.clear=function(){};var Vi={native:Hi,null:zi};function Ui(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&M(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Vi[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),pt(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,n){"horizontal"==n?ji(t,e):Ri(t,e)}),t),t.display.scrollbars.addClass&&I(t.display.wrapper,t.display.scrollbars.addClass)}var qi=0;function Gi(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qi,markArrays:null},e=t.curOp,cn?cn.ops.push(e):e.ownsGroup=cn={ops:[e],delayedCallbacks:[]}}function Ki(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}(n)}finally{cn=null,e(n)}}(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Yi(e[n]);for(var i=0;i<e.length;i++)Ji(e[i]);for(var r=0;r<e.length;r++)Qi(e[r]);for(var o=0;o<e.length;o++)tr(e[o]);for(var s=0;s<e.length;s++)er(e[s])}(t)}))}function Yi(t){var e=t.cm,n=e.display;(function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=An(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=An(t)+"px",e.scrollbarsClipped=!0)})(e),t.updateMaxLine&&qe(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new lr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Ji(t){t.updatedDisplay=t.mustUpdate&&ur(t.cm,t.update)}function Qi(t){var e=t.cm,n=e.display;t.updatedDisplay&&Ai(e),t.barMeasure=$i(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Nn(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+An(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-On(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function tr(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&ji(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==N(B(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Zi(e,t.barMeasure),t.updatedDisplay&&pr(e,t.barMeasure),t.selectionChanged&&Si(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Ti(t.cm)}function er(t){var e=t.cm,n=e.display,i=e.doc;t.updatedDisplay&&dr(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Fi(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&ji(e,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,e){if(!bt(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null,o=n.wrapper.ownerDocument;if(e.top+i.top<0?r=!0:e.bottom+i.top>(o.defaultView.innerHeight||o.documentElement.clientHeight)&&(r=!1),null!=r&&!m){var s=O("div","",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-kn(t.display))+"px;\n                         height: "+(e.bottom-e.top+An(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(s),s.scrollIntoView(r),t.display.lineSpace.removeChild(s)}}}(e,function(t,e,n,i){var r;null==i&&(i=0),t.options.lineWrapping||e!=n||(n="before"==e.sticky?ie(e.line,e.ch+1,"before"):e,e=e.ch?ie(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e);for(var o=0;o<5;o++){var s=!1,a=Kn(t,e),l=n&&n!=e?Kn(t,n):a,c=Di(t,r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-i,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+i}),u=t.doc.scrollTop,d=t.doc.scrollLeft;if(null!=c.scrollTop&&(Ri(t,c.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(ji(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-d)>1&&(s=!0)),!s)break}return r}(e,ue(i,t.scrollToPos.from),ue(i,t.scrollToPos.to),t.scrollToPos.margin));var r=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(r)for(var s=0;s<r.length;++s)r[s].lines.length||vt(r[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&vt(o[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&vt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function nr(t,e){if(t.curOp)return e();Gi(t);try{return e()}finally{Ki(t)}}function ir(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Gi(t);try{return e.apply(t,arguments)}finally{Ki(t)}}}function rr(t){return function(){if(this.curOp)return t.apply(this,arguments);Gi(this);try{return t.apply(this,arguments)}finally{Ki(this)}}}function or(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Gi(e);try{return t.apply(this,arguments)}finally{Ki(e)}}}function sr(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,F(ar,t))}function ar(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=ge(t,e.highlightFrontier),r=[];e.iter(i.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(i.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Xt(e.mode,i.state):null,l=pe(t,o,i,!0);a&&(i.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<s.length;++h)d=s[h]!=o.styles[h];d&&r.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=t.options.maxHighlightLength&&ve(t,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return sr(t,t.options.workDelay),!0})),e.highlightFrontier=i.line,e.modeFrontier=Math.max(e.modeFrontier,i.line),r.length&&nr(t,(function(){for(var e=0;e<r.length;e++)mi(t,r[e],"text")}))}}var lr=function(t,e,n){var i=t.display;this.viewport=e,this.visible=Ei(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=On(t),this.force=n,this.dims=li(t),this.events=[]};function cr(t){if(t.hasFocus())return null;var e=N(B(t));if(!e||!D(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var i=R(t).getSelection();i.anchorNode&&i.extend&&D(t.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}function ur(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return gi(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==bi(t))return!1;gr(t)&&(gi(t),e.dims=li(t));var r=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),s=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Te&&(o=He(t.doc,o),s=ze(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;(function(t,e,n){var i=t.display;0==i.view.length||e>=i.viewTo||n<=i.viewFrom?(i.view=ln(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=ln(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(fi(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(ln(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,fi(t,n)))),i.viewTo=n})(t,o,s),n.viewOffset=Ve(Gt(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var c=bi(t);if(!a&&0==c&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=cr(t);return c>4&&(n.lineDiv.style.display="none"),function(t,e,n){var i=t.display,r=t.options.lineNumbers,o=i.lineDiv,s=o.firstChild;function a(e){var n=e.nextSibling;return l&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var c=i.view,u=i.viewFrom,d=0;d<c.length;d++){var h=c[d];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;s!=h.node;)s=a(s);var f=r&&null!=e&&e<=u&&h.lineNumber;h.changes&&(z(h.changes,"gutter")>-1&&(f=!1),fn(t,h,u,n)),f&&(L(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(ne(t.options,u)))),s=h.node.nextSibling}else{var p=wn(t,h,u,n);o.insertBefore(p,s)}u+=h.size}for(;s;)s=a(s)}(t,n.updateLineNumbers,e.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=N(t.activeElt.ownerDocument)&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&D(document.body,t.anchorNode)&&D(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,n=e.defaultView.getSelection(),i=e.createRange();i.setEnd(t.anchorNode,t.anchorOffset),i.collapse(!1),n.removeAllRanges(),n.addRange(i),n.extend(t.focusNode,t.focusOffset)}}(u),L(n.cursorDiv),L(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,sr(t,400)),n.updateLineNumbers=null,!0}function dr(t,e){for(var n=e.viewport,i=!0;;i=!1){if(i&&t.options.lineWrapping&&e.oldDisplayWidth!=On(t))i&&(e.visible=Ei(t.display,t.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Mn(t.display)-En(t),n.top)}),e.visible=Ei(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!ur(t,e))break;Ai(t);var r=$i(t);yi(t),Zi(t,r),pr(t,r),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function hr(t,e){var n=new lr(t,e);if(ur(t,n)){Ai(t),dr(t,n);var i=$i(t);yi(t),Zi(t,i),pr(t,i),n.finish()}}function fr(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",dn(t,"gutterChanged",t)}function pr(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+An(t)+"px"}function mr(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=ci(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function gr(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=ne(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(O("div",[O("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",fr(t.display),!0}return!1}function vr(t,e){for(var n=[],i=!1,r=0;r<t.length;r++){var o=t[r],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;i=!0}n.push({className:o,style:s})}return e&&!i&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function br(t){var e=t.gutters,n=t.gutterSpecs;L(e),t.lineGutter=null;for(var i=0;i<n.length;++i){var r=n[i],o=r.className,s=r.style,a=e.appendChild(O("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",fr(t)}function yr(t){br(t.display),pi(t),mr(t)}function wr(t,e,i,r){var o=this;this.input=i,o.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=E("div",null,"CodeMirror-code"),o.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=O("div",null,"CodeMirror-cursors"),o.measure=O("div",null,"CodeMirror-measure"),o.lineMeasure=O("div",null,"CodeMirror-measure"),o.lineSpace=E("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=E("div",[o.lineSpace],"CodeMirror-lines");o.mover=O("div",[c],null,"position: relative"),o.sizer=O("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=O("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=O("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=O("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=O("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),o.wrapper.setAttribute("translate","no"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&b||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=vr(r.gutters,r.lineNumbers),br(o),i.init(o)}lr.prototype.signal=function(t,e){wt(t,e)&&this.events.push(arguments)},lr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)vt.apply(null,this.events[t])};var xr=0,Cr=null;function _r(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function Sr(t){var e=_r(t);return e.x*=Cr,e.y*=Cr,e}function Tr(t,e){u&&102==d&&(null==t.display.chromeScrollHack?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout((function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""}),100));var i=_r(e),r=i.x,o=i.y,s=Cr;0===e.deltaMode&&(r=e.deltaX,o=e.deltaY,s=1);var a=t.display,c=a.scroller,f=c.scrollWidth>c.clientWidth,p=c.scrollHeight>c.clientHeight;if(r&&f||o&&p){if(o&&y&&l)t:for(var m=e.target,g=a.view;m!=c;m=m.parentNode)for(var v=0;v<g.length;v++)if(g[v].node==m){t.display.currentWheelTarget=m;break t}if(r&&!n&&!h&&null!=s)return o&&p&&Ri(t,Math.max(0,c.scrollTop+o*s)),ji(t,Math.max(0,c.scrollLeft+r*s)),(!o||o&&p)&&Ct(e),void(a.wheelStartX=null);if(o&&null!=s){var b=o*s,w=t.doc.scrollTop,x=w+a.wrapper.clientHeight;b<0?w=Math.max(0,w+b-50):x=Math.min(t.doc.height,x+b+50),hr(t,{top:w,bottom:x})}xr<20&&0!==e.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=c.scrollLeft,a.wheelStartY=c.scrollTop,a.wheelDX=r,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var t=c.scrollLeft-a.wheelStartX,e=c.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(Cr=(Cr*xr+n)/(xr+1),++xr)}}),200)):(a.wheelDX+=r,a.wheelDY+=o))}}s?Cr=-.53:n?Cr=15:u?Cr=-.7:f&&(Cr=-1/3);var kr=function(t,e){this.ranges=t,this.primIndex=e};kr.prototype.primary=function(){return this.ranges[this.primIndex]},kr.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(!oe(n.anchor,i.anchor)||!oe(n.head,i.head))return!1}return!0},kr.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Mr(se(this.ranges[e].anchor),se(this.ranges[e].head));return new kr(t,this.primIndex)},kr.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},kr.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(re(e,i.from())>=0&&re(t,i.to())<=0)return n}return-1};var Mr=function(t,e){this.anchor=t,this.head=e};function Lr(t,e,n){var i=t&&t.options.selectionsMayTouch,r=e[n];e.sort((function(t,e){return re(t.from(),e.from())})),n=z(e,r);for(var o=1;o<e.length;o++){var s=e[o],a=e[o-1],l=re(a.to(),s.from());if(i&&!s.empty()?l>0:l>=0){var c=le(a.from(),s.from()),u=ae(a.to(),s.to()),d=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,e.splice(--o,2,new Mr(d?u:c,d?c:u))}}return new kr(e,n)}function Ar(t,e){return new kr([new Mr(t,e||t)],0)}function Or(t){return t.text?ie(t.from.line+t.text.length-1,Y(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Er(t,e){if(re(t,e.from)<0)return t;if(re(t,e.to)<=0)return Or(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=Or(e).ch-e.to.ch),ie(n,i)}function Dr(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new Mr(Er(r.anchor,e),Er(r.head,e)))}return Lr(t.cm,n,t.sel.primIndex)}function Nr(t,e,n){return t.line==e.line?ie(n.line,t.ch-e.ch+n.ch):ie(n.line+(t.line-e.line),t.ch)}function Ir(t){t.doc.mode=Ht(t.options,t.doc.modeOption),Pr(t)}function Pr(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,sr(t,100),t.state.modeGen++,t.curOp&&pi(t)}function Wr(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Y(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Br(t,e,n,i){function r(t){return n?n[t]:null}function o(t,n,r){(function(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ee(t),De(t,n);var r=i?i(t):1;r!=t.height&&Jt(t,r)})(t,n,r,i),dn(t,"change",t,e)}function s(t,e){for(var n=[],o=t;o<e;++o)n.push(new Ge(c[o],r(o),i));return n}var a=e.from,l=e.to,c=e.text,u=Gt(t,a.line),d=Gt(t,l.line),h=Y(c),f=r(c.length-1),p=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Wr(t,e)){var m=s(0,c.length-1);o(d,d.text,f),p&&t.remove(a.line,p),m.length&&t.insert(a.line,m)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),f);else{var g=s(1,c.length-1);g.push(new Ge(h+u.text.slice(l.ch),f,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),t.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),r(0)),t.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(d,h+d.text.slice(l.ch),f);var v=s(1,c.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,v)}dn(t,"change",t,e)}function Rr(t,e,n){!function t(i,r,o){if(i.linked)for(var s=0;s<i.linked.length;++s){var a=i.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(e(a.doc,l),t(a.doc,i,l))}}}(t,null,!0)}function Fr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,di(t),Ir(t),jr(t),t.options.direction=e.direction,t.options.lineWrapping||qe(t),t.options.mode=e.modeOption,pi(t)}function jr(t){("rtl"==t.doc.direction?I:M)(t.display.lineDiv,"CodeMirror-rtl")}function $r(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Hr(t,e){var n={from:se(e.from),to:Or(e),text:Kt(t,e.from,e.to)};return Ur(t,n,e.from.line,e.to.line+1),Rr(t,(function(t){return Ur(t,n,e.from.line,e.to.line+1)}),!0),n}function zr(t){for(;t.length&&Y(t).ranges;)t.pop()}function Zr(t,e,n,i){var r=t.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(zr(t.done),Y(t.done)):t.done.length&&!Y(t.done).ranges?Y(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Y(t.done)):void 0}(r,r.lastOp==i)))s=Y(o.changes),0==re(e.from,e.to)&&0==re(e.from,s.to)?s.to=Or(e):o.changes.push(Hr(t,e));else{var l=Y(r.done);for(l&&l.ranges||Vr(t.sel,r.done),o={changes:[Hr(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,s||vt(t,"historyAdded")}function Xr(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,Y(r.done),e))?r.done[r.done.length-1]=e:Vr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&zr(r.undone)}function Vr(t,e){var n=Y(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Ur(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),(function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o}))}function qr(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Gr(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=[],r=0;r<e.text.length;++r)i.push(qr(n[r]));return i}(t,e),i=Ae(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[r]=s)}return n}function Kr(t,e,n){for(var i=[],r=0;r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?kr.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&z(e,Number(u[1]))>-1&&(Y(a)[d]=c[d],delete c[d])}}}return i}function Yr(t,e,n,i){if(i){var r=t.anchor;if(n){var o=re(e,r)<0;o!=re(n,r)<0?(r=e,e=n):o!=re(e,n)<0&&(e=n)}return new Mr(r,e)}return new Mr(n||e,e)}function Jr(t,e,n,i,r){null==r&&(r=t.cm&&(t.cm.display.shift||t.extend)),io(t,new kr([Yr(t.sel.primary(),e,n,r)],0),i)}function Qr(t,e,n){for(var i=[],r=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)i[o]=Yr(t.sel.ranges[o],e[o],null,r);io(t,Lr(t.cm,i,t.sel.primIndex),n)}function to(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,io(t,Lr(t.cm,r,t.sel.primIndex),i)}function eo(t,e,n,i){io(t,Ar(e,n),i)}function no(t,e,n){var i=t.history.done,r=Y(i);r&&r.ranges?(i[i.length-1]=e,ro(t,e,n)):io(t,e,n)}function io(t,e,n){ro(t,e,n),Xr(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function ro(t,e,n){(wt(t,"beforeSelectionChange")||t.cm&&wt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new Mr(ue(t,e[n].anchor),ue(t,e[n].head))},origin:n&&n.origin};return vt(t,"beforeSelectionChange",t,i),t.cm&&vt(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?Lr(t.cm,i.ranges,i.ranges.length-1):e}(t,e,n));var i=n&&n.bias||(re(e.primary().head,t.sel.primary().head)<0?-1:1);oo(t,ao(t,e,i,!0)),n&&!1===n.scroll||!t.cm||"nocursor"==t.cm.getOption("readOnly")||Ii(t.cm)}function oo(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,yt(t.cm)),dn(t,"cursorActivity",t))}function so(t){oo(t,ao(t,t.sel,null,!1))}function ao(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=co(t,s.anchor,a&&a.anchor,n,i),c=s.head==s.anchor?l:co(t,s.head,a&&a.head,n,i);(r||l!=s.anchor||c!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new Mr(l,c))}return r?Lr(t.cm,r,e.primIndex):e}function lo(t,e,n,i,r){var o=Gt(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(u?a.to>=e.ch:a.to>e.ch))){if(r&&(vt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var d=l.find(i<0?1:-1),h=void 0;if((i<0?u:c)&&(d=uo(t,d,-i,d&&d.line==e.line?o:null)),d&&d.line==e.line&&(h=re(d,n))&&(i<0?h<0:h>0))return lo(t,d,e,i,r)}var f=l.find(i<0?-1:1);return(i<0?c:u)&&(f=uo(t,f,i,f.line==e.line?o:null)),f?lo(t,f,e,i,r):null}}return e}function co(t,e,n,i,r){var o=i||1;return lo(t,e,n,o,r)||!r&&lo(t,e,n,o,!0)||lo(t,e,n,-o,r)||!r&&lo(t,e,n,-o,!0)||(t.cantEdit=!0,ie(t.first,0))}function uo(t,e,n,i){return n<0&&0==e.ch?e.line>t.first?ue(t,ie(e.line-1)):null:n>0&&e.ch==(i||Gt(t,e.line)).text.length?e.line<t.first+t.size-1?ie(e.line+1,0):null:new ie(e.line,e.ch+n)}function ho(t){t.setSelection(ie(t.firstLine(),0),ie(t.lastLine()),X)}function fo(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(e,n,r,o){e&&(i.from=ue(t,e)),n&&(i.to=ue(t,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),vt(t,"beforeChange",t,i),t.cm&&vt(t.cm,"beforeChange",t.cm,i),i.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function po(t,e,n){if(t.cm){if(!t.cm.curOp)return ir(t.cm,po)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(wt(t,"beforeChange")||t.cm&&wt(t.cm,"beforeChange"))||(e=fo(t,e,!0))){var i=Se&&!n&&function(t,e,n){var i=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=z(i,n)||(i||(i=[])).push(n)}})),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(re(c.to,a.from)<0||re(c.from,a.to)>0)){var u=[l,1],d=re(c.from,a.from),h=re(c.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)mo(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text,origin:e.origin});else mo(t,e)}}function mo(t,e){if(1!=e.text.length||""!=e.text[0]||0!=re(e.from,e.to)){var n=Dr(t,e);Zr(t,e,n,t.cm?t.cm.curOp.id:NaN),bo(t,e,n,Ae(t,e));var i=[];Rr(t,(function(t,n){n||-1!=z(i,t.history)||(Co(t.history,e),i.push(t.history)),bo(t,e,null,Ae(t,e))}))}}function go(t,e,n){var i=t.cm&&t.cm.state.suppressEdits;if(!i||n){for(var r,o=t.history,s=t.sel,a="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,c=0;c<a.length&&(r=a[c],n?!r.ranges||r.equals(t.sel):r.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=a.pop()).ranges){if(i)return void a.push(r);break}if(Vr(r,l),n&&!r.equals(t.sel))return void io(t,r,{clearRedo:!1});s=r}var u=[];Vr(s,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var d=wt(t,"beforeChange")||t.cm&&wt(t.cm,"beforeChange"),h=function(n){var i=r.changes[n];if(i.origin=e,d&&!fo(t,i,!1))return a.length=0,{};u.push(Hr(t,i));var o=n?Dr(t,i):Y(a);bo(t,i,o,Gr(t,i)),!n&&t.cm&&t.cm.scrollIntoView({from:i.from,to:Or(i)});var s=[];Rr(t,(function(t,e){e||-1!=z(s,t.history)||(Co(t.history,i),s.push(t.history)),bo(t,i,null,Gr(t,i))}))},f=r.changes.length-1;f>=0;--f){var p=h(f);if(p)return p.v}}}}function vo(t,e){if(0!=e&&(t.first+=e,t.sel=new kr(J(t.sel.ranges,(function(t){return new Mr(ie(t.anchor.line+e,t.anchor.ch),ie(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){pi(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)mi(t.cm,i,"gutter")}}function bo(t,e,n,i){if(t.cm&&!t.cm.curOp)return ir(t.cm,bo)(t,e,n,i);if(e.to.line<t.first)vo(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);vo(t,r),e={from:ie(t.first,0),to:ie(e.to.line+r,e.to.ch),text:[Y(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:ie(o,Gt(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Kt(t,e.from,e.to),n||(n=Dr(t,e)),t.cm?function(t,e,n){var i=t.doc,r=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=Qt($e(Gt(i,o.line))),i.iter(l,s.line+1,(function(t){if(t==r.maxLine)return a=!0,!0}))),i.sel.contains(e.from,e.to)>-1&&yt(t),Br(i,e,n,ui(t)),t.options.lineWrapping||(i.iter(l,o.line+e.text.length,(function(t){var e=Ue(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,i=e-1;i>n;i--){var r=Gt(t,i).stateAfter;if(r&&(!(r instanceof he)||i+r.lookAhead<e)){n=i+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(i,o.line),sr(t,400);var c=e.text.length-(s.line-o.line)-1;e.full?pi(t):o.line!=s.line||1!=e.text.length||Wr(t.doc,e)?pi(t,o.line,s.line+1,c):mi(t,o.line,"text");var u=wt(t,"changes"),d=wt(t,"change");if(d||u){var h={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};d&&dn(t,"change",t,h),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}(t.cm,e,i):Br(t,e,i),ro(t,n,X),t.cantEdit&&co(t,ie(t.firstLine(),0))&&(t.cantEdit=!1)}}function yo(t,e,n,i,r){var o;i||(i=n),re(i,n)<0&&(n=(o=[i,n])[0],i=o[1]),"string"==typeof e&&(e=t.splitLines(e)),po(t,{from:n,to:i,text:e,origin:r})}function wo(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function xo(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||((o=t[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)wo(o.ranges[a].anchor,e,n,i),wo(o.ranges[a].head,e,n,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=ie(c.from.line+i,c.from.ch),c.to=ie(c.to.line+i,c.to.ch);else if(e<=c.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function Co(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;xo(t.done,n,i,r),xo(t.undone,n,i,r)}function _o(t,e,n,i){var r=e,o=e;return"number"==typeof e?o=Gt(t,ce(t,e)):r=Qt(e),null==r?null:(i(o,r)&&t.cm&&mi(t.cm,r,n),o)}function So(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function To(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}Mr.prototype.from=function(){return le(this.anchor,this.head)},Mr.prototype.to=function(){return ae(this.anchor,this.head)},Mr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},So.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,Ke(r),dn(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}},To.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof So))){var a=[];this.collapse(a),this.children=[new So(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new So(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new To(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=z(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var i=new To(t.children);i.parent=t,t.children=[i,e],t=i}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t);if(r.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var ko=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};function Mo(t,e,n){Ve(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Ni(t,n)}ko.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=Qt(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=Sn(this);Jt(n,Math.max(0,n.height-o)),t&&(nr(t,(function(){Mo(t,n,-o),mi(t,i,"widget")})),dn(t,"lineWidgetCleared",t,this,i))}},ko.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=Sn(this)-e;r&&(Ze(this.doc,i)||Jt(i,i.height+r),n&&nr(n,(function(){n.curOp.forceUpdate=!0,Mo(n,i,r),dn(n,"lineWidgetChanged",n,t,Qt(i))})))},xt(ko);var Lo=0,Ao=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Lo};function Oo(t,e,n,i,r){if(i&&i.shared)return function(t,e,n,i,r){(i=j(i)).shared=!1;var o=[Oo(t,e,n,i,r)],s=o[0],a=i.widgetNode;return Rr(t,(function(t){a&&(i.widgetNode=a.cloneNode(!0)),o.push(Oo(t,ue(t,e),ue(t,n),i,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Y(o)})),new Eo(o,s)}(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return ir(t.cm,Oo)(t,e,n,i,r);var o=new Ao(t,r),s=re(e,n);if(i&&j(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=E("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(je(t,e.line,e,n,o)||e.line!=n.line&&je(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Te=!0}o.addToHistory&&Zr(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,n.line+1,(function(i){c&&o.collapsed&&!c.options.lineWrapping&&$e(i)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&Jt(i,0),function(t,e,n){var i=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));i&&t.markedSpans&&i.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],i&&i.add(t.markedSpans)),e.marker.attachLine(t)}(i,new ke(o,l==e.line?e.ch:null,l==n.line?n.ch:null),t.cm&&t.cm.curOp),++l})),o.collapsed&&t.iter(e.line,n.line+1,(function(e){Ze(t,e)&&Jt(e,0)})),o.clearOnEnter&&pt(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Se=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++Lo,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)pi(c,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=e.line;u<=n.line;u++)mi(c,u,"text");o.atomic&&so(c.doc),dn(c,"markerAdded",c,o)}return o}Ao.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Gi(t),wt(this,"clear")){var n=this.find();n&&dn(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Me(s.markedSpans,this);t&&!this.collapsed?mi(t,Qt(s),"text"):t&&(null!=a.to&&(r=Qt(s)),null!=a.from&&(i=Qt(s))),s.markedSpans=Le(s.markedSpans,a),null==a.from&&this.collapsed&&!Ze(this.doc,s)&&t&&Jt(s,si(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=$e(this.lines[l]),u=Ue(c);u>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&pi(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&so(t.doc)),t&&dn(t,"markerCleared",t,this,i,r),e&&Ki(t),this.parent&&this.parent.clear()}},Ao.prototype.find=function(t,e){var n,i;null==t&&"bookmark"==this.type&&(t=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=Me(o.markedSpans,this);if(null!=s.from&&(n=ie(e?o:Qt(o),s.from),-1==t))return n;if(null!=s.to&&(i=ie(e?o:Qt(o),s.to),1==t))return i}return n&&{from:n,to:i}},Ao.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,i=this.doc.cm;e&&i&&nr(i,(function(){var r=e.line,o=Qt(e.line),s=In(i,o);if(s&&($n(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!Ze(n.doc,r)&&null!=n.height){var a=n.height;n.height=null;var l=Sn(n)-a;l&&Jt(r,r.height+l)}dn(i,"markerChanged",i,t)}))},Ao.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=z(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Ao.prototype.detachLine=function(t){if(this.lines.splice(z(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},xt(Ao);var Eo=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function Do(t){return t.findMarks(ie(t.first,0),t.clipPos(ie(t.lastLine())),(function(t){return t.parent}))}function No(t){for(var e=function(e){var n=t[e],i=[n.primary.doc];Rr(n.primary.doc,(function(t){return i.push(t)}));for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==z(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<t.length;n++)e(n)}Eo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();dn(this,"clear")}},Eo.prototype.find=function(t,e){return this.primary.find(t,e)},xt(Eo);var Io=0,Po=function(t,e,n,i,r){if(!(this instanceof Po))return new Po(t,e,n,i,r);null==n&&(n=0),To.call(this,[new So([new Ge("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ie(n,0);this.sel=Ar(o),this.history=new $r(null),this.id=++Io,this.modeOption=e,this.lineSep=i,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Br(this,{from:o,to:o,text:t}),io(this,Ar(o),X)};Po.prototype=tt(To.prototype,{constructor:Po,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Yt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:or((function(t){var e=ie(this.first,0),n=this.first+this.size-1;po(this,{from:e,to:ie(n,Gt(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Pi(this.cm,0,0),io(this,Ar(e),X)})),replaceRange:function(t,e,n,i){yo(this,t,e=ue(this,e),n=n?ue(this,n):e,i)},getRange:function(t,e,n){var i=Kt(this,ue(this,t),ue(this,e));return!1===n?i:""===n?i.join(""):i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(ee(this,t))return Gt(this,t)},getLineNumber:function(t){return Qt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Gt(this,t)),$e(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return ue(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:or((function(t,e,n){eo(this,ue(this,"number"==typeof t?ie(t,e||0):t),null,n)})),setSelection:or((function(t,e,n){eo(this,ue(this,t),ue(this,e||t),n)})),extendSelection:or((function(t,e,n){Jr(this,ue(this,t),e&&ue(this,e),n)})),extendSelections:or((function(t,e){Qr(this,de(this,t),e)})),extendSelectionsBy:or((function(t,e){Qr(this,de(this,J(this.sel.ranges,t)),e)})),setSelections:or((function(t,e,n){if(t.length){for(var i=[],r=0;r<t.length;r++)i[r]=new Mr(ue(this,t[r].anchor),ue(this,t[r].head||t[r].anchor));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),io(this,Lr(this.cm,i,e),n)}})),addSelection:or((function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new Mr(ue(this,t),ue(this,e||t))),io(this,Lr(this.cm,i,i.length-1),n)})),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=Kt(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Kt(this,n[i].from(),n[i].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:or((function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:n}}for(var a=e&&"end"!=e&&function(t,e,n){for(var i=[],r=ie(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=Nr(a.from,r,o),c=Nr(Or(a),r,o);if(r=a.to,o=c,"around"==n){var u=t.sel.ranges[s],d=re(u.head,u.anchor)<0;i[s]=new Mr(d?c:l,d?l:c)}else i[s]=new Mr(l,l)}return new kr(i,t.sel.primIndex)}(this,i,e),l=i.length-1;l>=0;l--)po(this,i[l]);a?no(this,a):this.cm&&Ii(this.cm)})),undo:or((function(){go(this,"undo")})),redo:or((function(){go(this,"redo")})),undoSelection:or((function(){go(this,"undo",!0)})),redoSelection:or((function(){go(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new $r(this.history),Rr(this,(function(e){return e.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Kr(this.history.done),undone:Kr(this.history.undone)}},setHistory:function(t){var e=this.history=new $r(this.history);e.done=Kr(t.done.slice(0),null,!0),e.undone=Kr(t.undone.slice(0),null,!0)},setGutterMarker:or((function(t,e,n){return _o(this,t,"gutter",(function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&rt(i)&&(t.gutterMarkers=null),!0}))})),clearGutter:or((function(t){var e=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&_o(e,n,"gutter",(function(){return n.gutterMarkers[t]=null,rt(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!ee(this,t))return null;if(e=t,!(t=Gt(this,t)))return null}else if(null==(e=Qt(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:or((function(t,e,n){return _o(this,t,"gutter"==e?"gutter":"class",(function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[i]){if(T(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0}))})),removeLineClass:or((function(t,e,n){return _o(this,t,"gutter"==e?"gutter":"class",(function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(T(n));if(!o)return!1;var s=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0}))})),addLineWidget:or((function(t,e,n){return function(t,e,n,i){var r=new ko(t,n,i),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),_o(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!Ze(t,e)){var i=Ve(e)<t.scrollTop;Jt(e,e.height+Sn(r)),i&&Ni(o,r.height),o.curOp.forceUpdate=!0}return!0})),o&&dn(o,"lineWidgetAdded",o,r,"number"==typeof e?e:Qt(e)),r}(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Oo(this,ue(this,t),ue(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Oo(this,t=ue(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Gt(this,(t=ue(this,t)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=ue(this,t),e=ue(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r})),i},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)})),t},posFromIndex:function(t){var e,n=this.first,i=this.lineSeparator().length;return this.iter((function(r){var o=r.text.length+i;if(o>t)return e=t,!0;t-=o,++n})),ue(this,ie(n,e))},indexFromPos:function(t){var e=(t=ue(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new Po(Yt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new Po(Yt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(re(o,s)){var a=Oo(t,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}(i,Do(this)),i},unlinkDoc:function(t){if(t instanceof Es&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),No(Do(this));break}if(t.history==this.history){var n=[t.id];Rr(t,(function(t){return n.push(t.id)}),!0),t.history=new $r(null),t.history.done=Kr(this.history.done,n),t.history.undone=Kr(this.history.undone,n)}},iterLinkedDocs:function(t){Rr(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):It(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:or((function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&nr(e=this.cm,(function(){jr(e),pi(e)})))}))}),Po.prototype.eachLine=Po.prototype.iter;var Wo=0;function Bo(t){var e=this;if(Ro(e),!bt(e,t)&&!Tn(e.display,t)){Ct(t),s&&(Wo=+new Date);var n=hi(e,t,!0),i=t.dataTransfer.files;if(n&&!e.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),a=0,l=function(){++a==r&&ir(e,(function(){var t={from:n=ue(e.doc,n),to:n,text:e.doc.splitLines(o.filter((function(t){return null!=t})).join(e.doc.lineSeparator())),origin:"paste"};po(e.doc,t),no(e.doc,Ar(ue(e.doc,n),ue(e.doc,Or(t))))}))()},c=function(t,n){if(e.options.allowDropFileTypes&&-1==z(e.options.allowDropFileTypes,t.type))l();else{var i=new FileReader;i.onerror=function(){return l()},i.onload=function(){var t=i.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(o[n]=t),l()},i.readAsText(t)}},u=0;u<i.length;u++)c(i[u],u);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var d=t.dataTransfer.getData("Text");if(d){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),ro(e.doc,Ar(n,n)),h)for(var f=0;f<h.length;++f)yo(e.doc,"",h[f].anchor,h[f].head,"drag");e.replaceSelection(d,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Ro(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Fo(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<e.length;i++){var r=e[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation((function(){for(var e=0;e<n.length;e++)t(n[e])}))}}var jo=!1;function $o(){var t;jo||(pt(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Fo(Ho)}),100))})),pt(window,"blur",(function(){return Fo(Li)})),jo=!0)}function Ho(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var zo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Zo=0;Zo<10;Zo++)zo[Zo+48]=zo[Zo+96]=String(Zo);for(var Xo=65;Xo<=90;Xo++)zo[Xo]=String.fromCharCode(Xo);for(var Vo=1;Vo<=12;Vo++)zo[Vo+111]=zo[Vo+63235]="F"+Vo;var Uo={};function qo(t){var e,n,i,r,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Go(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var r=J(n.split(" "),qo),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var c in e)t[c]=e[c];return t}function Ko(t,e,n,i){var r=(e=ts(e)).call?e.call(t,i):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Ko(t,e.fallthrough,n,i);for(var o=0;o<e.fallthrough.length;o++){var s=Ko(t,e.fallthrough[o],n,i);if(s)return s}}}function Yo(t){var e="string"==typeof t?t:zo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Jo(t,e,n){var i=t;return e.altKey&&"Alt"!=i&&(t="Alt-"+t),(_?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(t="Ctrl-"+t),(_?e.ctrlKey:e.metaKey)&&"Mod"!=i&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=i&&(t="Shift-"+t),t}function Qo(t,e){if(h&&34==t.keyCode&&t.char)return!1;var n=zo[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Jo(n,t,e))}function ts(t){return"string"==typeof t?Uo[t]:t}function es(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=e(n[r]);i.length&&re(o.from,Y(i).to)<=0;){var s=i.pop();if(re(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}nr(t,(function(){for(var e=i.length-1;e>=0;e--)yo(t.doc,"",i[e].from,i[e].to,"+delete");Ii(t)}))}function ns(t,e,n){var i=at(t.text,e+n,n);return i<0||i>t.text.length?null:i}function is(t,e,n){var i=ns(t,e.ch,n);return null==i?null:new ie(e.line,i,n<0?"after":"before")}function rs(t,e,n,i,r){if(t){"rtl"==e.doc.direction&&(r=-r);var o=ht(n,e.doc.direction);if(o){var s,a=r<0?Y(o):o[0],l=r<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var c=Pn(e,n);s=r<0?n.text.length-1:0;var u=Wn(e,c,s).top;s=lt((function(t){return Wn(e,c,t).top==u}),r<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=ns(n,s,1))}else s=r<0?a.to:a.from;return new ie(i,s,l)}}return new ie(i,r<0?n.text.length:0,r<0?"before":"after")}Uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Uo.default=y?Uo.macDefault:Uo.pcDefault;var os={selectAll:ho,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),X)},killLine:function(t){return es(t,(function(e){if(e.empty()){var n=Gt(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:ie(e.head.line+1,0)}:{from:e.head,to:ie(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return es(t,(function(e){return{from:ie(e.from().line,0),to:ue(t.doc,ie(e.to().line+1,0))}}))},delLineLeft:function(t){return es(t,(function(t){return{from:ie(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return es(t,(function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}}))},delWrappedLineRight:function(t){return es(t,(function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(ie(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(ie(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return ss(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return as(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return function(t,e){var n=Gt(t.doc,e),i=function(t){for(var e;e=Re(t);)t=e.find(1,!0).line;return t}(n);return i!=n&&(e=Qt(i)),rs(!0,t,n,e,-1)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),U)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),U)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\S/)?as(t,e.head):i}),U)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=$(t.getLine(o.line),o.ch,i);e.push(K(i-s%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return nr(t,(function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++)if(e[i].empty()){var r=e[i].head,o=Gt(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new ie(r.line,r.ch-1)),r.ch>0)r=new ie(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),ie(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=Gt(t.doc,r.line-1).text;s&&(r=new ie(r.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),ie(r.line-1,s.length-1),r,"+transpose"))}n.push(new Mr(r,r))}t.setSelections(n)}))},newlineAndIndent:function(t){return nr(t,(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var i=0;i<e.length;i++)t.indentLine(e[i].from().line,null,!0);Ii(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function ss(t,e){var n=Gt(t.doc,e),i=$e(n);return i!=n&&(e=Qt(i)),rs(!0,t,i,e,1)}function as(t,e){var n=ss(t,e.line),i=Gt(t.doc,n.line),r=ht(i,t.doc.direction);if(!r||0==r[0].level){var o=Math.max(n.ch,i.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return ie(n.line,s?0:o,n.sticky)}return n}function ls(t,e,n){if("string"==typeof e&&!(e=os[e]))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=Z}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}var cs=new H;function us(t,e,n,i){var r=t.state.keySeq;if(r){if(Yo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:cs.set(50,(function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())})),ds(t,r+" "+e,n,i))return!0}return ds(t,e,n,i)}function ds(t,e,n,i){var r=function(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=Ko(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&Ko(e,t.options.extraKeys,n,t)||Ko(e,t.options.keyMap,n,t)}(t,e,i);return"multi"==r&&(t.state.keySeq=e),"handled"==r&&dn(t,"keyHandled",t,e,n),"handled"!=r&&"multi"!=r||(Ct(n),Si(t)),!!r}function hs(t,e){var n=Qo(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?us(t,"Shift-"+n,e,(function(e){return ls(t,e,!0)}))||us(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ls(t,e)})):us(t,n,e,(function(e){return ls(t,e)})))}var fs=null;function ps(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||(e.curOp.focus=N(B(e)),bt(e,t)))){s&&a<11&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var r=hs(e,t);h&&(fs=r?i:null,r||88!=i||Wt||!(y?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),n&&!y&&!r&&46==i&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(M(e,"CodeMirror-crosshair"),gt(document,"keyup",n),gt(document,"mouseover",n))}I(e,"CodeMirror-crosshair"),pt(document,"keyup",n),pt(document,"mouseover",n)}(e)}}function ms(t){16==t.keyCode&&(this.doc.sel.shift=!1),bt(this,t)}function gs(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||Tn(e.display,t)||bt(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(h&&n==fs)return fs=null,void Ct(t);if(!h||t.which&&!(t.which<10)||!hs(e,t)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(function(t,e,n){return us(t,"'"+n+"'",e,(function(e){return ls(t,e,!0)}))}(e,t,r)||e.display.input.onKeyPress(t))}}}var vs,bs,ys=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ws(t){var e=this,n=e.display;if(!(bt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,Tn(n,t))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!_s(e,t)){var i=hi(e,t),r=Mt(t),o=i?function(t,e){var n=+new Date;return bs&&bs.compare(n,t,e)?(vs=bs=null,"triple"):vs&&vs.compare(n,t,e)?(bs=new ys(n,t,e),vs=null,"double"):(vs=new ys(n,t,e),bs=null,"single")}(i,r):"single";R(e).focus(),1==r&&e.state.selectingText&&e.state.selectingText(t),i&&function(t,e,n,i,r){var o="Click";return"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o),us(t,Jo(o=(1==e?"Left":2==e?"Middle":"Right")+o,r),r,(function(e){if("string"==typeof e&&(e=os[e]),!e)return!1;var i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i=e(t,n)!=Z}finally{t.state.suppressEdits=!1}return i}))}(e,r,i,o,t)||(1==r?i?function(t,e,n,i){s?setTimeout(F(Ti,t),0):t.curOp.focus=N(B(t));var r,o=function(t,e,n){var i=t.getOption("configureMouse"),r=i?i(t,e,n):{};if(null==r.unit){var o=w?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==r.extend||t.doc.extend)&&(r.extend=t.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=y?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(y?n.altKey:n.ctrlKey)),r}(t,n,i),c=t.doc.sel;t.options.dragDrop&&Ot&&!t.isReadOnly()&&"single"==n&&(r=c.contains(e))>-1&&(re((r=c.ranges[r]).from(),e)<0||e.xRel>0)&&(re(r.to(),e)>0||e.xRel<0)?function(t,e,n,i){var r=t.display,o=!1,c=ir(t,(function(e){l&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:ki(t)),gt(r.wrapper.ownerDocument,"mouseup",c),gt(r.wrapper.ownerDocument,"mousemove",u),gt(r.scroller,"dragstart",d),gt(r.scroller,"drop",c),o||(Ct(e),i.addNew||Jr(t.doc,n,null,null,i.extend),l&&!f||s&&9==a?setTimeout((function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()}),20):r.input.focus())})),u=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},d=function(){return o=!0};l&&(r.scroller.draggable=!0),t.state.draggingText=c,c.copy=!i.moveOnDrag,pt(r.wrapper.ownerDocument,"mouseup",c),pt(r.wrapper.ownerDocument,"mousemove",u),pt(r.scroller,"dragstart",d),pt(r.scroller,"drop",c),t.state.delayingBlurEvent=!0,setTimeout((function(){return r.input.focus()}),20),r.scroller.dragDrop&&r.scroller.dragDrop()}(t,i,e,o):function(t,e,n,i){s&&ki(t);var r=t.display,o=t.doc;Ct(e);var a,l,c=o.sel,u=c.ranges;if(i.addNew&&!i.extend?(l=o.sel.contains(n),a=l>-1?u[l]:new Mr(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==i.unit)i.addNew||(a=new Mr(n,n)),n=hi(t,e,!0,!0),l=-1;else{var d=xs(t,n,i.unit);a=i.extend?Yr(a,d.anchor,d.head,i.extend):d}i.addNew?-1==l?(l=u.length,io(o,Lr(t,u.concat([a]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==i.unit&&!i.extend?(io(o,Lr(t,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):to(o,l,a,V):(l=0,io(o,new kr([a],0),V),c=o.sel);var h=n;function f(e){if(0!=re(h,e))if(h=e,"rectangle"==i.unit){for(var r=[],s=t.options.tabSize,u=$(Gt(o,n.line).text,n.ch,s),d=$(Gt(o,e.line).text,e.ch,s),f=Math.min(u,d),p=Math.max(u,d),m=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));m<=g;m++){var v=Gt(o,m).text,b=q(v,f,s);f==p?r.push(new Mr(ie(m,b),ie(m,b))):v.length>b&&r.push(new Mr(ie(m,b),ie(m,q(v,p,s))))}r.length||r.push(new Mr(n,n)),io(o,Lr(t,c.ranges.slice(0,l).concat(r),l),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var y,w=a,x=xs(t,e,i.unit),C=w.anchor;re(x.anchor,C)>0?(y=x.head,C=le(w.from(),x.anchor)):(y=x.anchor,C=ae(w.to(),x.head));var _=c.ranges.slice(0);_[l]=function(t,e){var n=e.anchor,i=e.head,r=Gt(t.doc,n.line);if(0==re(n,i)&&n.sticky==i.sticky)return e;var o=ht(r);if(!o)return e;var s=ut(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return e;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return e;if(i.line!=n.line)l=(i.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var u=ut(o,i.ch,i.sticky),d=u-s||(i.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?d<0:d>0}var h=o[c+(l?-1:0)],f=l==(1==h.level),p=f?h.from:h.to,m=f?"after":"before";return n.ch==p&&n.sticky==m?e:new Mr(new ie(n.line,p,m),i)}(t,new Mr(ue(o,C),y)),io(o,Lr(t,_,l),V)}}var p=r.wrapper.getBoundingClientRect(),m=0;function g(e){var n=++m,s=hi(t,e,!0,"rectangle"==i.unit);if(s)if(0!=re(s,h)){t.curOp.focus=N(B(t)),f(s);var a=Ei(r,o);(s.line>=a.to||s.line<a.from)&&setTimeout(ir(t,(function(){m==n&&g(e)})),150)}else{var l=e.clientY<p.top?-20:e.clientY>p.bottom?20:0;l&&setTimeout(ir(t,(function(){m==n&&(r.scroller.scrollTop+=l,g(e))})),50)}}function v(e){t.state.selectingText=!1,m=1/0,e&&(Ct(e),r.input.focus()),gt(r.wrapper.ownerDocument,"mousemove",b),gt(r.wrapper.ownerDocument,"mouseup",y),o.history.lastSelOrigin=null}var b=ir(t,(function(t){0!==t.buttons&&Mt(t)?g(t):v(t)})),y=ir(t,v);t.state.selectingText=y,pt(r.wrapper.ownerDocument,"mousemove",b),pt(r.wrapper.ownerDocument,"mouseup",y)}(t,i,e,o)}(e,i,o,t):kt(t)==n.scroller&&Ct(t):2==r?(i&&Jr(e.doc,i),setTimeout((function(){return n.input.focus()}),20)):3==r&&(S?e.display.input.onContextMenu(t):ki(e)))}}function xs(t,e,n){if("char"==n)return new Mr(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new Mr(ie(e.line,0),ue(t.doc,ie(e.line+1,0)));var i=n(t,e);return new Mr(i.from,i.to)}function Cs(t,e,n,i){var r,o;if(e.touches)r=e.touches[0].clientX,o=e.touches[0].clientY;else try{r=e.clientX,o=e.clientY}catch(t){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&Ct(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!wt(t,n))return St(e);o-=a.top-s.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return vt(t,n,t,te(t.doc,o),t.display.gutterSpecs[l].className,e),St(e)}}function _s(t,e){return Cs(t,e,"gutterClick",!0)}function Ss(t,e){Tn(t.display,e)||function(t,e){return!!wt(t,"gutterContextMenu")&&Cs(t,e,"gutterContextMenu",!1)}(t,e)||bt(t,e,"contextmenu")||S||t.display.input.onContextMenu(e)}function Ts(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),zn(t)}ys.prototype.compare=function(t,e,n){return this.time+400>t&&0==re(e,this.pos)&&n==this.button};var ks={toString:function(){return"CodeMirror.Init"}},Ms={},Ls={};function As(t,e,n){if(!e!=!(n&&n!=ks)){var i=t.display.dragFunctions,r=e?pt:gt;r(t.display.scroller,"dragstart",i.start),r(t.display.scroller,"dragenter",i.enter),r(t.display.scroller,"dragover",i.over),r(t.display.scroller,"dragleave",i.leave),r(t.display.scroller,"drop",i.drop)}}function Os(t){t.options.lineWrapping?(I(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(M(t.display.wrapper,"CodeMirror-wrap"),qe(t)),di(t),pi(t),zn(t),setTimeout((function(){return Zi(t)}),100)}function Es(t,e){var n=this;if(!(this instanceof Es))return new Es(t,e);this.options=e=e?j(e):{},j(Ms,e,!1);var i=e.value;"string"==typeof i?i=new Po(i,e.mode,null,e.lineSeparator,e.direction):e.mode&&(i.modeOption=e.mode),this.doc=i;var r=new Es.inputStyles[e.inputStyle](this),o=this.display=new wr(t,i,r,e);for(var c in o.wrapper.CodeMirror=this,Ts(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ui(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new H,keySeq:null,specialChars:null},e.autofocus&&!b&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(t){var e=t.display;pt(e.scroller,"mousedown",ir(t,ws)),pt(e.scroller,"dblclick",s&&a<11?ir(t,(function(e){if(!bt(t,e)){var n=hi(t,e);if(n&&!_s(t,e)&&!Tn(t.display,e)){Ct(e);var i=t.findWordAt(n);Jr(t.doc,i.anchor,i.head)}}})):function(e){return bt(t,e)||Ct(e)}),pt(e.scroller,"contextmenu",(function(e){return Ss(t,e)})),pt(e.input.getField(),"contextmenu",(function(n){e.scroller.contains(n.target)||Ss(t,n)}));var n,i={end:0};function r(){e.activeTouch&&(n=setTimeout((function(){return e.activeTouch=null}),1e3),(i=e.activeTouch).end=+new Date)}function o(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function l(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return n*n+i*i>400}pt(e.scroller,"touchstart",(function(r){if(!bt(t,r)&&!o(r)&&!_s(t,r)){e.input.ensurePolled(),clearTimeout(n);var s=+new Date;e.activeTouch={start:s,moved:!1,prev:s-i.end<=300?i:null},1==r.touches.length&&(e.activeTouch.left=r.touches[0].pageX,e.activeTouch.top=r.touches[0].pageY)}})),pt(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),pt(e.scroller,"touchend",(function(n){var i=e.activeTouch;if(i&&!Tn(e,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var o,s=t.coordsChar(e.activeTouch,"page");o=!i.prev||l(i,i.prev)?new Mr(s,s):!i.prev.prev||l(i,i.prev.prev)?t.findWordAt(s):new Mr(ie(s.line,0),ue(t.doc,ie(s.line+1,0))),t.setSelection(o.anchor,o.head),t.focus(),Ct(n)}r()})),pt(e.scroller,"touchcancel",r),pt(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(Ri(t,e.scroller.scrollTop),ji(t,e.scroller.scrollLeft,!0),vt(t,"scroll",t))})),pt(e.scroller,"mousewheel",(function(e){return Tr(t,e)})),pt(e.scroller,"DOMMouseScroll",(function(e){return Tr(t,e)})),pt(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){bt(t,e)||Tt(e)},over:function(e){bt(t,e)||(function(t,e){var n=hi(t,e);if(n){var i=document.createDocumentFragment();xi(t,n,i),t.display.dragCursor||(t.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),A(t.display.dragCursor,i)}}(t,e),Tt(e))},start:function(e){return function(t,e){if(s&&(!t.state.draggingText||+new Date-Wo<100))Tt(e);else if(!bt(t,e)&&!Tn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!f)){var n=O("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(t,e)},drop:ir(t,Bo),leave:function(e){bt(t,e)||Ro(t)}};var c=e.input.getField();pt(c,"keyup",(function(e){return ms.call(t,e)})),pt(c,"keydown",ir(t,ps)),pt(c,"keypress",ir(t,gs)),pt(c,"focus",(function(e){return Mi(t,e)})),pt(c,"blur",(function(e){return Li(t,e)}))}(this),$o(),Gi(this),this.curOp.forceUpdate=!0,Fr(this,i),e.autofocus&&!b||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Mi(n)}),20):Li(this),Ls)Ls.hasOwnProperty(c)&&Ls[c](this,e[c],ks);gr(this),e.finishInit&&e.finishInit(this);for(var u=0;u<Ds.length;++u)Ds[u](this);Ki(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Es.defaults=Ms,Es.optionHandlers=Ls;var Ds=[];function Ns(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=ge(t,e).state:n="prev");var s=t.options.tabSize,a=Gt(o,e),l=$(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(r,a.text.slice(u.length),a.text))==Z||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?$(Gt(o,e-1).text,null,s):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(t.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)h+=s,d+="\t";if(h<c&&(d+=K(c-h)),d!=u)return yo(o,d,ie(e,0),ie(e,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==e&&m.head.ch<u.length){var g=ie(e,u.length);to(o,p,new Mr(g,g));break}}}Es.defineInitHook=function(t){return Ds.push(t)};var Is=null;function Ps(t){Is=t}function Ws(t,e,n,i,r){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var s=+new Date-200,a="paste"==r||t.state.pasteIncoming>s,l=It(e),c=null;if(a&&i.ranges.length>1)if(Is&&Is.text.join("\n")==e){if(i.ranges.length%Is.text.length==0){c=[];for(var u=0;u<Is.text.length;u++)c.push(o.splitLines(Is.text[u]))}}else l.length==i.ranges.length&&t.options.pasteLinesPerSelection&&(c=J(l,(function(t){return[t]})));for(var d=t.curOp.updateInput,h=i.ranges.length-1;h>=0;h--){var f=i.ranges[h],p=f.from(),m=f.to();f.empty()&&(n&&n>0?p=ie(p.line,p.ch-n):t.state.overwrite&&!a?m=ie(m.line,Math.min(Gt(o,m.line).text.length,m.ch+Y(l).length)):a&&Is&&Is.lineWise&&Is.text.join("\n")==l.join("\n")&&(p=m=ie(p.line,0)));var g={from:p,to:m,text:c?c[h%c.length]:l,origin:r||(a?"paste":t.state.cutIncoming>s?"cut":"+input")};po(t.doc,g),dn(t,"inputRead",t,g)}e&&!a&&Rs(t,e),Ii(t),t.curOp.updateInput<2&&(t.curOp.updateInput=d),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Bs(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||!e.hasFocus()||nr(e,(function(){return Ws(e,n,0,null,"paste")})),!0}function Rs(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Ns(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Gt(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Ns(t,r.head.line,"smart"));s&&dn(t,"electricInput",t,r.head.line)}}}function Fs(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,o={anchor:ie(r,0),head:ie(r+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function js(t,e,n,i){t.setAttribute("autocorrect",n?"":"off"),t.setAttribute("autocapitalize",i?"":"off"),t.setAttribute("spellcheck",!!e)}function $s(){var t=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=O("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),js(t),e}function Hs(t,e,n,i,r){var o=e,s=n,a=Gt(t,e.line),l=r&&"rtl"==t.direction?-n:n;function c(o){var s,c;if("codepoint"==i){var u=a.text.charCodeAt(e.ch+(n>0?0:-1));if(isNaN(u))s=null;else{var d=n>0?u>=55296&&u<56320:u>=56320&&u<57343;s=new ie(e.line,Math.max(0,Math.min(a.text.length,e.ch+n*(d?2:1))),-n)}}else s=r?function(t,e,n,i){var r=ht(e,t.doc.direction);if(!r)return is(e,n,i);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ut(r,n.ch,n.sticky),s=r[o];if("ltr"==t.doc.direction&&s.level%2==0&&(i>0?s.to>n.ch:s.from<n.ch))return is(e,n,i);var a,l=function(t,n){return ns(e,t instanceof ie?t.ch:t,n)},c=function(n){return t.options.lineWrapping?(a=a||Pn(t,e),ei(t,e,a,n)):{begin:0,end:e.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==s.level){var d=1==s.level==i<0,h=l(n,d?1:-1);if(null!=h&&(d?h<=s.to&&h<=u.end:h>=s.from&&h>=u.begin)){var f=d?"before":"after";return new ie(n.line,h,f)}}var p=function(t,e,i){for(var o=function(t,e){return e?new ie(n.line,l(t,1),"before"):new ie(n.line,t,"after")};t>=0&&t<r.length;t+=e){var s=r[t],a=e>0==(1!=s.level),c=a?i.begin:l(i.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),i.begin<=c&&c<i.end)return o(c,a)}},m=p(o+i,i,u);if(m)return m;var g=i>0?u.end:l(u.begin,-1);return null==g||i>0&&g==e.text.length||!(m=p(i>0?0:r.length-1,i,c(g)))?null:m}(t.cm,a,e,n):is(a,e,n);if(null==s){if(o||((c=e.line+l)<t.first||c>=t.first+t.size||(e=new ie(c,e.ch,e.sticky),!(a=Gt(t,c)))))return!1;e=rs(r,t.cm,a,e.line,l)}else e=s;return!0}if("char"==i||"codepoint"==i)c();else if("column"==i)c(!0);else if("word"==i||"group"==i)for(var u=null,d="group"==i,h=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(n<0)||c(!f);f=!1){var p=a.text.charAt(e.ch)||"\n",m=it(p,h)?"w":d&&"\n"==p?"n":!d||/\s/.test(p)?null:"p";if(!d||f||m||(m="s"),u&&u!=m){n<0&&(n=1,c(),e.sticky="after");break}if(m&&(u=m),n>0&&!c(!f))break}var g=co(t,e,o,s,!0);return oe(o,g)&&(g.hitSide=!0),g}function zs(t,e,n,i){var r,o,s=t.doc,a=e.left;if("page"==i){var l=Math.min(t.display.wrapper.clientHeight,R(t).innerHeight||s(t).documentElement.clientHeight),c=Math.max(l-.5*si(t.display),3);r=(n>0?e.bottom:e.top)+n*c}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;(o=Qn(t,a,r)).outside;){if(n<0?r<=0:r>=s.height){o.hitSide=!0;break}r+=5*n}return o}var Zs=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new H,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Xs(t,e){var n=In(t,e.line);if(!n||n.hidden)return null;var i=Gt(t.doc,e.line),r=Dn(n,i,e.line),o=ht(i,t.doc.direction),s="left";o&&(s=ut(o,e.ch)%2?"right":"left");var a=Fn(r.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Vs(t,e){return e&&(t.bad=!0),t}function Us(t,e,n){var i;if(e==t.display.lineDiv){if(!(i=t.display.lineDiv.childNodes[n]))return Vs(t.clipPos(ie(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==i)return qs(o,e,n)}}function qs(t,e,n){var i=t.text.firstChild,r=!1;if(!e||!D(i,e))return Vs(ie(Qt(t.line),0),!0);if(e==i&&(r=!0,e=i.childNodes[n],n=0,!e)){var o=t.rest?Y(t.rest):t.line;return Vs(ie(Qt(o),o.text.length),r)}var s=3==e.nodeType?e:null,a=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var l=t.measure,c=l.maps;function u(e,n,i){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==n){var u=Qt(r<0?t.line:t.rest[r]),d=o[s]+i;return(i<0||a!=e)&&(d=o[s+(i?1:0)]),ie(u,d)}}}var d=u(s,a,n);if(d)return Vs(d,r);for(var h=a.nextSibling,f=s?s.nodeValue.length-n:0;h;h=h.nextSibling){if(d=u(h,h.firstChild,0))return Vs(ie(d.line,d.ch-f),r);f+=h.textContent.length}for(var p=a.previousSibling,m=n;p;p=p.previousSibling){if(d=u(p,p.firstChild,-1))return Vs(ie(d.line,d.ch+m),r);m+=p.textContent.length}}Zs.prototype.init=function(t){var e=this,n=this,i=n.cm,r=n.div=t.lineDiv;function o(t){for(var e=t.target;e;e=e.parentNode){if(e==r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(e.className))break}return!1}function s(t){if(o(t)&&!bt(i,t)){if(i.somethingSelected())Ps({lineWise:!1,text:i.getSelections()}),"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=Fs(i);Ps({lineWise:!0,text:e.text}),"cut"==t.type&&i.operation((function(){i.setSelections(e.ranges,0,X),i.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var s=Is.text.join("\n");if(t.clipboardData.setData("Text",s),t.clipboardData.getData("Text")==s)return void t.preventDefault()}var a=$s(),l=a.firstChild;i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),l.value=Is.text.join("\n");var c=N(r.ownerDocument);W(l),setTimeout((function(){i.display.lineSpace.removeChild(a),c.focus(),c==r&&n.showPrimarySelection()}),50)}}r.contentEditable=!0,js(r,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),pt(r,"paste",(function(t){!o(t)||bt(i,t)||Bs(t,i)||a<=11&&setTimeout(ir(i,(function(){return e.updateFromDOM()})),20)})),pt(r,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),pt(r,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),pt(r,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),pt(r,"touchstart",(function(){return n.forceCompositionEnd()})),pt(r,"input",(function(){e.composing||e.readFromDOMSoon()})),pt(r,"copy",s),pt(r,"cut",s)},Zs.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Zs.prototype.prepareSelection=function(){var t=wi(this.cm,!1);return t.focus=N(this.div.ownerDocument)==this.div,t},Zs.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Zs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Zs.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),r=i.from(),o=i.to();if(e.display.viewTo==e.display.viewFrom||r.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=Us(e,t.anchorNode,t.anchorOffset),a=Us(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=re(le(s,a),r)||0!=re(ae(s,a),o)){var l=e.display.view,c=r.line>=e.display.viewFrom&&Xs(e,r)||{node:l[0].measure.map[2],offset:0},u=o.line<e.display.viewTo&&Xs(e,o);if(!u){var d=l[l.length-1].measure,h=d.maps?d.maps[d.maps.length-1]:d.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&u){var f,p=t.rangeCount&&t.getRangeAt(0);try{f=k(c.node,c.offset,u.offset,u.node)}catch(t){}f&&(!n&&e.state.focused?(t.collapse(c.node,c.offset),f.collapsed||(t.removeAllRanges(),t.addRange(f))):(t.removeAllRanges(),t.addRange(f)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Zs.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},Zs.prototype.showMultipleSelections=function(t){A(this.cm.display.cursorDiv,t.cursors),A(this.cm.display.selectionDiv,t.selection)},Zs.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Zs.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return D(this.div,e)},Zs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&N(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Zs.prototype.blur=function(){this.div.blur()},Zs.prototype.getField=function(){return this.div},Zs.prototype.supportsTouch=function(){return!0},Zs.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout((function(){return t.pollSelection()}),20):nr(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Zs.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Zs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(v&&u&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Us(e,t.anchorNode,t.anchorOffset),i=Us(e,t.focusNode,t.focusOffset);n&&i&&nr(e,(function(){io(e.doc,Ar(n,i),X),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)}))}}},Zs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,i=this.cm,r=i.display,o=i.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>i.firstLine()&&(s=ie(s.line-1,Gt(i.doc,s.line-1).length)),a.ch==Gt(i.doc,a.line).text.length&&a.line<i.lastLine()&&(a=ie(a.line+1,0)),s.line<r.viewFrom||a.line>r.viewTo-1)return!1;s.line==r.viewFrom||0==(t=fi(i,s.line))?(e=Qt(r.view[0].line),n=r.view[0].node):(e=Qt(r.view[t].line),n=r.view[t-1].node.nextSibling);var l,c,u=fi(i,a.line);if(u==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=Qt(r.view[u+1].line)-1,c=r.view[u+1].node.previousSibling),!n)return!1;for(var d=i.doc.splitLines(function(t,e,n,i,r){var o="",s=!1,a=t.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function u(t){t&&(c(),o+=t)}function d(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void u(n);var o,h=e.getAttribute("cm-marker");if(h){var f=t.findMarks(ie(i,0),ie(r+1,0),(g=+h,function(t){return t.id==g}));return void(f.length&&(o=f[0].find(0))&&u(Kt(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&c();for(var m=0;m<e.childNodes.length;m++)d(e.childNodes[m]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),p&&(s=!0)}else 3==e.nodeType&&u(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;d(e),e!=n;)e=e.nextSibling,l=!1;return o}(i,n,c,e,l)),h=Kt(i.doc,ie(e,0),ie(l,Gt(i.doc,l).text.length));d.length>1&&h.length>1;)if(Y(d)==Y(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),e++}for(var f=0,p=0,m=d[0],g=h[0],v=Math.min(m.length,g.length);f<v&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var b=Y(d),y=Y(h),w=Math.min(b.length-(1==d.length?f:0),y.length-(1==h.length?f:0));p<w&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1);)++p;if(1==d.length&&1==h.length&&e==s.line)for(;f&&f>s.ch&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1);)f--,p++;d[d.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var x=ie(e,f),C=ie(l,h.length?Y(h).length-p:0);return d.length>1||d[0]||re(x,C)?(yo(i.doc,d,x,C,"+input"),!0):void 0},Zs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Zs.prototype.reset=function(){this.forceCompositionEnd()},Zs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Zs.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},Zs.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||nr(this.cm,(function(){return pi(t.cm)}))},Zs.prototype.setUneditable=function(t){t.contentEditable="false"},Zs.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||ir(this.cm,Ws)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Zs.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Zs.prototype.onContextMenu=function(){},Zs.prototype.resetPosition=function(){},Zs.prototype.needsContentAttribute=!0;var Gs=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new H,this.hasSelection=!1,this.composing=null};Gs.prototype.init=function(t){var e=this,n=this,i=this.cm;this.createField(t);var r=this.textarea;function o(t){if(!bt(i,t)){if(i.somethingSelected())Ps({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var e=Fs(i);Ps({lineWise:!0,text:e.text}),"cut"==t.type?i.setSelections(e.ranges,null,X):(n.prevInput="",r.value=e.text.join("\n"),W(r))}"cut"==t.type&&(i.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(r.style.width="0px"),pt(r,"input",(function(){s&&a>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()})),pt(r,"paste",(function(t){bt(i,t)||Bs(t,i)||(i.state.pasteIncoming=+new Date,n.fastPoll())})),pt(r,"cut",o),pt(r,"copy",o),pt(t.scroller,"paste",(function(e){if(!Tn(t,e)&&!bt(i,e)){if(!r.dispatchEvent)return i.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,r.dispatchEvent(o)}})),pt(t.lineSpace,"selectstart",(function(e){Tn(t,e)||Ct(e)})),pt(r,"compositionstart",(function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}})),pt(r,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Gs.prototype.createField=function(t){this.wrapper=$s(),this.textarea=this.wrapper.firstChild},Gs.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Gs.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,i=wi(t);if(t.options.moveInputWithCursor){var r=Kn(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},Gs.prototype.showSelection=function(t){var e=this.cm.display;A(e.cursorDiv,t.cursors),A(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Gs.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&W(this.textarea),s&&a>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},Gs.prototype.getField=function(){return this.textarea},Gs.prototype.supportsTouch=function(){return!1},Gs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||N(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(t){}},Gs.prototype.blur=function(){this.textarea.blur()},Gs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Gs.prototype.receivedFocus=function(){this.slowPoll()},Gs.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Gs.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function n(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))}))},Gs.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!e.state.focused||Pt(n)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=n.value;if(r==i&&!e.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===r||y&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(i.length,r.length);l<c&&i.charCodeAt(l)==r.charCodeAt(l);)++l;return nr(e,(function(){Ws(e,r.slice(l),i.length-l,null,t.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Gs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Gs.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Gs.prototype.onContextMenu=function(t){var e=this,n=e.cm,i=n.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=hi(n,t),c=i.scroller.scrollTop;if(o&&!h){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&ir(n,io)(n.doc,Ar(o),X);var u,d=r.style.cssText,f=e.wrapper.style.cssText,p=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=r.ownerDocument.defaultView.scrollY),i.input.focus(),l&&r.ownerDocument.defaultView.scrollTo(null,u),i.input.reset(),n.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=v,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),s&&a>=9&&g(),S){Tt(t);var m=function(){gt(window,"mouseup",m),setTimeout(v,20)};pt(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=r.selectionStart){var t=n.somethingSelected(),o=""+(t?r.value:"");r.value="",r.value=o,e.prevInput=t?"":"",r.selectionStart=1,r.selectionEnd=o.length,i.selForContextMenu=n.doc.sel}}function v(){if(e.contextMenuPending==v&&(e.contextMenuPending=!1,e.wrapper.style.cssText=f,r.style.cssText=d,s&&a<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=c),null!=r.selectionStart)){(!s||s&&a<9)&&g();var t=0,o=function(){i.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&""==e.prevInput?ir(n,ho)(n):t++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},Gs.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t,this.textarea.readOnly=!!t},Gs.prototype.setUneditable=function(){},Gs.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,i,r,o){t.defaults[n]=i,r&&(e[n]=o?function(t,e,n){n!=ks&&r(t,e,n)}:r)}t.defineOption=n,t.Init=ks,n("value","",(function(t,e){return t.setValue(e)}),!0),n("mode",null,(function(t,e){t.doc.modeOption=e,Ir(t)}),!0),n("indentUnit",2,Ir,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(t){Pr(t),zn(t),pi(t)}),!0),n("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],i=t.doc.first;t.doc.iter((function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(-1==o)break;r=o+e.length,n.push(ie(i,o))}i++}));for(var r=n.length-1;r>=0;r--)yo(t.doc,e,n[r],ie(n[r].line,n[r].ch+e.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=ks&&t.refresh()})),n("specialCharPlaceholder",en,(function(t){return t.refresh()}),!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),n("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),n("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",(function(t){Ts(t),yr(t)}),!0),n("keyMap","default",(function(t,e,n){var i=ts(e),r=n!=ks&&ts(n);r&&r.detach&&r.detach(t,i),i.attach&&i.attach(t,r||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Os,!0),n("gutters",[],(function(t,e){t.display.gutterSpecs=vr(e,t.options.lineNumbers),yr(t)}),!0),n("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?ci(t.display)+"px":"0",t.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(t){return Zi(t)}),!0),n("scrollbarStyle","native",(function(t){Ui(t),Zi(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=vr(t.options.gutters,e),yr(t)}),!0),n("firstLineNumber",1,yr,!0),n("lineNumberFormatter",(function(t){return t}),yr,!0),n("showCursorWhenSelecting",!1,yi,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(t,e){"nocursor"==e&&(Li(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),n("screenReaderLabel",null,(function(t,e){e=""===e?null:e,t.display.input.screenReaderLabelChanged(e)})),n("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),n("dragDrop",!0,As),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,yi,!0),n("singleCursorHeightPerLine",!0,yi,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Pr,!0),n("addModeClass",!1,Pr,!0),n("pollInterval",100),n("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),n("historyEventDelay",1250),n("viewportMargin",10,(function(t){return t.refresh()}),!0),n("maxHighlightLength",1e4,Pr,!0),n("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),n("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),n("autofocus",null),n("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),n("phrases",null)}(Es),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){R(this).focus(),this.display.input.focus()},setOption:function(t,n){var i=this.options,r=i[t];i[t]==n&&"mode"!=t||(i[t]=n,e.hasOwnProperty(t)&&ir(this,e[t])(this,n,r),vt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](ts(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:rr((function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");(function(t,e,n){for(var i=0,r=n(e);i<t.length&&n(t[i])<=r;)i++;t.splice(i,0,e)})(this.state.overlays,{mode:i,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(t){return t.priority})),this.state.modeGen++,pi(this)})),removeOverlay:rr((function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void pi(this)}})),indentLine:rr((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),ee(this.doc,t)&&Ns(this,t,e,n)})),indentSelection:rr((function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(Ns(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&Ii(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Ns(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[i].from().ch>0&&to(this.doc,i,new Mr(o,c[i].to()),X)}}})),getTokenAt:function(t,e){return xe(this,t,e)},getLineTokens:function(t,e){return xe(this,ie(t),e,!0)},getTokenTypeAt:function(t){t=ue(this.doc,t);var e,n=me(this,Gt(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}i=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!n.hasOwnProperty(e))return i;var r=n[e],o=this.getModeAt(t);if("string"==typeof o[e])r[o[e]]&&i.push(r[o[e]]);else if(o[e])for(var s=0;s<o[e].length;s++){var a=r[o[e][s]];a&&i.push(a)}else o.helperType&&r[o.helperType]?i.push(r[o.helperType]):r[o.name]&&i.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==z(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(t,e){var n=this.doc;return ge(this,(t=ce(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Kn(this,null==t?n.head:"object"==typeof t?ue(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Gn(this,ue(this.doc,t),e||"page")},coordsChar:function(t,e){return Qn(this,(t=qn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=qn(this,{top:t,left:0},e||"page").top,te(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var i,r=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,r=!0),i=Gt(this.doc,t)}else i=t;return Un(this,i,{top:0,left:0},e||"page",n||r).top+(r?this.doc.height-Ve(i):0)},defaultTextHeight:function(){return si(this.display)},defaultCharWidth:function(){return ai(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o,s,a,l=this.display,c=(t=Kn(this,ue(this.doc,t))).bottom,u=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==i)c=t.top;else if("above"==i||"near"==i){var d=Math.max(l.wrapper.clientHeight,this.doc.height),h=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>d)&&t.top>e.offsetHeight?c=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=d&&(c=t.bottom),u+e.offsetWidth>h&&(u=h-e.offsetWidth)}e.style.top=c+"px",e.style.left=e.style.right="","right"==r?(u=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?u=0:"middle"==r&&(u=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=u+"px"),n&&(o=this,s={left:u,top:c,right:u+e.offsetWidth,bottom:c+e.offsetHeight},null!=(a=Di(o,s)).scrollTop&&Ri(o,a.scrollTop),null!=a.scrollLeft&&ji(o,a.scrollLeft))},triggerOnKeyDown:rr(ps),triggerOnKeyPress:rr(gs),triggerOnKeyUp:ms,triggerOnMouseDown:rr(ws),execCommand:function(t){if(os.hasOwnProperty(t))return os[t].call(null,this)},triggerElectric:rr((function(t){Rs(this,t)})),findPosH:function(t,e,n,i){var r=1;e<0&&(r=-1,e=-e);for(var o=ue(this.doc,t),s=0;s<e&&!(o=Hs(this.doc,o,r,n,i)).hitSide;++s);return o},moveH:rr((function(t,e){var n=this;this.extendSelectionsBy((function(i){return n.display.shift||n.doc.extend||i.empty()?Hs(n.doc,i.head,t,e,n.options.rtlMoveVisually):t<0?i.from():i.to()}),U)})),deleteH:rr((function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):es(this,(function(n){var r=Hs(i,n.head,t,e,!1);return t<0?{from:r,to:n.head}:{from:n.head,to:r}}))})),findPosV:function(t,e,n,i){var r=1,o=i;e<0&&(r=-1,e=-e);for(var s=ue(this.doc,t),a=0;a<e;++a){var l=Kn(this,s,"div");if(null==o?o=l.left:l.left=o,(s=zs(this,l,r,n)).hitSide)break}return s},moveV:rr((function(t,e){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy((function(s){if(o)return t<0?s.from():s.to();var a=Kn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=zs(n,a,t,e);return"page"==e&&s==i.sel.primary()&&Ni(n,Gn(n,l,"div").top-a.top),l}),U),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]})),findWordAt:function(t){var e=Gt(this.doc,t.line).text,n=t.ch,i=t.ch;if(e){var r=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=e.length||!n?++i:--n;for(var o=e.charAt(n),s=it(o,r)?function(t){return it(t,r)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!it(t)};n>0&&s(e.charAt(n-1));)--n;for(;i<e.length&&s(e.charAt(i));)++i}return new Mr(ie(t.line,n),ie(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?I(this.display.cursorDiv,"CodeMirror-overwrite"):M(this.display.cursorDiv,"CodeMirror-overwrite"),vt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N(B(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:rr((function(t,e){Pi(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-An(this)-this.display.barHeight,width:t.scrollWidth-An(this)-this.display.barWidth,clientHeight:En(this),clientWidth:On(this)}},scrollIntoView:rr((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:ie(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Wi(t),t.curOp.scrollToPos=e}(this,t):Bi(this,t.from,t.to,t.margin)})),setSize:rr((function(t,e){var n=this,i=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=i(t)),null!=e&&(this.display.wrapper.style.height=i(e)),this.options.lineWrapping&&Hn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){mi(n,r,"widget");break}++r})),this.curOp.forceUpdate=!0,vt(this,"refresh",this)})),operation:function(t){return nr(this,t)},startOperation:function(){return Gi(this)},endOperation:function(){return Ki(this)},refresh:rr((function(){var t=this.display.cachedTextHeight;pi(this),this.curOp.forceUpdate=!0,zn(this),Pi(this,this.doc.scrollLeft,this.doc.scrollTop),fr(this.display),(null==t||Math.abs(t-si(this.display))>.5||this.options.lineWrapping)&&di(this),vt(this,"refresh",this)})),swapDoc:rr((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Fr(this,t),zn(this),this.display.input.reset(),Pi(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,dn(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xt(t),t.registerHelper=function(e,i,r){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][i]=r},t.registerGlobalHelper=function(e,i,r,o){t.registerHelper(e,i,o),n[e]._global.push({pred:r,val:o})}}(Es);var Ks="iter insert remove copy getEditor constructor".split(" ");for(var Ys in Po.prototype)Po.prototype.hasOwnProperty(Ys)&&z(Ks,Ys)<0&&(Es.prototype[Ys]=function(t){return function(){return t.apply(this.doc,arguments)}}(Po.prototype[Ys]));return xt(Po),Es.inputStyles={textarea:Gs,contenteditable:Zs},Es.defineMode=function(t){Es.defaults.mode||"null"==t||(Es.defaults.mode=t),jt.apply(this,arguments)},Es.defineMIME=function(t,e){Ft[t]=e},Es.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),Es.defineMIME("text/plain","null"),Es.defineExtension=function(t,e){Es.prototype[t]=e},Es.defineDocExtension=function(t,e){Po.prototype[t]=e},Es.fromTextArea=function(t,e){if((e=e?j(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=N(t.ownerDocument);e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function i(){t.value=a.getValue()}var r;if(t.form&&(pt(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var s=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=s}}catch(t){}}e.finishInit=function(n){n.save=i,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,i(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(gt(t.form,"submit",i),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=r))}},t.style.display="none";var a=Es((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return a},function(t){t.off=gt,t.on=pt,t.wheelEventPixels=Sr,t.Doc=Po,t.splitLines=It,t.countColumn=$,t.findColumn=q,t.isWordChar=nt,t.Pass=Z,t.signal=vt,t.Line=Ge,t.changeEnd=Or,t.scrollbarModel=Vi,t.Pos=ie,t.cmpPos=re,t.modes=Rt,t.mimeModes=Ft,t.resolveMode=$t,t.getMode=Ht,t.modeExtensions=zt,t.extendMode=Zt,t.copyState=Xt,t.startState=Ut,t.innerMode=Vt,t.commands=os,t.keyMap=Uo,t.keyName=Qo,t.isModifierKey=Yo,t.lookupKey=Ko,t.normalizeKeyMap=Go,t.StringStream=qt,t.SharedTextMarker=Eo,t.TextMarker=Ao,t.LineWidget=ko,t.e_preventDefault=Ct,t.e_stopPropagation=_t,t.e_stop=Tt,t.addClass=I,t.contains=D,t.rmClass=M,t.keyNames=zo}(Es),Es.version="5.65.7",Es}()},5539:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<!DOCTYPE html>\n<html lang="en">\n    <head>\n        <meta charset="utf-8"/>\n        <title>RISC-V Graphical Datapath Simulator</title>\n    </head>\n    <body>\n        <div class="container-fluid d-flex flex-row p-2" style="height: 100vh;">\n            <div id="datapath" class="flex-grow-1"> \x3c!-- We\'ll load the SVG inline here. --\x3e </div>\n            <div class="d-flex flex-column" style="max-width: 50%">\n                <ul class="nav nav-tabs flex-row flex-nowrap" id="editor-tabs" role="tablist">\n                    <li class="nav-item" role="presentation">\n                        <button class="nav-link active" id="instrMem-tab" data-bs-toggle="tab" data-bs-target="#instrMem-panel"\n                                type="button" role="tab" aria-controls="instrMem-panel" aria-selected="true">\n                            Code\n                        </button>\n                    </li>\n                    <li class="nav-item" role="presentation">\n                        <button class="nav-link" id="regFile-tab" data-bs-toggle="tab" data-bs-target="#regFile-panel"\n                            type="button" role="tab" aria-controls="regFile-panel" aria-selected="false">\n                            Registers\n                        </button>\n                    </li>\n                    <li class="nav-item" role="presentation">\n                        <button class="nav-link" id="dataMem-tab" data-bs-toggle="tab" data-bs-target="#dataMem-panel"\n                                type="button" role="tab" aria-controls="dataMem-panel" aria-selected="false">\n                            Memory\n                        </button>\n                    </li>\n                    <li id="examples" class="nav-item dropdown">\n                        <button class="nav-link dropdown-toggle" href="#" id="examples-button" role="button" data-bs-toggle="dropdown" aria-expanded="false">\n                            Load Example\n                        </button>\n                        <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="examples-button"></ul>\n                      </li>\n                </ul>\n                <div class="card p-1 flex-grow-1" style="min-height: 0;"> \x3c!-- min-height: 0; fixes some scroll issues for some reason. --\x3e\n                    <div id="editors" class="tab-content" style="height: 100%">\n                        <div id="instrMem-panel" class="tab-pane fade show active" role="tabpanel" aria-labelledby="instrMem-tab"><div> \n                            <div class="editor">\n                                <textarea placeholder="Write RISC&#8209;V assembly..."></textarea>\n                            </div>\n                            <div class="view" style="display: none">\n                                <table class="table table-striped table-hover table-bordered address-table">\n                                    <thead>\n                                        <tr> <th>Address</th> <th>Instruction</th> <th>Code</th> </tr>\n                                    </thead>\n                                    <tbody></tbody>\n                                </table>\n                            </div>\n                        </div></div>\n                        <div id="regFile-panel" class="tab-pane fade" role="tabpanel" aria-labelledby="regFile-tab"><div>\n                            <div class="d-flex flex-row">\n                                <select id="regFile-radix" class="form-select">\n                                    <option value="hex" selected>Hex</option>\n                                    <option value="signed">Signed Decimal</option>\n                                    <option value="unsigned">Unsigned Decimal</option>\n                                </select>\n                            </div>\n                            <div class="editor" spellcheck="false">\n                                <table class="table table-striped table-hover table-bordered address-table"><tbody></tbody></table>\n                            </div>\n                            <div class="view" style="display: none">\n                                <table class="table table-striped table-hover table-bordered address-table"><tbody></tbody></table>\n                            </div>\n                        </div></div>\n                        <div id="dataMem-panel" class="tab-pane fade" role="tabpanel" aria-labelledby="dataMem-tab"><div>\n                            <div class="d-flex flex-row">\n                                <select id="dataMem-radix" class="form-select">\n                                    <option value="hex" selected>Hex</option>\n                                    <option value="signed">Signed Decimal</option>\n                                    <option value="unsigned">Unsigned Decimal</option>\n                                </select>\n                                <select id="dataMem-word-size" class="form-select">\n                                    <option value="8">Byte</option>\n                                    <option value="16">Half-Word</option>\n                                    <option value="32" selected>Word</option>\n                                </select>\n                            </div>\n                            <div class="editor">\n                                <textarea placeholder="Set initial memory..."></textarea>\n                            </div>\n                            <div class="view" style="display: none">\n                                <table class="table table-striped table-hover table-bordered address-table">\n                                    <thead>\n                                        <tr> <th>Address</th> <th>Data</th> </tr>\n                                    </thead>\n                                    <tbody></tbody>\n                                </table>\n                            </div>\n                        </div></div>\n                    </div>\n                </div>\n                <div id="controls" class="card"><div class="card-body d-flex flex-row">\n                    <button id="play" class="btn btn-sm" title="Run Simulation">\n                        <i class="fas fa-play text-success"></i>\n                    </button>\n                    <button id="pause" class="btn btn-sm" title="Pause Simulation">\n                        <i class="fas fa-pause text-warning"></i>\n                    </button>\n                    <button id="step" class="btn btn-sm" title="Step Simulation">\n                        <i class="fas fa-step-forward text-success"></i>\n                    </button>\n                    <button id="restart" class="btn btn-sm" title="Restart Simulation">\n                        <i class="fas fa-sync text-danger"></i>\n                    </button>\n                    <div class="flex-grow-1">\n                        <input id="speed" type="range" class="form-range" title="Speed" min="-2" max="4"> \x3c!-- 2 ** x steps per second --\x3e\n                    </div>\n                    <button id="help" class="btn btn-sm" title="Help / About" data-bs-toggle="modal" data-bs-target="#help-modal">\n                        <i class="fas fa-question-circle text-info"></i>\n                    </button>\n                </div></div>\n            </div>\n        </div>\n\n        <div class="modal fade" id="help-modal" tabindex="-1" aria-labelledby="help-modal-label" aria-hidden="true">\n            <div class="modal-dialog modal-lg">\n              <div class="modal-content">\n                <div class="modal-header">\n                  <h5 class="modal-title" id="help-modal-label">Help / About</h5>\n                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <p>Welcome to the RISC&#8209;V Graphical Datapath Simulator! This is a 32&#8209;bit, single-cycle implementation of RISC&#8209;V. \n                        All the 32-bit integer instructions are supported except the syscall and concurrency related instructions and <code>auipc</code>.\n                        The datapath is closely based on the design described in <i>Computer Organization and Design RISC&#8209;V Edition</i></p>\n                    <p>You can write RISC&#8209;V assembly and set the initial registers and initial data memory, and then step through the demo. You\n                        can input registers and memory as hex, unsigned decimal or signed decimal by using the dropdowns. While the demo is running, you\n                        can use the side pane to view the current memory and registers and labels show the values on each wire. Most components and wires\n                        also have a tooltip which gives more details on their functionality and current value.</p>\n                    <p>You can view the source or contribute on <a href="https://github.com/jesse-r-s-hines/RISC-V-Graphical-Datapath-Simulator" target="_blank">GitHub</a>.</p>\n                </div>\n              </div>\n            </div>\n        </div>\n    </body>\n</html>'},2976:(t,e,n)=>{"use strict";n.r(e)},7694:(t,e,n)=>{"use strict";n.r(e)},9079:(t,e,n)=>{"use strict";n.r(e)},464:(t,e,n)=>{"use strict";n.r(e)},3751:(t,e,n)=>{"use strict";n.r(e)},3668:(t,e,n)=>{"use strict";n.r(e)},9271:function(t,e){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n="boolean"==typeof(new RegExp).sticky;function i(t){return t&&"[object RegExp]"===e.call(t)}function r(t){return t&&"object"==typeof t&&!i(t)&&!Array.isArray(t)}function o(t){return"("+t+")"}function s(t){return t.length?"(?:"+t.map((function(t){return"(?:"+t+")"})).join("|")+")":"(?!)"}function a(t){if("string"==typeof t)return"(?:"+(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")");if(i(t)){if(t.ignoreCase)throw new Error("RegExp /i flag not allowed");if(t.global)throw new Error("RegExp /g flag is implied");if(t.sticky)throw new Error("RegExp /y flag is implied");if(t.multiline)throw new Error("RegExp /m flag is implied");return t.source}throw new Error("Not a pattern: "+t)}function l(e,n){if(r(n)||(n={match:n}),n.include)throw new Error("Matching rules cannot also include states");var o={defaultType:e,lineBreaks:!!n.error||!!n.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var s in n)t.call(n,s)&&(o[s]=n[s]);if("string"==typeof o.type&&e!==o.type)throw new Error("Type transform cannot be a string (type '"+o.type+"' for token '"+e+"')");var a=o.match;return o.match=Array.isArray(a)?a:a?[a]:[],o.match.sort((function(t,e){return i(t)&&i(e)?0:i(e)?-1:i(t)?1:e.length-t.length})),o}function c(t){return Array.isArray(t)?function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(i.include)for(var r=[].concat(i.include),o=0;o<r.length;o++)e.push({include:r[o]});else{if(!i.type)throw new Error("Rule has no type: "+JSON.stringify(i));e.push(l(i.type,i))}}return e}(t):function(t){for(var e=Object.getOwnPropertyNames(t),n=[],i=0;i<e.length;i++){var o=e[i],s=t[o],a=[].concat(s);if("include"!==o){var c=[];a.forEach((function(t){r(t)?(c.length&&n.push(l(o,c)),n.push(l(o,t)),c=[]):c.push(t)})),c.length&&n.push(l(o,c))}else for(var u=0;u<a.length;u++)n.push({include:a[u]})}return n}(t)}var u=l("error",{lineBreaks:!0,shouldThrow:!0});function d(t,e){for(var r=null,l=Object.create(null),c=!0,d=null,h=[],f=[],p=0;p<t.length;p++)t[p].fallback&&(c=!1);for(p=0;p<t.length;p++){var m=t[p];if(m.include)throw new Error("Inheritance is not allowed in stateless lexers");if(m.error||m.fallback){if(r)throw!m.fallback==!r.fallback?new Error("Multiple "+(m.fallback?"fallback":"error")+" rules not allowed (for token '"+m.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+m.defaultType+"')");r=m}var g=m.match.slice();if(c)for(;g.length&&"string"==typeof g[0]&&1===g[0].length;)l[g.shift().charCodeAt(0)]=m;if(m.pop||m.push||m.next){if(!e)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+m.defaultType+"')");if(m.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+m.defaultType+"')")}if(0!==g.length){c=!1,h.push(m);for(var v=0;v<g.length;v++){var b=g[v];if(i(b))if(null===d)d=b.unicode;else if(d!==b.unicode&&!1===m.fallback)throw new Error("If one rule is /u then all must be")}var y=s(g.map(a)),w=new RegExp(y);if(w.test(""))throw new Error("RegExp matches empty string: "+w);if(new RegExp("|"+y).exec("").length-1>0)throw new Error("RegExp has capture groups: "+w+"\nUse (?:  ) instead");if(!m.lineBreaks&&w.test("\n"))throw new Error("Rule should declare lineBreaks: "+w);f.push(o(y))}}var x=r&&r.fallback,C=n&&!x?"ym":"gm",_=n||x?"":"|";return!0===d&&(C+="u"),{regexp:new RegExp(s(f)+_,C),groups:h,fast:l,error:r||u}}function h(t,e,n){var i=t&&(t.push||t.next);if(i&&!n[i])throw new Error("Missing state '"+i+"' (in token '"+t.defaultType+"' of state '"+e+"')");if(t&&t.pop&&1!=+t.pop)throw new Error("pop must be 1 (in token '"+t.defaultType+"' of state '"+e+"')")}var f=function(t,e){this.startState=e,this.states=t,this.buffer="",this.stack=[],this.reset()};f.prototype.reset=function(t,e){return this.buffer=t||"",this.index=0,this.line=e?e.line:1,this.col=e?e.col:1,this.queuedToken=e?e.queuedToken:null,this.queuedThrow=e?e.queuedThrow:null,this.setState(e?e.state:this.startState),this.stack=e&&e.stack?e.stack.slice():[],this},f.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},f.prototype.setState=function(t){if(t&&this.state!==t){this.state=t;var e=this.states[t];this.groups=e.groups,this.error=e.error,this.re=e.regexp,this.fast=e.fast}},f.prototype.popState=function(){this.setState(this.stack.pop())},f.prototype.pushState=function(t){this.stack.push(this.state),this.setState(t)};var p=n?function(t,e){return t.exec(e)}:function(t,e){var n=t.exec(e);return 0===n[0].length?null:n};function m(){return this.value}if(f.prototype._getGroup=function(t){for(var e=this.groups.length,n=0;n<e;n++)if(void 0!==t[n+1])return this.groups[n];throw new Error("Cannot find token type for matched text")},f.prototype.next=function(){var t=this.index;if(this.queuedGroup){var e=this._token(this.queuedGroup,this.queuedText,t);return this.queuedGroup=null,this.queuedText="",e}var n=this.buffer;if(t!==n.length){if(s=this.fast[n.charCodeAt(t)])return this._token(s,n.charAt(t),t);var i=this.re;i.lastIndex=t;var r=p(i,n),o=this.error;if(null==r)return this._token(o,n.slice(t,n.length),t);var s=this._getGroup(r),a=r[0];return o.fallback&&r.index!==t?(this.queuedGroup=s,this.queuedText=a,this._token(o,n.slice(t,r.index),t)):this._token(s,a,t)}},f.prototype._token=function(t,e,n){var i=0;if(t.lineBreaks){var r=/\n/g,o=1;if("\n"===e)i=1;else for(;r.exec(e);)i++,o=r.lastIndex}var s={type:"function"==typeof t.type&&t.type(e)||t.defaultType,value:"function"==typeof t.value?t.value(e):e,text:e,toString:m,offset:n,lineBreaks:i,line:this.line,col:this.col},a=e.length;if(this.index+=a,this.line+=i,0!==i?this.col=a-o+1:this.col+=a,t.shouldThrow)throw new Error(this.formatError(s,"invalid syntax"));return t.pop?this.popState():t.push?this.pushState(t.push):t.next&&this.setState(t.next),s},"undefined"!=typeof Symbol&&Symbol.iterator){var g=function(t){this.lexer=t};g.prototype.next=function(){var t=this.lexer.next();return{value:t,done:!t}},g.prototype[Symbol.iterator]=function(){return this},f.prototype[Symbol.iterator]=function(){return new g(this)}}return f.prototype.formatError=function(t,e){if(null==t){var n=this.buffer.slice(this.index);t={text:n,offset:this.index,lineBreaks:-1===n.indexOf("\n")?0:1,line:this.line,col:this.col}}var i=Math.max(0,t.offset-t.col+1),r=t.lineBreaks?t.text.indexOf("\n"):t.text.length,o=this.buffer.substring(i,t.offset+r);return e+=" at line "+t.line+" col "+t.col+":\n\n",(e+="  "+o+"\n")+"  "+Array(t.col).join(" ")+"^"},f.prototype.clone=function(){return new f(this.states,this.state)},f.prototype.has=function(t){return!0},{compile:function(t){var e=d(c(t));return new f({start:e},"start")},states:function(t,e){var n=t.$all?c(t.$all):[];delete t.$all;var i=Object.getOwnPropertyNames(t);e||(e=i[0]);for(var r=Object.create(null),o=0;o<i.length;o++)r[y=i[o]]=c(t[y]).concat(n);for(o=0;o<i.length;o++)for(var s=r[y=i[o]],a=Object.create(null),l=0;l<s.length;l++){var u=s[l];if(u.include){var p=[l,1];if(u.include!==y&&!a[u.include]){a[u.include]=!0;var m=r[u.include];if(!m)throw new Error("Cannot include nonexistent state '"+u.include+"' (in state '"+y+"')");for(var g=0;g<m.length;g++){var v=m[g];-1===s.indexOf(v)&&p.push(v)}}s.splice.apply(s,p),l--}}var b=Object.create(null);for(o=0;o<i.length;o++){var y;b[y=i[o]]=d(r[y],!0)}for(o=0;o<i.length;o++){var w=i[o],x=b[w],C=x.groups;for(l=0;l<C.length;l++)h(C[l],w,b);var _=Object.getOwnPropertyNames(x.fast);for(l=0;l<_.length;l++)h(x.fast[_[l]],w,b)}return new f(b,e)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(t){for(var e=Object.create(null),n=Object.create(null),i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r],s=t[o];(Array.isArray(s)?s:[s]).forEach((function(t){if((n[t.length]=n[t.length]||[]).push(t),"string"!=typeof t)throw new Error("keyword must be string (in keyword '"+o+"')");e[t]=o}))}function a(t){return JSON.stringify(t)}var l="";for(var c in l+="switch (value.length) {\n",n){var u=n[c];l+="case "+c+":\n",l+="switch (value) {\n",u.forEach((function(t){var n=e[t];l+="case "+a(t)+": return "+a(n)+"\n"})),l+="}\n"}return l+="}\n",Function("value",l)}}})?n.apply(e,[]):n)||(t.exports=i)},6330:(t,e,n)=>{!function(){function e(t){return t[0]}const i=n(9271),r=i.compile({WS:{match:/[ \t]+/,value:t=>{}},newline:{match:"\n",lineBreaks:!0},comment:{match:/#.*?$/,value:t=>{}},number:/0[bB][01]+|0[xX][0-9a-fA-F]+|[+-]?[0-9]+/,identifier:/[a-zA-Z_][a-zA-Z_0-9]*/,symbol:[",","(",")",":"],error:i.error}),o=r.next;r.next=()=>{let t;for(;(t=o.call(r))&&void 0===t.value;);return t};var s={Lexer:r,ParserRules:[{name:"program",symbols:["line"],postprocess:e},{name:"program",symbols:["line",r.has("newline")?{type:"newline"}:newline,"program"],postprocess:([t,e,n])=>[...t,...n]},{name:"line$ebnf$1$subexpression$1",symbols:[r.has("identifier")?{type:"identifier"}:identifier,{literal:":"}]},{name:"line$ebnf$1",symbols:["line$ebnf$1$subexpression$1"],postprocess:e},{name:"line$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"line$ebnf$2",symbols:["instr"],postprocess:e},{name:"line$ebnf$2",symbols:[],postprocess:function(t){return null}},{name:"line$ebnf$3",symbols:[r.has("comment")?{type:"comment"}:comment],postprocess:e},{name:"line$ebnf$3",symbols:[],postprocess:function(t){return null}},{name:"line",symbols:["line$ebnf$1","line$ebnf$2","line$ebnf$3"],postprocess:([t,e,n])=>[t?{type:"label",label:t[0].text}:null,e].filter((t=>t))},{name:"instr$subexpression$1",symbols:["basicInstr"]},{name:"instr$subexpression$1",symbols:["displacementInstr"]},{name:"instr",symbols:["instr$subexpression$1"],postprocess:([[t]])=>({...t,op:t.op.text,line:t.op.line})},{name:"basicInstr$ebnf$1",symbols:[]},{name:"basicInstr$ebnf$1$subexpression$1",symbols:["arg",{literal:","}]},{name:"basicInstr$ebnf$1",symbols:["basicInstr$ebnf$1","basicInstr$ebnf$1$subexpression$1"],postprocess:function(t){return t[0].concat([t[1]])}},{name:"basicInstr",symbols:["op","basicInstr$ebnf$1","arg"],postprocess:([t,e,n])=>({type:"basic",op:t,args:[...e.map((([t,e])=>t)),n]})},{name:"displacementInstr",symbols:["op","arg",{literal:","},"arg",{literal:"("},"arg",{literal:")"}],postprocess:([t,e,,n,,i])=>({type:"displacement",op:t,args:[e,n,i]})},{name:"op",symbols:[r.has("identifier")?{type:"identifier"}:identifier],postprocess:([t])=>t},{name:"arg$subexpression$1",symbols:["identifier"]},{name:"arg$subexpression$1",symbols:["number"]},{name:"arg",symbols:["arg$subexpression$1"],postprocess:([[t]])=>t},{name:"identifier",symbols:[r.has("identifier")?{type:"identifier"}:identifier],postprocess:([t])=>({type:"id",value:t.text})},{name:"number",symbols:[r.has("number")?{type:"number"}:number],postprocess:([t])=>({type:"num",value:Number(t.text)})}],ParserStart:"program"};void 0!==t.exports?t.exports=s:window.grammar=s}()},9654:function(t){var e;e=function(){function t(e,n,i){return this.id=++t.highestId,this.name=e,this.symbols=n,this.postprocess=i,this}function e(t,e,n,i){this.rule=t,this.dot=e,this.reference=n,this.data=[],this.wantedBy=i,this.isComplete=this.dot===t.symbols.length}function n(t,e){this.grammar=t,this.index=e,this.states=[],this.wants={},this.scannable=[],this.completed={}}function i(t,e){this.rules=t,this.start=e||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(t){n.hasOwnProperty(t.name)||(n[t.name]=[]),n[t.name].push(t)}))}function r(){this.reset("")}function o(t,e,o){if(t instanceof i){var s=t;o=e}else s=i.fromCompiled(t,e);for(var a in this.grammar=s,this.options={keepHistory:!1,lexer:s.lexer||new r},o||{})this.options[a]=o[a];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new n(s,0);this.table=[l],l.wants[s.start]=[],l.predict(s.start),l.process(),this.current=0}function s(t){var e=typeof t;if("string"===e)return t;if("object"===e){if(t.literal)return JSON.stringify(t.literal);if(t instanceof RegExp)return t.toString();if(t.type)return"%"+t.type;if(t.test)return"<"+String(t.test)+">";throw new Error("Unknown symbol type: "+t)}}return t.highestId=0,t.prototype.toString=function(t){var e=void 0===t?this.symbols.map(s).join(" "):this.symbols.slice(0,t).map(s).join(" ")+"  "+this.symbols.slice(t).map(s).join(" ");return this.name+"  "+e},e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(t){var n=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=t,n.isComplete&&(n.data=n.build(),n.right=void 0),n},e.prototype.build=function(){var t=[],e=this;do{t.push(e.right.data),e=e.left}while(e.left);return t.reverse(),t},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(t){for(var e=this.states,n=this.wants,i=this.completed,r=0;r<e.length;r++){var s=e[r];if(s.isComplete){if(s.finish(),s.data!==o.fail){for(var a=s.wantedBy,l=a.length;l--;){var c=a[l];this.complete(c,s)}if(s.reference===this.index){var u=s.rule.name;(this.completed[u]=this.completed[u]||[]).push(s)}}}else{if("string"!=typeof(u=s.rule.symbols[s.dot])){this.scannable.push(s);continue}if(n[u]){if(n[u].push(s),i.hasOwnProperty(u)){var d=i[u];for(l=0;l<d.length;l++){var h=d[l];this.complete(s,h)}}}else n[u]=[s],this.predict(u)}}},n.prototype.predict=function(t){for(var n=this.grammar.byName[t]||[],i=0;i<n.length;i++){var r=n[i],o=this.wants[t],s=new e(r,0,this.index,o);this.states.push(s)}},n.prototype.complete=function(t,e){var n=t.nextState(e);this.states.push(n)},i.fromCompiled=function(e,n){var r=e.Lexer;e.ParserStart&&(n=e.ParserStart,e=e.ParserRules);var o=new i(e=e.map((function(e){return new t(e.name,e.symbols,e.postprocess)})),n);return o.lexer=r,o},r.prototype.reset=function(t,e){this.buffer=t,this.index=0,this.line=e?e.line:1,this.lastLineBreak=e?-e.col:0},r.prototype.next=function(){if(this.index<this.buffer.length){var t=this.buffer[this.index++];return"\n"===t&&(this.line+=1,this.lastLineBreak=this.index),{value:t}}},r.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},r.prototype.formatError=function(t,e){var n=this.buffer;if("string"==typeof n){var i=n.split("\n").slice(Math.max(0,this.line-5),this.line),r=n.indexOf("\n",this.index);-1===r&&(r=n.length);var o=this.index-this.lastLineBreak,s=String(this.line).length;return e+=" at line "+this.line+" col "+o+":\n\n",(e+=i.map((function(t,e){return a(this.line-i.length+e+1,s)+" "+t}),this).join("\n"))+"\n"+a("",s+o)+"^\n"}return e+" at index "+(this.index-1);function a(t,e){var n=String(t);return Array(e-n.length+1).join(" ")+n}},o.fail={},o.prototype.feed=function(t){var e,i=this.lexer;for(i.reset(t,this.lexerState);;){try{if(!(e=i.next()))break}catch(t){var o=new n(this.grammar,this.current+1);throw this.table.push(o),(l=new Error(this.reportLexerError(t))).offset=this.current,l.token=t.token,l}var s=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var a=this.current+1;o=new n(this.grammar,a),this.table.push(o);for(var l,c=void 0!==e.text?e.text:e.value,u=i.constructor===r?e.value:e,d=s.scannable,h=d.length;h--;){var f=d[h],p=f.rule.symbols[f.dot];if(p.test?p.test(u):p.type?p.type===e.type:p.literal===c){var m=f.nextState({data:u,token:e,isToken:!0,reference:a-1});o.states.push(m)}}if(o.process(),0===o.states.length)throw(l=new Error(this.reportError(e))).offset=this.current,l.token=e,l;this.options.keepHistory&&(s.lexerState=i.save()),this.current++}return s&&(this.lexerState=i.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(t){var e,n,i=t.token;return i?(e="input "+JSON.stringify(i.text[0])+" (lexer error)",n=this.lexer.formatError(i,"Syntax error")):(e="input (lexer error)",n=t.message),this.reportErrorCommon(n,e)},o.prototype.reportError=function(t){var e=(t.type?t.type+" token: ":"")+JSON.stringify(void 0!==t.value?t.value:t),n=this.lexer.formatError(t,"Syntax error");return this.reportErrorCommon(n,e)},o.prototype.reportErrorCommon=function(t,e){var n=[];n.push(t);var i=this.table.length-2,r=this.table[i],o=r.states.filter((function(t){var e=t.rule.symbols[t.dot];return e&&"string"!=typeof e}));return 0===o.length?(n.push("Unexpected "+e+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(r.states,n)):(n.push("Unexpected "+e+". Instead, I was expecting to see one of the following:\n"),o.map((function(t){return this.buildFirstStateStack(t,[])||[t]}),this).forEach((function(t){var e=t[0],i=e.rule.symbols[e.dot],r=this.getSymbolDisplay(i);n.push("A "+r+" based on:"),this.displayStateStack(t,n)}),this)),n.push(""),n.join("\n")},o.prototype.displayStateStack=function(t,e){for(var n,i=0,r=0;r<t.length;r++){var o=t[r],s=o.rule.toString(o.dot);s===n?i++:(i>0&&e.push("    ^ "+i+" more lines identical to this"),i=0,e.push("    "+s)),n=s}},o.prototype.getSymbolDisplay=function(t){return function(t){var e=typeof t;if("string"===e)return t;if("object"===e){if(t.literal)return JSON.stringify(t.literal);if(t instanceof RegExp)return"character matching "+t;if(t.type)return t.type+" token";if(t.test)return"token matching "+String(t.test);throw new Error("Unknown symbol type: "+t)}}(t)},o.prototype.buildFirstStateStack=function(t,e){if(-1!==e.indexOf(t))return null;if(0===t.wantedBy.length)return[t];var n=t.wantedBy[0],i=[t].concat(e),r=this.buildFirstStateStack(n,i);return null===r?null:[t].concat(r)},o.prototype.save=function(){var t=this.table[this.current];return t.lexerState=this.lexerState,t},o.prototype.restore=function(t){var e=t.index;this.current=e,this.table[e]=t,this.table.splice(e+1),this.lexerState=t.lexerState,this.results=this.finish()},o.prototype.rewind=function(t){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[t])},o.prototype.finish=function(){var t=[],e=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===e&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&t.push(n)})),t.map((function(t){return t.data}))},{Parser:o,Grammar:i,Rule:t}},t.exports?t.exports=e():this.nearley=e()},5088:(t,e,n)=>{"use strict";n.r(e),n.d(e,{animateFill:()=>nt,createSingleton:()=>Q,default:()=>ut,delegate:()=>et,followCursor:()=>st,hideAll:()=>Y,inlinePositioning:()=>at,roundArrow:()=>o,sticky:()=>lt});var i=n(804),r=n(7824),o='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',s="tippy-content",a="tippy-backdrop",l="tippy-arrow",c="tippy-svg-arrow",u={passive:!0,capture:!0},d=function(){return document.body};function h(t,e,n){if(Array.isArray(t)){var i=t[e];return null==i?Array.isArray(n)?n[e]:n:i}return t}function f(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function p(t,e){return"function"==typeof t?t.apply(void 0,e):t}function m(t,e){return 0===e?t:function(i){clearTimeout(n),n=setTimeout((function(){t(i)}),e)};var n}function g(t,e){var n=Object.assign({},t);return e.forEach((function(t){delete n[t]})),n}function v(t){return[].concat(t)}function b(t,e){-1===t.indexOf(e)&&t.push(e)}function y(t){return t.split("-")[0]}function w(t){return[].slice.call(t)}function x(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function C(){return document.createElement("div")}function _(t){return["Element","Fragment"].some((function(e){return f(t,e)}))}function S(t){return f(t,"MouseEvent")}function T(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function k(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function M(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function L(t){var e,n=v(t)[0];return null!=n&&null!=(e=n.ownerDocument)&&e.body?n.ownerDocument:document}function A(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[i](e,n)}))}function O(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=null==n.getRootNode||null==(i=n.getRootNode())?void 0:i.host}return!1}var E={isTouch:!1},D=0;function N(){E.isTouch||(E.isTouch=!0,window.performance&&document.addEventListener("mousemove",I))}function I(){var t=performance.now();t-D<20&&(E.isTouch=!1,document.removeEventListener("mousemove",I)),D=t}function P(){var t=document.activeElement;if(T(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var W=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),B=Object.assign({appendTo:d,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),R=Object.keys(B);function F(t){var e=(t.plugins||[]).reduce((function(e,n){var i,r=n.name,o=n.defaultValue;return r&&(e[r]=void 0!==t[r]?t[r]:null!=(i=B[r])?i:o),e}),{});return Object.assign({},t,e)}function j(t,e){var n=Object.assign({},e,{content:p(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(F(Object.assign({},B,{plugins:e}))):R).reduce((function(e,n){var i=(t.getAttribute("data-tippy-"+n)||"").trim();if(!i)return e;if("content"===n)e[n]=i;else try{e[n]=JSON.parse(i)}catch(t){e[n]=i}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},B.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function $(t,e){t.innerHTML=e}function H(t){var e=C();return!0===t?e.className=l:(e.className=c,_(t)?e.appendChild(t):$(e,t)),e}function z(t,e){_(e.content)?($(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?$(t,e.content):t.textContent=e.content)}function Z(t){var e=t.firstElementChild,n=w(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(s)})),arrow:n.find((function(t){return t.classList.contains(l)||t.classList.contains(c)})),backdrop:n.find((function(t){return t.classList.contains(a)}))}}function X(t){var e=C(),n=C();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=C();function r(n,i){var r=Z(e),o=r.box,s=r.content,a=r.arrow;i.theme?o.setAttribute("data-theme",i.theme):o.removeAttribute("data-theme"),"string"==typeof i.animation?o.setAttribute("data-animation",i.animation):o.removeAttribute("data-animation"),i.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?o.setAttribute("role",i.role):o.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||z(s,t.props),i.arrow?a?n.arrow!==i.arrow&&(o.removeChild(a),o.appendChild(H(i.arrow))):o.appendChild(H(i.arrow)):a&&o.removeChild(a)}return i.className=s,i.setAttribute("data-state","hidden"),z(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props),{popper:e,onUpdate:r}}X.$$tippy=!0;var V=1,U=[],q=[];function G(t,e){var n,r,o,s,a,l,c,f,g=j(t,Object.assign({},B,F(x(e)))),_=!1,T=!1,D=!1,N=!1,I=[],P=m(wt,g.interactiveDebounce),R=V++,$=(f=g.plugins).filter((function(t,e){return f.indexOf(t)===e})),H={id:R,reference:t,popper:C(),popperInstance:null,props:g,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:$,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(e){if(!H.state.isDestroyed){st("onBeforeUpdate",[H,e]),bt();var n=H.props,i=j(t,Object.assign({},n,x(e),{ignoreAttributes:!0}));H.props=i,vt(),n.interactiveDebounce!==i.interactiveDebounce&&(ct(),P=m(wt,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?v(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):i.triggerTarget&&t.removeAttribute("aria-expanded"),lt(),ot(),G&&G(n,i),H.popperInstance&&(St(),kt().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}))),st("onAfterUpdate",[H,e])}},setContent:function(t){H.setProps({content:t})},show:function(){var t=H.state.isVisible,e=H.state.isDestroyed,n=!H.state.isEnabled,i=E.isTouch&&!H.props.touch,r=h(H.props.duration,0,B.duration);if(!(t||e||n||i||et().hasAttribute("disabled")||(st("onShow",[H],!1),!1===H.props.onShow(H)))){if(H.state.isVisible=!0,tt()&&(X.style.visibility="visible"),ot(),ft(),H.state.isMounted||(X.style.transition="none"),tt()){var o=it();k([o.box,o.content],0)}var s,a,c;l=function(){var t;if(H.state.isVisible&&!N){if(N=!0,X.offsetHeight,X.style.transition=H.props.moveTransition,tt()&&H.props.animation){var e=it(),n=e.box,i=e.content;k([n,i],r),M([n,i],"visible")}at(),lt(),b(q,H),null==(t=H.popperInstance)||t.forceUpdate(),st("onMount",[H]),H.props.animation&&tt()&&function(t,e){mt(t,(function(){H.state.isShown=!0,st("onShown",[H])}))}(r)}},a=H.props.appendTo,c=et(),(s=H.props.interactive&&a===d||"parent"===a?c.parentNode:p(a,[c])).contains(X)||s.appendChild(X),H.state.isMounted=!0,St()}},hide:function(){var t=!H.state.isVisible,e=H.state.isDestroyed,n=!H.state.isEnabled,i=h(H.props.duration,1,B.duration);if(!(t||e||n)&&(st("onHide",[H],!1),!1!==H.props.onHide(H))){if(H.state.isVisible=!1,H.state.isShown=!1,N=!1,_=!1,tt()&&(X.style.visibility="hidden"),ct(),pt(),ot(!0),tt()){var r=it(),o=r.box,s=r.content;H.props.animation&&(k([o,s],i),M([o,s],"hidden"))}at(),lt(),H.props.animation?tt()&&function(t,e){mt(t,(function(){!H.state.isVisible&&X.parentNode&&X.parentNode.contains(X)&&e()}))}(i,H.unmount):H.unmount()}},hideWithInteractivity:function(t){nt().addEventListener("mousemove",P),b(U,P),P(t)},enable:function(){H.state.isEnabled=!0},disable:function(){H.hide(),H.state.isEnabled=!1},unmount:function(){H.state.isVisible&&H.hide(),H.state.isMounted&&(Tt(),kt().forEach((function(t){t._tippy.unmount()})),X.parentNode&&X.parentNode.removeChild(X),q=q.filter((function(t){return t!==H})),H.state.isMounted=!1,st("onHidden",[H]))},destroy:function(){H.state.isDestroyed||(H.clearDelayTimeouts(),H.unmount(),bt(),delete t._tippy,H.state.isDestroyed=!0,st("onDestroy",[H]))}};if(!g.render)return H;var z=g.render(H),X=z.popper,G=z.onUpdate;X.setAttribute("data-tippy-root",""),X.id="tippy-"+H.id,H.popper=X,t._tippy=H,X._tippy=H;var K=$.map((function(t){return t.fn(H)})),Y=t.hasAttribute("aria-expanded");return vt(),lt(),ot(),st("onCreate",[H]),g.showOnCreate&&Mt(),X.addEventListener("mouseenter",(function(){H.props.interactive&&H.state.isVisible&&H.clearDelayTimeouts()})),X.addEventListener("mouseleave",(function(){H.props.interactive&&H.props.trigger.indexOf("mouseenter")>=0&&nt().addEventListener("mousemove",P)})),H;function J(){var t=H.props.touch;return Array.isArray(t)?t:[t,0]}function Q(){return"hold"===J()[0]}function tt(){var t;return!(null==(t=H.props.render)||!t.$$tippy)}function et(){return c||t}function nt(){var t=et().parentNode;return t?L(t):document}function it(){return Z(X)}function rt(t){return H.state.isMounted&&!H.state.isVisible||E.isTouch||s&&"focus"===s.type?0:h(H.props.delay,t?0:1,B.delay)}function ot(t){void 0===t&&(t=!1),X.style.pointerEvents=H.props.interactive&&!t?"":"none",X.style.zIndex=""+H.props.zIndex}function st(t,e,n){var i;void 0===n&&(n=!0),K.forEach((function(n){n[t]&&n[t].apply(n,e)})),n&&(i=H.props)[t].apply(i,e)}function at(){var e=H.props.aria;if(e.content){var n="aria-"+e.content,i=X.id;v(H.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(H.state.isVisible)t.setAttribute(n,e?e+" "+i:i);else{var r=e&&e.replace(i,"").trim();r?t.setAttribute(n,r):t.removeAttribute(n)}}))}}function lt(){!Y&&H.props.aria.expanded&&v(H.props.triggerTarget||t).forEach((function(t){H.props.interactive?t.setAttribute("aria-expanded",H.state.isVisible&&t===et()?"true":"false"):t.removeAttribute("aria-expanded")}))}function ct(){nt().removeEventListener("mousemove",P),U=U.filter((function(t){return t!==P}))}function ut(e){if(!E.isTouch||!D&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!H.props.interactive||!O(X,n)){if(v(H.props.triggerTarget||t).some((function(t){return O(t,n)}))){if(E.isTouch)return;if(H.state.isVisible&&H.props.trigger.indexOf("click")>=0)return}else st("onClickOutside",[H,e]);!0===H.props.hideOnClick&&(H.clearDelayTimeouts(),H.hide(),T=!0,setTimeout((function(){T=!1})),H.state.isMounted||pt())}}}function dt(){D=!0}function ht(){D=!1}function ft(){var t=nt();t.addEventListener("mousedown",ut,!0),t.addEventListener("touchend",ut,u),t.addEventListener("touchstart",ht,u),t.addEventListener("touchmove",dt,u)}function pt(){var t=nt();t.removeEventListener("mousedown",ut,!0),t.removeEventListener("touchend",ut,u),t.removeEventListener("touchstart",ht,u),t.removeEventListener("touchmove",dt,u)}function mt(t,e){var n=it().box;function i(t){t.target===n&&(A(n,"remove",i),e())}if(0===t)return e();A(n,"remove",a),A(n,"add",i),a=i}function gt(e,n,i){void 0===i&&(i=!1),v(H.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,i),I.push({node:t,eventType:e,handler:n,options:i})}))}function vt(){var t;Q()&&(gt("touchstart",yt,{passive:!0}),gt("touchend",xt,{passive:!0})),(t=H.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(gt(t,yt),t){case"mouseenter":gt("mouseleave",xt);break;case"focus":gt(W?"focusout":"blur",Ct);break;case"focusin":gt("focusout",Ct)}}))}function bt(){I.forEach((function(t){var e=t.node,n=t.eventType,i=t.handler,r=t.options;e.removeEventListener(n,i,r)})),I=[]}function yt(t){var e,n=!1;if(H.state.isEnabled&&!_t(t)&&!T){var i="focus"===(null==(e=s)?void 0:e.type);s=t,c=t.currentTarget,lt(),!H.state.isVisible&&S(t)&&U.forEach((function(e){return e(t)})),"click"===t.type&&(H.props.trigger.indexOf("mouseenter")<0||_)&&!1!==H.props.hideOnClick&&H.state.isVisible?n=!0:Mt(t),"click"===t.type&&(_=!n),n&&!i&&Lt(t)}}function wt(t){var e=t.target,n=et().contains(e)||X.contains(e);if("mousemove"!==t.type||!n){var i=kt().concat(X).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:g}:null})).filter(Boolean);(function(t,e){var n=e.clientX,i=e.clientY;return t.every((function(t){var e=t.popperRect,r=t.popperState,o=t.props.interactiveBorder,s=y(r.placement),a=r.modifiersData.offset;if(!a)return!0;var l="bottom"===s?a.top.y:0,c="top"===s?a.bottom.y:0,u="right"===s?a.left.x:0,d="left"===s?a.right.x:0,h=e.top-i+l>o,f=i-e.bottom-c>o,p=e.left-n+u>o,m=n-e.right-d>o;return h||f||p||m}))})(i,t)&&(ct(),Lt(t))}}function xt(t){_t(t)||H.props.trigger.indexOf("click")>=0&&_||(H.props.interactive?H.hideWithInteractivity(t):Lt(t))}function Ct(t){H.props.trigger.indexOf("focusin")<0&&t.target!==et()||H.props.interactive&&t.relatedTarget&&X.contains(t.relatedTarget)||Lt(t)}function _t(t){return!!E.isTouch&&Q()!==t.type.indexOf("touch")>=0}function St(){Tt();var e=H.props,n=e.popperOptions,r=e.placement,o=e.offset,s=e.getReferenceClientRect,a=e.moveTransition,c=tt()?Z(X).arrow:null,u=s?{getBoundingClientRect:s,contextElement:s.contextElement||et()}:t,d=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(tt()){var n=it().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}}];tt()&&c&&d.push({name:"arrow",options:{element:c,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),H.popperInstance=(0,i.fi)(u,X,Object.assign({},n,{placement:r,onFirstUpdate:l,modifiers:d}))}function Tt(){H.popperInstance&&(H.popperInstance.destroy(),H.popperInstance=null)}function kt(){return w(X.querySelectorAll("[data-tippy-root]"))}function Mt(t){H.clearDelayTimeouts(),t&&st("onTrigger",[H,t]),ft();var e=rt(!0),i=J(),r=i[0],o=i[1];E.isTouch&&"hold"===r&&o&&(e=o),e?n=setTimeout((function(){H.show()}),e):H.show()}function Lt(t){if(H.clearDelayTimeouts(),st("onUntrigger",[H,t]),H.state.isVisible){if(!(H.props.trigger.indexOf("mouseenter")>=0&&H.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&_)){var e=rt(!1);e?r=setTimeout((function(){H.state.isVisible&&H.hide()}),e):o=requestAnimationFrame((function(){H.hide()}))}}else pt()}}function K(t,e){void 0===e&&(e={});var n=B.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",N,u),window.addEventListener("blur",P);var i,r=Object.assign({},e,{plugins:n}),o=(i=t,_(i)?[i]:function(t){return f(t,"NodeList")}(i)?w(i):Array.isArray(i)?i:w(document.querySelectorAll(i))).reduce((function(t,e){var n=e&&G(e,r);return n&&t.push(n),t}),[]);return _(t)?o[0]:o}K.defaultProps=B,K.setDefaultProps=function(t){Object.keys(t).forEach((function(e){B[e]=t[e]}))},K.currentInput=E;var Y=function(t){var e=void 0===t?{}:t,n=e.exclude,i=e.duration;q.forEach((function(t){var e=!1;if(n&&(e=T(n)?t.reference===n:t.popper===n.popper),!e){var r=t.props.duration;t.setProps({duration:i}),t.hide(),t.state.isDestroyed||t.setProps({duration:r})}}))},J=Object.assign({},r.Z,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),Q=function(t,e){var n;void 0===e&&(e={});var i,r=t,o=[],s=[],a=e.overrides,l=[],c=!1;function u(){s=r.map((function(t){return v(t.props.triggerTarget||t.reference)})).reduce((function(t,e){return t.concat(e)}),[])}function d(){o=r.map((function(t){return t.reference}))}function h(t){r.forEach((function(e){t?e.enable():e.disable()}))}function f(t){return r.map((function(e){var n=e.setProps;return e.setProps=function(r){n(r),e.reference===i&&t.setProps(r)},function(){e.setProps=n}}))}function p(t,e){var n=s.indexOf(e);if(e!==i){i=e;var l=(a||[]).concat("content").reduce((function(t,e){return t[e]=r[n].props[e],t}),{});t.setProps(Object.assign({},l,{getReferenceClientRect:"function"==typeof l.getReferenceClientRect?l.getReferenceClientRect:function(){var t;return null==(t=o[n])?void 0:t.getBoundingClientRect()}}))}}h(!1),d(),u();var m={fn:function(){return{onDestroy:function(){h(!0)},onHidden:function(){i=null},onClickOutside:function(t){t.props.showOnCreate&&!c&&(c=!0,i=null)},onShow:function(t){t.props.showOnCreate&&!c&&(c=!0,p(t,o[0]))},onTrigger:function(t,e){p(t,e.currentTarget)}}}},b=K(C(),Object.assign({},g(e,["overrides"]),{plugins:[m].concat(e.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],[J])})})),y=b.show;b.show=function(t){if(y(),!i&&null==t)return p(b,o[0]);if(!i||null!=t){if("number"==typeof t)return o[t]&&p(b,o[t]);if(r.indexOf(t)>=0){var e=t.reference;return p(b,e)}return o.indexOf(t)>=0?p(b,t):void 0}},b.showNext=function(){var t=o[0];if(!i)return b.show(0);var e=o.indexOf(i);b.show(o[e+1]||t)},b.showPrevious=function(){var t=o[o.length-1];if(!i)return b.show(t);var e=o.indexOf(i),n=o[e-1]||t;b.show(n)};var w=b.setProps;return b.setProps=function(t){a=t.overrides||a,w(t)},b.setInstances=function(t){h(!0),l.forEach((function(t){return t()})),r=t,h(!1),d(),u(),l=f(b),b.setProps({triggerTarget:s})},l=f(b),b},tt={mouseover:"mouseenter",focusin:"focus",click:"click"};function et(t,e){var n=[],i=[],r=!1,o=e.target,s=g(e,["target"]),a=Object.assign({},s,{trigger:"manual",touch:!1}),l=Object.assign({touch:B.touch},s,{showOnCreate:!0}),c=K(t,a);function d(t){if(t.target&&!r){var n=t.target.closest(o);if(n){var s=n.getAttribute("data-tippy-trigger")||e.trigger||B.trigger;if(!n._tippy&&!("touchstart"===t.type&&"boolean"==typeof l.touch||"touchstart"!==t.type&&s.indexOf(tt[t.type])<0)){var a=K(n,l);a&&(i=i.concat(a))}}}}function h(t,e,i,r){void 0===r&&(r=!1),t.addEventListener(e,i,r),n.push({node:t,eventType:e,handler:i,options:r})}return v(c).forEach((function(t){var e=t.destroy,o=t.enable,s=t.disable;t.destroy=function(t){void 0===t&&(t=!0),t&&i.forEach((function(t){t.destroy()})),i=[],n.forEach((function(t){var e=t.node,n=t.eventType,i=t.handler,r=t.options;e.removeEventListener(n,i,r)})),n=[],e()},t.enable=function(){o(),i.forEach((function(t){return t.enable()})),r=!1},t.disable=function(){s(),i.forEach((function(t){return t.disable()})),r=!0},function(t){var e=t.reference;h(e,"touchstart",d,u),h(e,"mouseover",d),h(e,"focusin",d),h(e,"click",d)}(t)})),c}var nt={name:"animateFill",defaultValue:!1,fn:function(t){var e;if(null==(e=t.props.render)||!e.$$tippy)return{};var n=Z(t.popper),i=n.box,r=n.content,o=t.props.animateFill?function(){var t=C();return t.className=a,M([t],"hidden"),t}():null;return{onCreate:function(){o&&(i.insertBefore(o,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var t=i.style.transitionDuration,e=Number(t.replace("ms",""));r.style.transitionDelay=Math.round(e/10)+"ms",o.style.transitionDuration=t,M([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&M([o],"hidden")}}}},it={clientX:0,clientY:0},rt=[];function ot(t){var e=t.clientX,n=t.clientY;it={clientX:e,clientY:n}}var st={name:"followCursor",defaultValue:!1,fn:function(t){var e=t.reference,n=L(t.props.triggerTarget||e),i=!1,r=!1,o=!0,s=t.props;function a(){return"initial"===t.props.followCursor&&t.state.isVisible}function l(){n.addEventListener("mousemove",d)}function c(){n.removeEventListener("mousemove",d)}function u(){i=!0,t.setProps({getReferenceClientRect:null}),i=!1}function d(n){var i=!n.target||e.contains(n.target),r=t.props.followCursor,o=n.clientX,s=n.clientY,a=e.getBoundingClientRect(),l=o-a.left,c=s-a.top;!i&&t.props.interactive||t.setProps({getReferenceClientRect:function(){var t=e.getBoundingClientRect(),n=o,i=s;"initial"===r&&(n=t.left+l,i=t.top+c);var a="horizontal"===r?t.top:i,u="vertical"===r?t.right:n,d="horizontal"===r?t.bottom:i,h="vertical"===r?t.left:n;return{width:u-h,height:d-a,top:a,right:u,bottom:d,left:h}}})}function h(){t.props.followCursor&&(rt.push({instance:t,doc:n}),function(t){t.addEventListener("mousemove",ot)}(n))}function f(){0===(rt=rt.filter((function(e){return e.instance!==t}))).filter((function(t){return t.doc===n})).length&&function(t){t.removeEventListener("mousemove",ot)}(n)}return{onCreate:h,onDestroy:f,onBeforeUpdate:function(){s=t.props},onAfterUpdate:function(e,n){var o=n.followCursor;i||void 0!==o&&s.followCursor!==o&&(f(),o?(h(),!t.state.isMounted||r||a()||l()):(c(),u()))},onMount:function(){t.props.followCursor&&!r&&(o&&(d(it),o=!1),a()||l())},onTrigger:function(t,e){S(e)&&(it={clientX:e.clientX,clientY:e.clientY}),r="focus"===e.type},onHidden:function(){t.props.followCursor&&(u(),c(),o=!0)}}}},at={name:"inlinePositioning",defaultValue:!1,fn:function(t){var e,n=t.reference,i=-1,r=!1,o=[],s={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(r){var s=r.state;t.props.inlinePositioning&&(-1!==o.indexOf(s.placement)&&(o=[]),e!==s.placement&&-1===o.indexOf(s.placement)&&(o.push(s.placement),t.setProps({getReferenceClientRect:function(){return function(t){return function(t,e,n,i){if(n.length<2||null===t)return e;if(2===n.length&&i>=0&&n[0].left>n[1].right)return n[i]||e;switch(t){case"top":case"bottom":var r=n[0],o=n[n.length-1],s="top"===t,a=r.top,l=o.bottom,c=s?r.left:o.left,u=s?r.right:o.right;return{top:a,bottom:l,left:c,right:u,width:u-c,height:l-a};case"left":case"right":var d=Math.min.apply(Math,n.map((function(t){return t.left}))),h=Math.max.apply(Math,n.map((function(t){return t.right}))),f=n.filter((function(e){return"left"===t?e.left===d:e.right===h})),p=f[0].top,m=f[f.length-1].bottom;return{top:p,bottom:m,left:d,right:h,width:h-d,height:m-p};default:return e}}(y(t),n.getBoundingClientRect(),w(n.getClientRects()),i)}(s.placement)}})),e=s.placement)}};function a(){var e;r||(e=function(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat(((null==(n=t.popperOptions)?void 0:n.modifiers)||[]).filter((function(t){return t.name!==e.name})),[e])})}}(t.props,s),r=!0,t.setProps(e),r=!1)}return{onCreate:a,onAfterUpdate:a,onTrigger:function(e,n){if(S(n)){var r=w(t.reference.getClientRects()),o=r.find((function(t){return t.left-2<=n.clientX&&t.right+2>=n.clientX&&t.top-2<=n.clientY&&t.bottom+2>=n.clientY})),s=r.indexOf(o);i=s>-1?s:i}},onHidden:function(){i=-1}}}},lt={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function i(e){return!0===t.props.sticky||t.props.sticky===e}var r=null,o=null;function s(){var a=i("reference")?(t.popperInstance?t.popperInstance.state.elements.reference:e).getBoundingClientRect():null,l=i("popper")?n.getBoundingClientRect():null;(a&&ct(r,a)||l&&ct(o,l))&&t.popperInstance&&t.popperInstance.update(),r=a,o=l,t.state.isMounted&&requestAnimationFrame(s)}return{onMount:function(){t.props.sticky&&s()}}}};function ct(t,e){return!t||!e||t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left}K.setDefaultProps({render:X});const ut=K},8901:(t,e,n)=>{var i,r;n.amdD,i=[n(9755)],void 0===(r=function(t){return function(){var e,n,i,r=0,o={clear:function(n,i){var r=u();e||s(r),a(n,r,i)||function(n){for(var i=e.children(),r=i.length-1;r>=0;r--)a(t(i[r]),n)}(r)},remove:function(n){var i=u();e||s(i),n&&0===t(":focus",n).length?d(n):e.children().length&&e.remove()},error:function(t,e,n){return c({type:"error",iconClass:u().iconClasses.error,message:t,optionsOverride:n,title:e})},getContainer:s,info:function(t,e,n){return c({type:"info",iconClass:u().iconClasses.info,message:t,optionsOverride:n,title:e})},options:{},subscribe:function(t){n=t},success:function(t,e,n){return c({type:"success",iconClass:u().iconClasses.success,message:t,optionsOverride:n,title:e})},version:"2.1.4",warning:function(t,e,n){return c({type:"warning",iconClass:u().iconClasses.warning,message:t,optionsOverride:n,title:e})}};return o;function s(n,i){return n||(n=u()),(e=t("#"+n.containerId)).length||i&&(e=function(n){return(e=t("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(t(n.target)),e}(n)),e}function a(e,n,i){var r=!(!i||!i.force)&&i.force;return!(!e||!r&&0!==t(":focus",e).length||(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){d(e)}}),0))}function l(t){n&&n(t)}function c(n){var o=u(),a=n.iconClass||o.iconClass;if(void 0!==n.optionsOverride&&(o=t.extend(o,n.optionsOverride),a=n.optionsOverride.iconClass||a),!function(t,e){if(t.preventDuplicates){if(e.message===i)return!0;i=e.message}return!1}(o,n)){r++,e=s(o,!0);var c=null,h=t("<div/>"),f=t("<div/>"),p=t("<div/>"),m=t("<div/>"),g=t(o.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:r,state:"visible",startTime:new Date,options:o,map:n};return n.iconClass&&h.addClass(o.toastClass).addClass(a),function(){if(n.title){var t=n.title;o.escapeHtml&&(t=y(n.title)),f.append(t).addClass(o.titleClass),h.append(f)}}(),function(){if(n.message){var t=n.message;o.escapeHtml&&(t=y(n.message)),p.append(t).addClass(o.messageClass),h.append(p)}}(),o.closeButton&&(g.addClass(o.closeClass).attr("role","button"),h.prepend(g)),o.progressBar&&(m.addClass(o.progressClass),h.prepend(m)),o.rtl&&h.addClass("rtl"),o.newestOnTop?e.prepend(h):e.append(h),function(){var t="";switch(n.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}h.attr("aria-live",t)}(),h.hide(),h[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),o.timeOut>0&&(c=setTimeout(w,o.timeOut),v.maxHideTime=parseFloat(o.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,o.progressBar&&(v.intervalId=setInterval((function(){var t=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;m.width(t+"%")}),10))),o.closeOnHover&&h.hover((function(){clearTimeout(c),v.hideEta=0,h.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})}),(function(){(o.timeOut>0||o.extendedTimeOut>0)&&(c=setTimeout(w,o.extendedTimeOut),v.maxHideTime=parseFloat(o.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)})),!o.onclick&&o.tapToDismiss&&h.click(w),o.closeButton&&g&&g.click((function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),o.onCloseClick&&o.onCloseClick(t),w(!0)})),o.onclick&&h.click((function(t){o.onclick(t),w()})),l(b),o.debug&&console&&console.log(b),h}function y(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(e){var n=e&&!1!==o.closeMethod?o.closeMethod:o.hideMethod,i=e&&!1!==o.closeDuration?o.closeDuration:o.hideDuration,r=e&&!1!==o.closeEasing?o.closeEasing:o.hideEasing;if(!t(":focus",h).length||e)return clearTimeout(v.intervalId),h[n]({duration:i,easing:r,complete:function(){d(h),clearTimeout(c),o.onHidden&&"hidden"!==b.state&&o.onHidden(),b.state="hidden",b.endTime=new Date,l(b)}})}}function u(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},o.options)}function d(t){e||(e=s()),t.is(":visible")||(t.remove(),t=null,0===e.children().length&&(e.remove(),i=void 0))}}()}.apply(e,i))||(t.exports=r)},8602:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.assemble=e.assembleKeepLineInfo=void 0;const r=n(9654),o=n(7610),s=n(9687),a=i(n(6330));function l(t,e){return t.instructions.includes(e.op.toLowerCase())&&e.type==t.format&&e.args.length==t.signature.length&&e.args.every(((e,n)=>e.type==t.signature[n]))}const c=[{instructions:["add","sub","and","or","xor","sll","sra","srl","slt","sltu"],format:"basic",signature:["id","id","id"],conv:(t,[e,n,i],r)=>({type:"R",op:t,rd:e,rs1:n,rs2:i,line:r})},{instructions:["addi","andi","ori","xori","slti","sltiu"],format:"basic",signature:["id","id","num"],conv:(t,[e,n,i],r)=>({type:"I",op:t,rd:e,rs1:n,imm:i,line:r})},{instructions:["slli","srai","srli"],format:"basic",signature:["id","id","num"],conv:(t,[e,n,i],r)=>({type:"IS",op:t,rd:e,rs1:n,imm:i,line:r})},{instructions:["beq","bge","bgeu","blt","bltu","bne"],format:"basic",signature:["id","id","id"],conv:(t,[e,n,i],r)=>({type:"SB",op:t,rs1:e,rs2:n,imm:i,line:r})},{instructions:["jal"],format:"basic",signature:["id","id"],conv:(t,[e,n],i)=>({type:"UJ",op:t,rd:e,imm:n,line:i})},{instructions:["j"],format:"basic",signature:["id"],conv:(t,[e],n)=>({type:"UJ",op:"jal",rd:"zero",imm:e,line:n})},{instructions:["lui"],format:"basic",signature:["id","num"],conv:(t,[e,n],i)=>({type:"U",op:t,rd:e,imm:n,line:i})},{instructions:["lb","lbu","lh","lhu","lw","jalr"],format:"displacement",signature:["id","num","id"],conv:(t,[e,n,i],r)=>({type:"I",op:t,rd:e,rs1:i,imm:n,line:r})},{instructions:["sb","sh","sw"],format:"displacement",signature:["id","num","id"],conv:(t,[e,n,i],r)=>({type:"S",op:t,rs1:i,rs2:e,imm:n,line:r})},{instructions:["jal"],format:"basic",signature:["id","id"],conv:(t,[e,n],i)=>({type:"UJ",op:t,rd:e,imm:n,line:i})},{instructions:["jal"],format:"basic",signature:["id"],conv:(t,[e],n)=>({type:"UJ",op:t,rd:"ra",imm:e,line:n})},{instructions:["mv"],format:"basic",signature:["id","id"],conv:(t,[e,n],i)=>({type:"I",op:"addi",rd:e,rs1:n,imm:0,line:i})},{instructions:["li"],format:"basic",signature:["id","num"],conv:(t,[e,n],i)=>({type:"I",op:"addi",rd:e,rs1:"zero",imm:n,line:i})}];function u(t){let e=function(t){let e=new r.Parser(r.Grammar.fromCompiled(a.default));try{e.feed(t)}catch(e){throw new h("Syntax error",t,e.token.line,e.token.col)}if(e.results.length<1){let e=t.split("\n");throw new h("Unexpected end of program",t,e.length,e[e.length-1].length)}if(e.results.length>1)throw Error("Code is ambiguous.");return e.results[0]}(t),n={},i=[],s=[];for(let r of e)if("label"==r.type)n[r.label]=i.length;else{let e=c.find((t=>l(t,r)));if(!e)throw new h("Unknown instruction or incorrect args",t,r.line);{let t=e.conv(r.op.toLowerCase(),r.args.map((t=>t.value)),r.line);i.push(t)}}for(let[e,r]of i.entries()){try{var u=d(e,r,n)}catch(e){throw new h(e.message,t,r.line)}s.push([r.line,o.Bits.toInt(u)])}return s}function d(t,e,n){let i={...e};if("imm"in e&&"string"==typeof e.imm){if(!(e.imm in n))throw Error(`Unknown label "${i.imm}"`);i.imm=4*(n[e.imm]-t)}for(let t of["rd","rs1","rs2"])if(t in i){if(!(i[t]in s.registers))throw Error(`Unknown register "${i[t]}"`);i[t]=(0,o.Bits)(s.registers[i[t]],5)}let[r,a,l]=s.opcodes[e.op];if("R"==e.type)return o.Bits.join(l,i.rs2,i.rs1,a,i.rd,r);if("I"==e.type)return o.Bits.join((0,o.Bits)(i.imm,12,!0),i.rs1,a,i.rd,r);if("IS"==e.type)return o.Bits.join(l,(0,o.Bits)(i.imm,5,!0),i.rs1,a,i.rd,r);if("S"==e.type){let t=(0,o.Bits)(i.imm,12,!0);return o.Bits.join(t.slice(5,12),i.rs2,i.rs1,a,t.slice(0,5),r)}if("SB"==e.type){let t=(0,o.Bits)(i.imm,13,!0);return o.Bits.join(t[12],t.slice(5,11),i.rs2,i.rs1,a,t.slice(1,5),t[11],r)}if("U"==e.type)return o.Bits.join((0,o.Bits)(i.imm,20,!0),i.rd,r);if("UJ"==e.type){let t=(0,o.Bits)(i.imm,21,!0);return o.Bits.join(t[20],t.slice(1,11),t[11],t.slice(12,20),i.rd,r)}throw Error("Unknown instruction type")}e.assembleKeepLineInfo=u,e.assemble=function(t){return u(t).map((([t,e])=>e))};class h extends Error{constructor(t,e,n,i){let r=e.split("\n"),o=r[n-1].trimLeft(),s=r[n-1].length-o.length;super(t=null!=i?`${t}\nat line ${n} col ${i}:\n  ${o}\n  ${"-".repeat(i-1-s)}^`:`${t}\nat line ${n}:\n  ${o}\n`),Object.setPrototypeOf(this,new.target.prototype),this.line=n,this.col=i}}},3607:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(n(9755));n(6468),n(9079),n(7694);const o=i(n(8901));n(3668);const s=n(2173),a=i(n(5647));n(2976),n(5539),o.default.options={positionClass:"toast-top-left",closeButton:!0,timeOut:8e3,preventDuplicates:!0},(0,r.default)((function(){(0,r.default)("#datapath").load(a.default,(()=>{window.sim=new s.VisualSim}))}))},8551:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mux=e.Not=e.Or=e.And=e.BranchAdder=e.JumpControl=e.DataMemory=e.MemoryControl=e.InstructionSplitter=e.InstructionMemory=e.RegisterFile=e.ImmGen=e.ALU=e.ALUControl=e.Control=e.PC=void 0;const i=n(969),r=n(7610),o=n(8125);e.PC=class{constructor(){this.in=[],this.out=[],this.data=0n}tick(){this.data=r.Bits.toInt(this.in),this.out=(0,r.Bits)(this.data,32)}};class s{constructor(){this.opCode=[],this.funct3=[],this.aluSrc=0,this.writeSrc=[],this.regWrite=0,this.memRead=0,this.memWrite=0,this.branchZero=0,this.branchNotZero=0,this.jump=0,this.jalr=0,this.aluOp=[]}tick(){[this.aluSrc,this.writeSrc,this.regWrite,this.memRead,this.memWrite,this.aluOp]=s.table.match(this.opCode),[this.branchZero,this.branchNotZero,this.jump,this.jalr]=s.branchTable.match(this.opCode,this.funct3)}}e.Control=s,s.table=new o.TruthTable([[["0110011"],[0,r.b`00`,1,0,0,r.b`010`]],[["0010011"],[1,r.b`00`,1,0,0,r.b`011`]],[["0000011"],[1,r.b`01`,1,1,0,r.b`000`]],[["0100011"],[1,r.b`00`,0,0,1,r.b`000`]],[["1100011"],[0,r.b`00`,0,0,0,r.b`001`]],[["110X111"],[0,r.b`10`,1,0,0,r.b`000`]],[["0110111"],[1,r.b`00`,1,0,0,r.b`100`]]]),s.branchTable=new o.TruthTable([[["1100011","000"],[1,0,0,0]],[["1100011","1X1"],[1,0,0,0]],[["1100011","001"],[0,1,0,0]],[["1100011","1X0"],[0,1,0,0]],[["1101111","XXX"],[0,0,1,0]],[["1100111","000"],[0,0,1,1]],[["XXXXXXX","XXX"],[0,0,0,0]]]);class a{constructor(){this.aluOp=[],this.funct7=[],this.funct3=[],this.aluControl=[]}tick(){this.aluControl=a.table.match(this.aluOp,this.funct7,this.funct3)}}e.ALUControl=a,a.table=new o.TruthTable([[["000","XXXXXXX","XXX"],r.b`0010`],[["001","XXXXXXX","00X"],r.b`0110`],[["001","XXXXXXX","10X"],r.b`0111`],[["001","XXXXXXX","11X"],r.b`1111`],[["010","0000000","000"],r.b`0010`],[["011","XXXXXXX","000"],r.b`0010`],[["010","0100000","000"],r.b`0110`],[["010","0000000","111"],r.b`0000`],[["011","XXXXXXX","111"],r.b`0000`],[["010","0000000","110"],r.b`0001`],[["011","XXXXXXX","110"],r.b`0001`],[["010","0000000","100"],r.b`1100`],[["011","XXXXXXX","100"],r.b`1100`],[["010","0000000","010"],r.b`0111`],[["011","XXXXXXX","010"],r.b`0111`],[["010","0000000","011"],r.b`1111`],[["011","XXXXXXX","011"],r.b`1111`],[["01X","0000000","001"],r.b`1000`],[["01X","0000000","101"],r.b`1001`],[["01X","0100000","101"],r.b`1011`],[["100","XXXXXXX","XXX"],r.b`1101`]]);class l{constructor(){this.in1=[],this.in2=[],this.aluControl=[],this.result=[],this.zero=0}tick(){let t=l.tableSigned.match(this.aluControl),[e,n]=[r.Bits.toInt(this.in1,t),r.Bits.toInt(this.in2,t)],i=l.table.match(this.aluControl)(e,n);this.result=(0,r.Bits)(i,33,t).slice(0,32),this.zero=Number(0n==r.Bits.toInt(this.result))}}e.ALU=l,l.tableSigned=new o.TruthTable([[["1001"],!1],[["1111"],!1],[["XXXX"],!0]]),l.table=new o.TruthTable([[["0000"],(t,e)=>t&e],[["0001"],(t,e)=>t|e],[["0010"],(t,e)=>t+e],[["0110"],(t,e)=>t-e],[["X111"],(t,e)=>BigInt(t<e)],[["1000"],(t,e)=>t<<(0x1fn&e)],[["10X1"],(t,e)=>t>>(0x1fn&e)],[["1100"],(t,e)=>t^e],[["1101"],(t,e)=>e<<12n]]);class c{constructor(){this.instruction=[],this.immediate=[]}tick(){let t=this.instruction.slice(0,7),e=c.table.match(t)(this.instruction);this.immediate=r.Bits.extended(e,32,!0)}}e.ImmGen=c,c.table=new o.TruthTable([[["1100011"],t=>r.Bits.join(t[31],t[7],t.slice(25,31),t.slice(8,12),0)],[["0100011"],t=>r.Bits.join(t.slice(25,32),t.slice(7,12))],[["0X10111"],t=>t.slice(12,32)],[["1101111"],t=>r.Bits.join(t[31],t.slice(12,20),t[20],t.slice(21,31),0)],[["1100111"],t=>t.slice(20,32)],[["00X0011"],t=>t.slice(20,32)],[["0110011"],t=>r.b`0`]]),e.RegisterFile=class{constructor(){this.readReg1=[],this.readReg2=[],this.regWrite=0,this.writeReg=[],this.writeData=[],this.readData1=[],this.readData2=[],this.registers=Array(32).fill(0n)}tick(){if(this.regWrite){let t=r.Bits.toNumber(this.writeReg);0!=t&&(this.registers[t]=r.Bits.toInt(this.writeData))}this.readData1=(0,r.Bits)(this.registers[r.Bits.toNumber(this.readReg1)],32),this.readData2=(0,r.Bits)(this.registers[r.Bits.toNumber(this.readReg2)],32)}},e.InstructionMemory=class{constructor(){this.address=[],this.instruction=[],this.data=new i.Memory(2n**32n)}tick(){this.instruction=(0,r.Bits)(this.data.loadWord(r.Bits.toInt(this.address)),32)}},e.InstructionSplitter=class{constructor(){this.instruction=[],this.opCode=[],this.rd=[],this.funct3=[],this.rs1=[],this.rs2=[],this.funct7=[]}tick(){this.opCode=this.instruction.slice(0,7),this.rd=this.instruction.slice(7,12),this.funct3=this.instruction.slice(12,15),this.rs1=this.instruction.slice(15,20),this.rs2=this.instruction.slice(20,25),this.funct7=this.instruction.slice(25,32)}};class u{constructor(){this.funct3=[],this.size=[],this.signed=0}tick(){[this.size,this.signed]=u.table.match(this.funct3)}}e.MemoryControl=u,u.table=new o.TruthTable([[["000"],[r.b`00`,1]],[["001"],[r.b`01`,1]],[["010"],[r.b`10`,1]],[["100"],[r.b`00`,0]],[["101"],[r.b`01`,0]],[["XXX"],[r.b`00`,0]]]);class d{constructor(){this.memRead=0,this.memWrite=0,this.address=[],this.writeData=[],this.size=[],this.signed=0,this.readData=[],this.data=new i.Memory(2n**32n)}tick(){if(this.memRead&&this.memWrite)throw Error("Only memRead or memWrite allowed");let t=d.table.match(this.size);if(this.readData=(0,r.Bits)(0n,32),this.memRead){let e=this.data.load(r.Bits.toInt(this.address),t),n=(0,r.Bits)(e,8*t);this.readData=r.Bits.extended(n,32,Boolean(this.signed))}else if(this.memWrite){let e=this.writeData.slice(0,8*t);this.data.store(r.Bits.toInt(this.address),t,r.Bits.toInt(e))}}}e.DataMemory=d,d.table=new o.TruthTable([[["00"],1],[["01"],2],[["10"],4]]),e.JumpControl=class{constructor(){this.branchZero=0,this.branchNotZero=0,this.jump=0,this.zero=0,this.takeBranch=0}tick(){this.takeBranch=+(this.jump||this.branchZero&&this.zero||this.branchNotZero&&!this.zero)}},e.BranchAdder=class{constructor(){this.in1=[],this.in2=[],this.result=[]}tick(){let t=r.Bits.toInt(this.in1,!0)+r.Bits.toInt(this.in2,!0);this.result=(0,r.Bits)(t,33,!0).slice(0,32),this.result[0]=0}},e.And=class{constructor(){this.in=[],this.out=0}tick(){this.out=+this.in.every((t=>t))}},e.Or=class{constructor(){this.in=[],this.out=0}tick(){this.out=+this.in.some((t=>t))}},e.Not=class{constructor(){this.in=0,this.out=0}tick(){this.out=+!this.in}},e.Mux=class{constructor(t){this.in=[],this.select=[],this.out=[],this.size=t}tick(){this.out=this.in[r.Bits.toNumber(this.select)]}}},9687:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.opcodes=e.registers=e.registerNames=void 0;const i=n(7610);e.registerNames=["zero","ra","sp","gp","tp","t0","t1","t2","s0","s1","a0","a1","a2","a3","a4","a5","a6","a7","s2","s3","s4","s5","s6","s7","s8","s9","s10","s11","t3","t4","t5","t6"],e.registers={...Object.fromEntries(e.registerNames.map(((t,e)=>[t,e]))),...Object.fromEntries([...Array(32)].map(((t,e)=>[`x${e}`,e])))},e.opcodes={lui:[i.b`0110111`,i.b``,i.b``],jal:[i.b`1101111`,i.b``,i.b``],beq:[i.b`1100011`,i.b`000`,i.b``],bne:[i.b`1100011`,i.b`001`,i.b``],blt:[i.b`1100011`,i.b`100`,i.b``],bge:[i.b`1100011`,i.b`101`,i.b``],bltu:[i.b`1100011`,i.b`110`,i.b``],bgeu:[i.b`1100011`,i.b`111`,i.b``],sb:[i.b`0100011`,i.b`000`,i.b``],sh:[i.b`0100011`,i.b`001`,i.b``],sw:[i.b`0100011`,i.b`010`,i.b``],jalr:[i.b`1100111`,i.b`000`,i.b``],lb:[i.b`0000011`,i.b`000`,i.b``],lh:[i.b`0000011`,i.b`001`,i.b``],lw:[i.b`0000011`,i.b`010`,i.b``],lbu:[i.b`0000011`,i.b`100`,i.b``],lhu:[i.b`0000011`,i.b`101`,i.b``],addi:[i.b`0010011`,i.b`000`,i.b``],slti:[i.b`0010011`,i.b`010`,i.b``],sltiu:[i.b`0010011`,i.b`011`,i.b``],xori:[i.b`0010011`,i.b`100`,i.b``],ori:[i.b`0010011`,i.b`110`,i.b``],andi:[i.b`0010011`,i.b`111`,i.b``],slli:[i.b`0010011`,i.b`001`,i.b`0000000`],srli:[i.b`0010011`,i.b`101`,i.b`0000000`],srai:[i.b`0010011`,i.b`101`,i.b`0100000`],add:[i.b`0110011`,i.b`000`,i.b`0000000`],sub:[i.b`0110011`,i.b`000`,i.b`0100000`],sll:[i.b`0110011`,i.b`001`,i.b`0000000`],slt:[i.b`0110011`,i.b`010`,i.b`0000000`],sltu:[i.b`0110011`,i.b`011`,i.b`0000000`],xor:[i.b`0110011`,i.b`100`,i.b`0000000`],srl:[i.b`0110011`,i.b`101`,i.b`0000000`],sra:[i.b`0110011`,i.b`101`,i.b`0100000`],or:[i.b`0110011`,i.b`110`,i.b`0000000`],and:[i.b`0110011`,i.b`111`,i.b`0000000`]}},969:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Memory=void 0,e.Memory=class{constructor(t){this.size=t,this.size=t,this.data=new Map}load(t,e){let n=BigInt(e);if(t<0n||t+n>this.size)throw Error(`Memory address ${t} out of range for ${e} bytes.`);let i=0n;for(let e=n-1n;e>=0;e--)i=i<<8n|(this.data.get(t+e)??0n);return i}store(t,e,n){let i=BigInt(e);if(t<0n||t+i>this.size)throw Error(`Memory address ${t} out of range for ${e} bytes.`);if(n<0n||n>=2n**(8n*i))throw Error(`${n} is invalid. Expected a positive integer that fits in ${e} bytes.`);for(let e=0n;e<i;e++)this.data.set(t+e,0xffn&n),n>>=8n}loadByte(t){return this.load(t,1)}storeByte(t,e){this.store(t,1,e)}loadHalfWord(t){return this.load(t,2)}storeHalfWord(t,e){this.store(t,2,e)}loadWord(t){return this.load(t,4)}storeWord(t,e){this.store(t,4,e)}loadDoubleWord(t){return this.load(t,8)}storeDoubleWord(t,e){this.store(t,8,e)}loadArray(t,e,n){let i=Array(n);for(let r=0;r<n;r++)i[r]=this.load(t+BigInt(e*r),e);return i}storeArray(t,e,n){for(let[i,r]of n.entries())this.store(t+BigInt(e*i),e,r)}*dump(t=8,e=4){let n=BigInt(Math.ceil(Math.log2(t))),i=BigInt(t),r=[...this.data.keys()].map((t=>t>>n<<n));r=[...new Set(r)],r.sort(((t,e)=>t<e?-1:t>e?1:0));let o=r.map((e=>[e,this.load(e,t)])).filter((([t,e])=>0n!=e));o.push([this.size,0n]);let s=-i;for(let[t,n]of o){let r=(t-s)/i-1n;if(r>=e)yield[[s+i,t-i],0n];else if(r>0)for(let e=s+i;e<t;e+=i)yield[e,0n];t<this.size&&(yield[t,n],s=t)}}toString(t=8,e=!0){let n=(this.size-1n).toString(16).length,i=t=>`0x${t.toString(16).toUpperCase().padStart(n,"0")}`,r=[];for(let[n,o]of this.dump(t)){let s=e?`0x${o.toString(16).toUpperCase().padStart(2*t,"0")}`:o.toString();"bigint"==typeof n?r.push(`${i(n)}: ${s}`):r.push(`${i(n[0])} - ${i(n[1])}: ${s}`)}return r.join("\n")}}},5261:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Simulator=void 0;const s=n(7610),a=o(n(8551));class l{constructor(t=[],e={}){this.code=[],this.pc=new a.PC,this.instrMem=new a.InstructionMemory,this.instrSplit=new a.InstructionSplitter,this.memControl=new a.MemoryControl,this.dataMem=new a.DataMemory,this.regFile=new a.RegisterFile,this.control=new a.Control,this.immGen=new a.ImmGen,this.aluControl=new a.ALUControl,this.alu=new a.ALU,this.pcAdd4=new a.ALU,this.jalrMux=new a.Mux(2),this.branchAdder=new a.BranchAdder,this.jumpControl=new a.JumpControl,this.pcMux=new a.Mux(2),this.aluInputMux=new a.Mux(2),this.writeSrcMux=new a.Mux(3),this.pc.data=l.textStart,this.setRegisters({2:0xbffffff0n,3:0x10008000n}),this.setCode(t),this.setRegisters(e),this.pc.in=(0,s.Bits)(l.textStart,32),this.regFile.regWrite=0}setCode(t){this.code=[...t],this.instrMem.data.storeArray(l.textStart,4,t)}setRegisters(t){for(let e in t){if(t[e]<0)throw Error("setRegisters() expects unsigned integers.");if("0"==e&&0n!=t[e])throw Error("Can't set zero register.");this.regFile.registers[e]=t[e]}}tick(){return this.pc.tick(),(this.pc.data-l.textStart)/4n>=this.code.length?(this.regFile.tick(),!1):(this.instrMem.address=this.pc.out,this.instrMem.tick(),this.instrSplit.instruction=this.instrMem.instruction,this.instrSplit.tick(),this.control.opCode=this.instrSplit.opCode,this.control.funct3=this.instrSplit.funct3,this.control.tick(),this.regFile.readReg1=this.instrSplit.rs1,this.regFile.readReg2=this.instrSplit.rs2,this.regFile.tick(),this.immGen.instruction=this.instrMem.instruction,this.immGen.tick(),this.aluControl.aluOp=this.control.aluOp,this.aluControl.funct3=this.instrSplit.funct3,this.aluControl.funct7=this.instrSplit.funct7,this.aluControl.tick(),this.aluInputMux.in[0]=this.regFile.readData2,this.aluInputMux.in[1]=this.immGen.immediate,this.aluInputMux.select=[this.control.aluSrc],this.aluInputMux.tick(),this.alu.in1=this.regFile.readData1,this.alu.in2=this.aluInputMux.out,this.alu.aluControl=this.aluControl.aluControl,this.alu.tick(),this.memControl.funct3=this.instrSplit.funct3,this.memControl.tick(),this.dataMem.address=this.alu.result,this.dataMem.writeData=this.regFile.readData2,this.dataMem.memRead=this.control.memRead,this.dataMem.memWrite=this.control.memWrite,this.dataMem.signed=this.memControl.signed,this.dataMem.size=this.memControl.size,this.dataMem.tick(),this.pcAdd4.aluControl=s.b`0010`,this.pcAdd4.in1=this.pc.out,this.pcAdd4.in2=(0,s.Bits)(4n,32),this.pcAdd4.tick(),this.jalrMux.in[0]=this.pc.out,this.jalrMux.in[1]=this.regFile.readData1,this.jalrMux.select=[this.control.jalr],this.jalrMux.tick(),this.branchAdder.in1=this.jalrMux.out,this.branchAdder.in2=this.immGen.immediate,this.branchAdder.tick(),this.branchAdder.result[0]=0,this.jumpControl.branchZero=this.control.branchZero,this.jumpControl.branchNotZero=this.control.branchNotZero,this.jumpControl.jump=this.control.jump,this.jumpControl.zero=this.alu.zero,this.jumpControl.tick(),this.pcMux.in[0]=this.pcAdd4.result,this.pcMux.in[1]=this.branchAdder.result,this.pcMux.select=[this.jumpControl.takeBranch],this.pcMux.tick(),this.writeSrcMux.in[0]=this.alu.result,this.writeSrcMux.in[1]=this.dataMem.readData,this.writeSrcMux.in[2]=this.pcAdd4.result,this.writeSrcMux.select=this.control.writeSrc,this.writeSrcMux.tick(),this.pc.in=this.pcMux.out,this.regFile.regWrite=this.control.regWrite,this.regFile.writeData=this.writeSrcMux.out,this.regFile.writeReg=this.instrSplit.rd,!0)}run(){for(;this.tick(););}}e.Simulator=l,l.textStart=0x00000000n},3217:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.datapathElements=e.intToAll=void 0;const i=n(9687),r=n(7610),o=n(8125),s=n(9575);function a(t,e=32){return[["Hex","hex"],["Unsigned","unsigned"],["Signed","signed"]].map((([n,i])=>`${n}: ${(0,s.intToStr)(t,i,e)}`)).join("<br/>")}e.intToAll=a;const l=new o.TruthTable([[["0110011"],"R-format"],[["0010011"],"I-format"],[["0000011"],"ld"],[["0100011"],"st"],[["1100011"],"branch"],[["1100111"],"jalr"],[["1101111"],"jal"],[["0110111"],"lui"]]),c=new o.TruthTable([[["000"],"load/store"],[["001"],"branch"],[["010"],"R-type"],[["011"],"I-type"],[["100"],"LUI"]]),u=new o.TruthTable([[["0000"],"AND"],[["0001"],"OR"],[["0010"],"Add"],[["0110"],"Sub"],[["0111"],"Set on less than"],[["1111"],"Set on less than unsigned"],[["1000"],"Shift left logical"],[["1001"],"Shift right logical"],[["1011"],"Shift right arithmetic"],[["1100"],"XOR"],[["1101"],"Load upper immediate"]]),d=new o.TruthTable([[["0000"],(t,e)=>`${(0,s.intToStr)(t,"hex")} AND ${(0,s.intToStr)(e,"hex")}`],[["0001"],(t,e)=>`${(0,s.intToStr)(t,"hex")} OR ${(0,s.intToStr)(e,"hex")}`],[["0010"],(t,e)=>`${(0,s.intToStr)(t,"signed")} + ${(0,s.intToStr)(e,"signed")}`],[["0110"],(t,e)=>`${(0,s.intToStr)(t,"signed")} - ${(0,s.intToStr)(e,"signed")}`],[["0111"],(t,e)=>`${(0,s.intToStr)(t,"signed")} < ${(0,s.intToStr)(e,"signed")}`],[["1111"],(t,e)=>`${(0,s.intToStr)(t,"unsigned")} < ${(0,s.intToStr)(e,"unsigned")}`],[["1000"],(t,e)=>`${(0,s.intToStr)(t,"hex")} << ${(0,s.intToStr)(e,"unsigned")}`],[["1001"],(t,e)=>`${(0,s.intToStr)(t,"hex")} >>> ${(0,s.intToStr)(e,"unsigned")}`],[["1011"],(t,e)=>`${(0,s.intToStr)(t,"hex")} >> ${(0,s.intToStr)(e,"unsigned")}`],[["1100"],(t,e)=>`${(0,s.intToStr)(t,"hex")} XOR ${(0,s.intToStr)(e,"hex")}`],[["1101"],(t,e)=>`LUI ${(0,s.intToStr)(t,"hex")}`]]),h=new o.TruthTable([[["00"],"ALU result"],[["01"],"memory result"],[["10"],"PC + 4"]]);e.datapathElements={pc:{description:"The program counter stores the address of the current instruction.",tooltip:t=>`Current Instruction: ${(0,s.intToStr)(t.pc.data,"hex")}`},instrMem:{description:"Stores the program.",onclick:t=>$("#instrMem-tab").tab("show")},control:{description:"Tells the rest of the processor what to do."},regFile:{description:"Stores the 32 registers.",onclick:t=>$("#regFile-tab").tab("show")},immGen:{description:"Extracts the sign-extended immediate from the instruction."},aluControl:{description:"Tells the ALU which operation to preform."},aluInputMux:{description:"Switches between source register 2 or the immediate value.",showSubElemsByValue:t=>(0,s.intToStr)(t.aluInputMux.select,"unsigned")},alu:{description:"Does arithmetic on two values.",tooltip:t=>d.match(t.alu.aluControl)(t.alu.in1,t.alu.in2)},dataMem:{description:"Stores the data the program is working with.",onclick:t=>$("#dataMem-tab").tab("show")},pcAdd4:{description:"Increment PC to the next instruction."},jalrMux:{description:"Switch between PC or source register 1. JALR sets the PC to a register plus an immediate.",showSubElemsByValue:t=>(0,s.intToStr)(t.jalrMux.select,"unsigned")},branchAdder:{description:"Calculate the target address of a branch or jump."},jumpControl:{description:"Determine whether a branch should be taken or not."},pcMux:{description:"Switch between PC + 4 or the branch target.",showSubElemsByValue:t=>(0,s.intToStr)(t.pcMux.select,"unsigned")},writeSrcMux:{description:"Switch between ALU result, memory read data, or PC + 4.",showSubElemsByValue:t=>(0,s.intToStr)(t.writeSrcMux.select,"unsigned")},"pc-out":{tooltip:t=>(0,s.intToStr)(t.pc.out,"hex"),label:t=>(0,s.intToStr)(t.pc.out,"hex")},"instrMem-instruction":{tooltip:t=>(0,s.intToStr)(t.instrMem.instruction,"hex"),label:t=>(0,s.intToStr)(t.instrMem.instruction,"hex")},"instrMem-instruction-opcode":{description:"The opcode of the instruction.",tooltip:t=>`${(0,s.intToStr)(t.instrSplit.opCode,"bin")} (${l.match(t.instrSplit.opCode)})`,label:t=>(0,s.intToStr)(t.instrSplit.opCode,"bin")},"instrMem-instruction-rd":{description:"The register to write.",tooltip:t=>`${(0,s.intToStr)(t.instrSplit.rd,"unsigned")} (${i.registerNames[r.Bits.toNumber(t.instrSplit.rd)]})`,label:t=>(0,s.intToStr)(t.instrSplit.rd,"unsigned")},"instrMem-instruction-funct3":{description:"More bits to determine the instruction.",tooltip:t=>`${(0,s.intToStr)(t.instrSplit.funct3,"bin")}`,label:t=>(0,s.intToStr)(t.instrSplit.funct3,"bin")},"instrMem-instruction-rs1":{description:"The first register to read.",tooltip:t=>`${(0,s.intToStr)(t.instrSplit.rs1,"unsigned")} (${i.registerNames[r.Bits.toNumber(t.instrSplit.rs1)]})`,label:t=>(0,s.intToStr)(t.instrSplit.rs1,"unsigned")},"instrMem-instruction-rs2":{description:"The second register to read.",tooltip:t=>`${(0,s.intToStr)(t.instrSplit.rs2,"unsigned")} (${i.registerNames[r.Bits.toNumber(t.instrSplit.rs2)]})`,label:t=>(0,s.intToStr)(t.instrSplit.rs2,"unsigned")},"instrMem-instruction-funct7":{description:"More bits to determine the instruction.",tooltip:t=>`${(0,s.intToStr)(t.instrSplit.funct7,"bin")}`,label:t=>(0,s.intToStr)(t.instrSplit.funct7,"bin")},"control-regWrite":{description:"Whether to write the register file.",hideDescriptionWhenRunning:!0,tooltip:t=>`${t.control.regWrite} (${t.control.regWrite?"write register file":"don't write register file"})`,powered:t=>0!=t.control.regWrite},"control-aluSrc":{description:"Whether to use source register 2 or the immediate.",tooltip:t=>`${t.control.aluSrc} (${t.control.aluSrc?"use immediate":"use register"})`,powered:t=>0!=t.control.aluSrc},"control-memWrite":{description:"Whether to write memory.",hideDescriptionWhenRunning:!0,tooltip:t=>`${t.control.memWrite} (${t.control.memWrite?"write memory":"don't write memory"})`,powered:t=>0!=t.control.memWrite},"control-aluOp":{description:"What type of instruction this is. ALU Control will determine the exact ALU operation to use.",tooltip:t=>`${(0,s.intToStr)(t.control.aluOp,"bin")} (${c.match(t.control.aluOp)})`,powered:t=>0n!=r.Bits.toInt(t.control.aluOp),label:t=>(0,s.intToStr)(t.control.aluOp,"bin")},"control-writeSrc":{description:"What to write to the register file.",hideDescriptionWhenRunning:!0,tooltip:t=>`${(0,s.intToStr)(t.control.writeSrc,"unsigned")} (write ${h.match(t.control.writeSrc)} to register)`,powered:t=>0n!=r.Bits.toInt(t.control.writeSrc),label:t=>(0,s.intToStr)(t.control.writeSrc,"unsigned")},"control-memRead":{description:"Whether to read from memory.",hideDescriptionWhenRunning:!0,tooltip:t=>`${t.control.memRead} (${t.control.memRead?"read memory":"don't read memory"})`,powered:t=>0!=t.control.memRead},"control-branchZero":{description:"Whether to branch when ALU result is zero.",hideDescriptionWhenRunning:!0,tooltip:t=>`${t.control.branchZero} (${t.control.branchZero?"branch on zero":"don't branch on zero"})`,powered:t=>0!=t.control.branchZero},"control-branchNotZero":{description:"Whether to branch when ALU result is not zero.",hideDescriptionWhenRunning:!0,tooltip:t=>`${t.control.branchNotZero} (${t.control.branchNotZero?"branch on not zero":"don't branch on not zero"})`,powered:t=>0!=t.control.branchNotZero},"control-jump":{description:"Unconditionally jump.",hideDescriptionWhenRunning:!0,tooltip:t=>`${t.control.jump} (${t.control.jump?"do jump":"don't jump"})`,powered:t=>0!=t.control.jump},"control-jalr":{description:"Jump to a register + immediate.",tooltip:t=>`${t.control.jalr} (${t.control.jalr?"do jump register":"don't jump register"})`,powered:t=>0!=t.control.jalr},"immGen-immediate":{tooltip:t=>a(t.immGen.immediate),label:t=>(0,s.intToStr)(t.immGen.immediate,"signed")},"regFile-readData1":{tooltip:t=>a(t.regFile.readData1),label:t=>(0,s.intToStr)(t.regFile.readData1,"signed")},"regFile-readData2":{tooltip:t=>a(t.regFile.readData2),label:t=>(0,s.intToStr)(t.regFile.readData2,"signed")},"aluControl-aluControl":{description:"What operation for the ALU to preform.",tooltip:t=>`${(0,s.intToStr)(t.aluControl.aluControl,"bin")} (${u.match(t.aluControl.aluControl)})`,label:t=>(0,s.intToStr)(t.aluControl.aluControl,"bin")},"aluInputMux-out":{tooltip:t=>a(t.aluInputMux.out)},"alu-result":{tooltip:t=>a(t.alu.result),label:t=>(0,s.intToStr)(t.alu.result,"signed")},"alu-zero":{description:"Whether the ALU result was zero.",hideDescriptionWhenRunning:!0,tooltip:t=>`${t.alu.zero} (ALU result was ${t.alu.zero?"zero":"not zero"})`,powered:t=>0!=t.alu.zero},literalFour:{tooltip:t=>"4"},"pcAdd4-result":{tooltip:t=>(0,s.intToStr)(t.pcAdd4.result,"hex"),label:t=>(0,s.intToStr)(t.pcAdd4.result,"hex")},"branchAdder-result":{tooltip:t=>(0,s.intToStr)(t.branchAdder.result,"hex"),label:t=>(0,s.intToStr)(t.branchAdder.result,"hex")},"jumpControl-takeBranch":{description:"Whether to take the branch or not.",hideDescriptionWhenRunning:!0,tooltip:t=>`${t.jumpControl.takeBranch} (${t.jumpControl.takeBranch?"take branch":"don't take branch"})`,powered:t=>0!=t.jumpControl.takeBranch},"dataMem-readData":{tooltip:t=>a(t.dataMem.readData)},"pcMux-out":{tooltip:t=>(0,s.intToStr)(t.pcMux.out,"hex"),label:t=>(0,s.intToStr)(t.pcMux.out,"hex")},"writeSrcMux-out":{tooltip:t=>a(t.writeSrcMux.out),label:t=>(0,s.intToStr)(t.writeSrcMux.out,"hex")},"jalrMux-out":{tooltip:t=>(0,s.intToStr)(t.jalrMux.out,"hex")}}},9711:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.examples=void 0,e.examples=[{name:"Blank",description:"Clear the code, registers, and memory"},{name:"Bubble Sort",description:"The bubble sort algorithm",url:n(6157),dataMemRadix:"signed",regFileRadix:"signed",memory:[7,3,1,5,1,5,10,0,-5,-2].join("\n"),registers:{10:"0",11:"10"}},{name:"Selection Sort",description:"The selection sort algorithm",url:n(9799),dataMemRadix:"signed",regFileRadix:"signed",memory:[7,3,1,5,1,5,10,0,-5,-2].join("\n"),registers:{10:"0",11:"10"}}]},2173:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VisualSim=e.hexLine=void 0;const a=n(5261),l=n(9687),c=n(8602),u=n(9575),d=n(9711),h=n(3217),f=s(n(9755)),p=s(n(4631));n(8386),n(464),n(2776);const m=o(n(5088));n(3751);const g=s(n(8901));function v(t,e,n=0n){let i=n+BigInt((t-1)*e);return(0,u.intToStr)(i,"hex")}e.hexLine=v,e.VisualSim=class{constructor(){this.datapathElements={},this.examples=[],this.state="unstarted",this.playing=0,this.sim=new a.Simulator,this.examples=d.examples,this.datapathElements=h.datapathElements,this.svg=(0,f.default)("#datapath svg")[0],this.editors=(0,f.default)("#editors")[0],this.instrMemPanel=(0,f.default)("#instrMem-panel")[0],this.dataMemPanel=(0,f.default)("#dataMem-panel")[0],this.regFilePanel=(0,f.default)("#regFile-panel")[0],this.instrMemEditor=p.default.fromTextArea((0,f.default)(this.instrMemPanel).find(".editor textarea")[0],{mode:"riscv",lineNumbers:!0}),this.dataMemEditor=p.default.fromTextArea((0,f.default)(this.dataMemPanel).find(".editor textarea")[0],{lineNumbers:!0});for(let[t,e]of l.registerNames.entries())(0,f.default)(this.regFilePanel).find(".editor tbody").append(`\n                <tr> <td>${e} (x${t})</td> <td><input type="text"></td> </tr>\n            `);(0,f.default)(this.regFilePanel).find(".editor input").eq(0).prop("disabled",!0),this.examples.forEach((t=>(0,f.default)("#examples .dropdown-menu").append((0,f.default)(`<li>\n                <a class="dropdown-item" href="#" data-example-name="${t.name}"\n                   data-bs-toggle="tooltip" title="${t.description}">${t.name}</a>\n               </li>`)))),this.setupEvents(),this.setupDatapath(),this.update()}error(t){g.default.error(t.replace(/\n/g,"<br/>"))}dataMemRadix(){return(0,f.default)("#dataMem-radix").val()}dataMemWordSize(){return+(0,f.default)("#dataMem-word-size").val()}regFileRadix(){return(0,f.default)("#regFile-radix").val()}speed(){return 1/2**+(0,f.default)("#speed").val()*1e3}setupEvents(){(0,f.default)("#editor-tabs").on("shown.bs.tab",(t=>{let e=(0,f.default)((0,f.default)(t.target).data("bs-target")).find(".CodeMirror")[0];e&&e.CodeMirror.refresh()})),(0,f.default)(this.regFilePanel).on("change","input",(t=>this.updateEditorsAndViews())),(0,f.default)("#dataMem-radix, #dataMem-word-size, #regFile-radix").on("change",(t=>this.updateEditorsAndViews())),(0,f.default)("#examples").on("click",".dropdown-item",(t=>{this.loadExample(t.target.dataset.exampleName),t.preventDefault()})),(0,f.default)("#play").on("click",(t=>this.play())),(0,f.default)("#pause").on("click",(t=>this.pause())),(0,f.default)("#speed").on("change",(t=>this.updatePlaySpeed())),(0,f.default)("#step").on("click",(t=>this.step())),(0,f.default)("#restart").on("click",(t=>this.restart()))}generateDynamicSvgCss(){let t=(0,f.default)(this.svg).find(".wire").not("marker .wire").get(),e=[...new Set(t.map((t=>{let e=(0,f.default)(t).css("stroke-width");return(0,f.default)(t).attr("data-stroke-width",e),e})))].map((t=>`\n            .wires:hover .wire[data-stroke-width="${t}"], .wire[data-stroke-width="${t}"]:hover {\n                stroke-width: calc(${t} * 1.5) !important\n            }\n        `)),n=["start","mid","end"],i=new Set(t.flatMap((t=>n.map((e=>{let n=(0,f.default)(t).css(`marker-${e}`).trim().match(/url\(\s*"?.*?#(.+?)"?\s*\)/)?.[1];return n&&"none"!=n?((0,f.default)(t).attr(`data-marker-${e}`,n),n):""})).filter((t=>t))))),r=[...i].flatMap((t=>n.map((e=>`\n            .powered.wire[data-marker-${e}="${t}"] {\n                marker-${e}: url("#${t}-powered") !important\n            }\n        `))));i.forEach((t=>(0,f.default)(`#${t}`).clone().attr("id",`${t}-powered`).addClass("powered").insertAfter(`#${t}`)));let o=[...e,...r],s=(0,f.default)("<style>").addClass("dynamic-styles").prependTo(this.svg)[0];(0,f.default)(s).text(o.join("\n"))}setupDatapath(){for(let[t,e]of Object.entries(this.datapathElements)){let n=(0,f.default)(this.svg).find(`#${t}`);if(!n.length)throw Error(`${t} doesn't exist`);if(e.powered&&!n.hasClass("wire")&&!n.find(".wire").length)throw Error(`#${t} has powered defined, but no ".wire" elements`);if((e.description||e.tooltip)&&(0,m.default)(n[0],{followCursor:!0,allowHTML:!0,maxWidth:"20em",plugins:[m.followCursor]}),e.onclick){let t=e.onclick;n.on("click",(e=>t(this)))}if(e.label&&!n.find("text.value-label").length)throw Error(`#${t} has label defined, but no ".value-label" elements`);if(e.showSubElemsByValue&&!n.find("[data-show-on-value]").length)throw Error(`#${t} has showSubElemsByValue defined, but no "[data-show-on-value]" elements`)}this.generateDynamicSvgCss()}start(){let t=this.instrMemEditor.getValue();try{var e=(0,c.assembleKeepLineInfo)(t)}catch(t){return this.error(`Couldn't parse code:\n${t.message}`),!1}if(0===e.length)return this.error("Please enter some code to run."),!1;let n=t.split("\n"),i=e.map((([t,e])=>n[t-1].trim())),r=e.map((([t,e])=>e)),o=this.dataMemRadix(),s=this.dataMemWordSize(),d=this.dataMemEditor.getValue().trim();try{var h=d.split("\n").filter((t=>t)).map((t=>(0,u.parseInt)(t,o,s)))}catch(t){return this.error(`Couldn't parse data memory:\n${t.message}`),!1}let p=this.regFileRadix(),m=(0,f.default)(this.regFilePanel).find(".editor input").get().map((t=>(0,f.default)(t).val()));try{var g={};for(let[t,e]of m.entries())e&&(g[t]=(0,u.parseInt)(e,p,32))}catch(t){return this.error(`Couldn't parse registers:\n${t.message}`),!1}this.sim.setCode(r),this.sim.setRegisters(g),this.sim.dataMem.data.storeArray(0n,s/8,h);let v=(0,f.default)(this.instrMemPanel).find(".view tbody");v.empty();for(let[t,e]of r.entries()){let n=i[t],r=a.Simulator.textStart+BigInt(4*t);v.append(`\n                <tr> <td>${(0,u.intToStr)(r,"hex")}</td> <td>${(0,u.intToStr)(e,"hex")}</td> <td>${n}</td> </tr>\n            `)}let b=(0,f.default)(this.regFilePanel).find(".view tbody");if(0==b.children().length)for(let[t,e]of l.registerNames.entries())b.append(`\n                    <tr> <td>${e} (x${t})</td> <td class="register-value"></td> </tr>\n                `);return(0,f.default)(this.editors).find(".editor").hide(),(0,f.default)(this.editors).find(".view").show(),this.state="running",!0}updateControls(){(0,f.default)("#play").prop("disabled","done"==this.state),(0,f.default)("#play").toggle(!this.playing),(0,f.default)("#pause").toggle(!!this.playing),(0,f.default)("#step").toggle(!this.playing),(0,f.default)("#step").prop("disabled",this.playing||"done"==this.state),(0,f.default)("#restart").toggle("unstarted"!=this.state),(0,f.default)("#speed").toggle(!!this.playing)}updateEditorsAndViews(){let t=this.dataMemRadix(),e=this.dataMemWordSize(),n=this.regFileRadix();if("unstarted"==this.state){this.dataMemEditor.setOption("lineNumberFormatter",(t=>v(t,e/8)));let t=(0,f.default)(this.regFilePanel).find(".editor input").get();for(let[e,i]of this.sim.regFile.registers.entries()){(0,f.default)(t[e]).prop("placeholder",(0,u.intToStr)(i,n));let r=(0,f.default)(t[e]).val();if(r){try{r=(0,u.intToStr)((0,u.parseInt)(r,n,32),n)}catch{r=""}(0,f.default)(t[e]).val(r)}}}else{if((0,f.default)(this.instrMemPanel).find(".current-instruction").removeClass("current-instruction"),"done"!=this.state){let t=Number((this.sim.pc.data-a.Simulator.textStart)/4n),e=(0,f.default)(this.instrMemPanel).find(".view tbody tr")[t];e.classList.add("current-instruction"),e.scrollIntoView({behavior:"smooth",block:"nearest"})}(0,f.default)(this.dataMemPanel).find(".view tbody").empty();for(let[n,i]of this.sim.dataMem.data.dump(e/8)){let r;r="bigint"==typeof n?`<tr> <td>${(0,u.intToStr)(n,"hex")}</td> <td>${(0,u.intToStr)(i,t,e)}</td> </tr>`:'<tr><td colspan="2">...</td></tr>',(0,f.default)(this.dataMemPanel).find(".view tbody").append(r)}let i=(0,f.default)(this.regFilePanel).find(".view .register-value").get();for(let[t,e]of this.sim.regFile.registers.entries())(0,f.default)(i[t]).text(`${(0,u.intToStr)(e,n)}`)}}updateDatapath(){let t="running"==this.state;(0,f.default)(this.svg).find(".hide-when-running").toggle(!t),(0,f.default)(this.svg).find(".hide-when-not-running").toggle(t);for(let[e,n]of Object.entries(this.datapathElements)){let i=(0,f.default)(this.svg).find(`#${e}`);if(n.description||n.tooltip){let e=i[0]._tippy,r=t&&n.tooltip?n.tooltip(this.sim):void 0,o=[t&&n.hideDescriptionWhenRunning?void 0:n.description,r].filter((t=>t)).join("<hr/>");e.setContent(o),o?e.enable():(e.hide(),e.disable())}if(t&&n.powered&&n.powered(this.sim)?i.filter(".wire").add(i.find(".wire")).addClass("powered"):i.filter(".wire").add(i.find(".wire")).removeClass("powered"),n.label){let e=t?n.label(this.sim):"";i.find(".value-label").each(((t,n)=>{let i=(0,f.default)(n).find("tspan")[0]??n;(0,f.default)(i).text(e)}))}if(n.showSubElemsByValue&&(i.find("[data-show-on-value]").hide(),t)){let t=n.showSubElemsByValue(this.sim);i.find(`[data-show-on-value="${t}"]`).show()}n.callback&&n.callback(this)}}update(){this.updateControls(),this.updateEditorsAndViews(),this.updateDatapath()}play(){this.step()&&this.updatePlaySpeed()}updatePlaySpeed(){this.playing&&this.pause(),this.playing=window.setInterval((()=>{this.step()||this.pause()}),this.speed()),this.updateControls()}pause(){clearInterval(this.playing),this.playing=0,this.updateControls()}step(){if("unstarted"==this.state&&this.start(),"running"==this.state)try{this.sim.tick()||(this.state="done")}catch(t){this.state="done",this.error(`Error in simulation:\n${t.message}`),console.error(t)}return this.update(),"running"==this.state}restart(){this.sim=new a.Simulator,this.state="unstarted",this.playing&&this.pause(),(0,f.default)(this.editors).find(".view").hide(),(0,f.default)(this.editors).find(".editor").show(),this.instrMemEditor.refresh(),this.dataMemEditor.refresh(),this.update()}reset(t){this.restart(),this.instrMemEditor.setValue(t?.code??""),this.dataMemEditor.setValue(t?.memory??""),(0,f.default)("#dataMem-radix").val(t?.dataMemRadix??"hex"),(0,f.default)("#dataMem-word-size").val(t?.dataMemWordSize??32),(0,f.default)("#regFile-radix").val(t?.regFileRadix??"hex"),(0,f.default)(this.regFilePanel).find(".editor input").each(((e,n)=>{(0,f.default)(n).val(t?.registers?.[e]??"")})),this.update()}async loadExample(t){let e=this.examples.find((e=>e.name===t));!e.code&&e.url&&(e.code=await(await fetch(e.url)).text()),this.reset(e)}}},7610:(t,e)=>{"use strict";function n(t,e,n){if("object"==typeof t){if(null!=e||null!=n)throw Error("Invalid arguments to Bits()");return t.slice().reverse()}if("string"==typeof t){if(null!=e||null!=n)throw Error("Invalid arguments to Bits()");return function(t){if(!t.match(/^[01 _]*$/))throw Error(`Invalid bit string "${t}"`);return t=t.replace(/[ _]/g,""),[...t].map((t=>Number(t))).reverse()}(t)}if("bigint"==typeof t||"number"==typeof t){if(null==e)throw Error("Invalid arguments to Bits()");return function(t,e,n=!1){"number"==typeof t&&(t=BigInt(t));let i=BigInt(e),[r,o]=n?[-(2n**(i-1n)),2n**(i-1n)-1n]:[0,2n**i-1n];if(t<r||t>o)throw Error(`${t} is invalid. Expected a ${n?"":"un"}signed integer that fits in ${e} bits.`);let s=Array(e);for(let n=0;n<e;n++)s[n]=Number(0x1n&t),t>>=1n;return s}(t,e,n)}throw Error("Invalid arguments to Bits()")}Object.defineProperty(e,"__esModule",{value:!0}),e.toTwosComplement=e.fromTwosComplement=e.b=e.Bits=void 0,e.Bits=n,e.b=function(t){return n(t[0])},function(t){t.toInt=function(t,e=!1){let n=e&&t[t.length-1];n&&(t=t.map((t=>+!t)));let i=0n;for(let e=t.length-1;e>=0;e--)i<<=1n,t[e]&&(i|=0x1n);return n&&(i=-(i+1n)),i},t.toNumber=function(e,n=!1){return Number(t.toInt(e,n))},t.extended=function(t,e,n=!1){let i=n?t[t.length-1]:0,r=Array(e-t.length).fill(i);return t.concat(r)},t.msb0=function(t){return t.slice().reverse()},t.toString=function(e){return t.msb0(e).join("")},t.equal=function(e,n){return"string"!=typeof e&&(e=t.toString(e)),"string"!=typeof n&&(n=t.toString(n)),e==n},t.join=function(...e){return t([]).concat(...e.reverse())}}(n=e.Bits||(e.Bits={})),e.fromTwosComplement=function(t,e=32){let n=BigInt(e);return t>=1n<<n-1n&&(t-=1n<<n),t},e.toTwosComplement=function(t,e=32){return t<0&&(t+=1n<<BigInt(e)),t}},9575:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intToStr=e.parseInt=void 0;const i=n(7610);e.parseInt=function(t,e,n){try{if("hex"==e)var r=BigInt(/^0[xb]/.test(t)?t:`0x${t}`);else r="bin"==e?BigInt(/^0[xb]/.test(t)?t:`0b${t}`):"signed"==e?(0,i.toTwosComplement)(BigInt(t),n):BigInt(t);if(r<0n||r>=2n**BigInt(n))throw Error()}catch{throw Error(`"${t}" is invalid. Expected a ${n} bit ${e} integer.`)}return r},e.intToStr=function(t,e,n){return t instanceof Array?(n=n??t.length,t=i.Bits.toInt(t)):n=n??32,"hex"==e?"0x"+t.toString(16).toUpperCase().padStart(Math.ceil(n/4),"0"):"bin"==e?"0b"+t.toString(2).padStart(n,"0"):"signed"==e?(0,i.fromTwosComplement)(t,n).toString():t.toString()}},8125:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TruthTable=void 0;const i=n(7610);class r{constructor(t){this.table=[];for(let[e,n]of t){let t=e.map((t=>[...t].reverse().map((t=>"X"==t?null:Number(t)))));this.table.push([t,n])}}static matchInput(t,e){if(t.length!=e.length)throw Error("Size mismatch in TruthTable");for(let n=0;n<t.length;n++)if(null!=e[n]&&e[n]!=t[n])return!1;return!0}match(...t){for(let[e,n]of this.table)if(e.every(((e,n)=>r.matchInput(t[n],e))))return n;throw Error(`No match for inputs [${t.map((t=>`"${i.Bits.toString(t)}"`)).join(", ")}] in truth table.`)}}e.TruthTable=r},2776:(t,e,n)=>{"use strict";n.r(e);var i=n(4631),r=n.n(i);r().defineMode("riscv",(function(t,e){function n(t,e){return new RegExp("^(?:"+t.join("|")+")$",e)}var i=n(["add","addi","and","andi","auipc","beq","bge","bgeu","blt","bltu","bne","div","divu","ecall","jal","jalr","lb","lbu","lh","lhu","lui","lw","mul","mulh","mulhsu","mulhu","or","ori","rem","remu","sb","sh","sll","slli","slt","slti","sltiu","sltu","srai","srl","srli","sub","sw","xor","xori","beqz","bgez","bgt","bgtu","bgtz","ble","bleu","blez","bltz","bnez","call","jal","jalr","j","jr","la","lb","lbu","lh","lhu","li","lw","mv","neg","nop","ret","not","ret","sb","seqz","sgtz","sh","sltz","snez","sw","tail","seq","sge","sgeu","sgt","sgtu","sle","sleu","sne"],"i"),r=n(["x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","x16","x17","x18","x19","x20","x21","x22","x23","x24","x25","x26","x27","x28","x29","x30","x31","zero","ra","sp","gp","tp","t0","t1","t2","s0","s1","a0","a1","a2","a3","a4","a5","a6","a7","s2","s3","s4","s5","s6","s7","s8","s9","s10","s11","t3","t4","t5","t6"],""),o=n([".data",".text",".globl",".float",".double",".asciiz",".word",".byte"],"i");function s(t,e){var n,i=t.next();return"#"==i?(t.skipToEnd(),"comment"):'"'==i||"'"==i?(e.cur=(n=i,function(t,e){for(var i,r=!1;null!=(i=t.next())&&(i!=n||r);)r=!r&&"\\"==i;return r||(e.cur=s),"string"}),e.cur(t,e)):/\d/.test(i)?(t.eatWhile(/[\w.%]/),"number"):/[.\w_]/.test(i)?(t.eatWhile(/[\w\\\-_.]/),"variable"):null}return{startState:function(t){return{basecol:t||0,indentDepth:0,cur:s}},token:function(t,e){if(t.eatSpace())return null;var n=e.cur(t,e),s=t.current();return"variable"==n&&(o.test(s)?n="keyword":i.test(s)?n="builtin":r.test(s)&&(n="variable-2")),n}}})),r().registerHelper("lint","riscv",(function(t){for(var e,n,i=[],o=window.venus_main.venus.assembler.Linter.lint(t),s=0;s<o.length;s++)void 0,n=(e=o[s]).lineNumber,i.push({from:r().Pos(n-1,0),to:r().Pos(n,0),severity:"error",message:e.message});return i}))},6157:(t,e,n)=>{"use strict";t.exports=n.p+"assembly/bubbleSort-9381773e87ce5cb9a9e1.s"},9799:(t,e,n)=>{"use strict";t.exports=n.p+"assembly/selectionSort-473b27144f53a3d352d2.s"},5647:(t,e,n)=>{"use strict";t.exports=n.p+"datapath-47dd644c0c26fbe1eb45.svg"}},t=>{t(t.s=3607)}]);
//# sourceMappingURL=main.bundle.js.map